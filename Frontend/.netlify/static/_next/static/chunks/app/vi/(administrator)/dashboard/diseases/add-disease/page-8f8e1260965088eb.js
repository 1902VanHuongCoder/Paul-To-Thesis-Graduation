(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2847],{4596:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var i=s(52596),n=s(39688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,i.$)(t))}},5845:(e,t,s)=>{"use strict";s.d(t,{i:()=>o});var i,n=s(12115),l=s(52712),a=(i||(i=s.t(n,2)))[" useInsertionEffect ".trim().toString()]||l.N;function o({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){let[l,o,r]=function({defaultProp:e,onChange:t}){let[s,i]=n.useState(e),l=n.useRef(s),o=n.useRef(t);return a(()=>{o.current=t},[t]),n.useEffect(()=>{l.current!==s&&(o.current?.(s),l.current=s)},[s,l]),[s,i,o]}({defaultProp:t,onChange:s}),d=void 0!==e,c=d?e:l;{let t=n.useRef(void 0!==e);n.useEffect(()=>{let e=t.current;if(e!==d){let t=d?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=d},[d,i])}return[c,n.useCallback(t=>{if(d){let s="function"==typeof t?t(e):t;s!==e&&r.current?.(s)}else o(t)},[d,e,o,r])]}Symbol("RADIX:SYNC_STATE")},6101:(e,t,s)=>{"use strict";s.d(t,{s:()=>a,t:()=>l});var i=s(12115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let s=!1,i=e.map(e=>{let i=n(e,t);return s||"function"!=typeof i||(s=!0),i});if(s)return()=>{for(let t=0;t<i.length;t++){let s=i[t];"function"==typeof s?s():n(e[t],null)}}}}function a(...e){return i.useCallback(l(...e),e)}},16184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deleteAImage:()=>a,deleteMultipleImages:()=>o,uploadMultipleImages:()=>l,uploadSingleImage:()=>n});var i=s(20858);let n=async e=>{try{let t=new FormData;t.append("file",e);let s=await fetch("".concat(i.p,"/api/upload"),{method:"POST",body:t});if(!s.ok)throw Error("Failed to upload file: ".concat(s.statusText));let n=await s.json();return n.url||n.path}catch(e){throw console.error("Error uploading file:",e),e}},l=async e=>{try{let t=new FormData;e.forEach(e=>t.append("files",e));let s=await fetch("".concat(i.p,"/api/upload/multiple"),{method:"POST",body:t});if(!s.ok)throw Error("Failed to upload files: ".concat(s.statusText));return(await s.json()).files.map(e=>e.url)}catch(e){throw console.error("Error uploading files:",e),e}},a=async e=>{try{let t=await fetch("".concat(i.p,"/api/upload/single-delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok)throw Error("Failed to delete file: ".concat(t.statusText))}catch(e){throw console.error("Error deleting file:",e),e}},o=async e=>{try{let t=await fetch("".concat(i.p,"/api/upload/multi-delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)throw Error("Failed to delete files: ".concat(t.statusText))}catch(e){throw console.error("Error deleting files:",e),e}}},19946:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var i=s(12115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),a=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},r=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,i.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:c="",children:u,iconNode:f,...b}=e;return(0,i.createElement)("svg",{ref:t,...d,width:n,height:n,stroke:s,strokeWidth:a?24*Number(l)/Number(n):l,className:o("lucide",c),...!u&&!r(b)&&{"aria-hidden":"true"},...b},[...f.map(e=>{let[t,s]=e;return(0,i.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,i.forwardRef)((s,l)=>{let{className:r,...d}=s;return(0,i.createElement)(c,{ref:l,iconNode:t,className:o("lucide-".concat(n(a(e))),"lucide-".concat(e),r),...d})});return s.displayName=a(e),s}},20858:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});let i="https://paul-to-thesis-graduation-1.onrender.com"},39033:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});var i=s(12115);function n(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}},46081:(e,t,s)=>{"use strict";s.d(t,{A:()=>a,q:()=>l});var i=s(12115),n=s(95155);function l(e,t){let s=i.createContext(t),l=e=>{let{children:t,...l}=e,a=i.useMemo(()=>l,Object.values(l));return(0,n.jsx)(s.Provider,{value:a,children:t})};return l.displayName=e+"Provider",[l,function(n){let l=i.useContext(s);if(l)return l;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function a(e,t=[]){let s=[],l=()=>{let t=s.map(e=>i.createContext(e));return function(s){let n=s?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...s,[e]:n}}),[s,n])}};return l.scopeName=e,[function(t,l){let a=i.createContext(l),o=s.length;s=[...s,l];let r=t=>{let{scope:s,children:l,...r}=t,d=s?.[e]?.[o]||a,c=i.useMemo(()=>r,Object.values(r));return(0,n.jsx)(d.Provider,{value:c,children:l})};return r.displayName=t+"Provider",[r,function(s,n){let r=n?.[e]?.[o]||a,d=i.useContext(r);if(d)return d;if(void 0!==l)return l;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=s.reduce((t,{useScope:s,scopeName:i})=>{let n=s(e)[`__scope${i}`];return{...t,...n}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return s.scopeName=t.scopeName,s}(l,...t)]}},51386:(e,t,s)=>{"use strict";s.d(t,{Pd:()=>a,ZJ:()=>l,_C:()=>r,el:()=>o,fP:()=>n});var i=s(20858);let n=async()=>{let e=await fetch("".concat(i.p,"/api/disease"));if(!e.ok)throw Error("Failed to fetch diseases");return e.json()},l=async e=>{let t=await fetch("".concat(i.p,"/api/disease/").concat(e));if(!t.ok)throw Error("Failed to fetch disease");return t.json()},a=async e=>{let{userID:t,diseaseName:s,diseaseEnName:n,ricePathogen:l,symptoms:a,images:o}=e,r=await fetch("".concat(i.p,"/api/disease"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,diseaseName:s,diseaseEnName:n,ricePathogen:l,symptoms:a,images:o})});if(!r.ok)throw Error("Failed to create disease");return r.json()},o=async(e,t)=>{let s=await fetch("".concat(i.p,"/api/disease/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to update disease");return s.json()},r=async e=>{let t=await fetch("".concat(i.p,"/api/disease/").concat(e),{method:"DELETE"}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to delete disease");return{message:s.message,status:t.status}}},52712:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var i=s(12115),n=globalThis?.document?i.useLayoutEffect:()=>{}},54372:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>r,av:()=>d,j7:()=>o,tU:()=>a});var i=s(95155);s(12115);var n=s(38944),l=s(4596);function a(e){let{className:t,...s}=e;return(0,i.jsx)(n.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",t),...s})}function o(e){let{className:t,...s}=e;return(0,i.jsx)(n.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function r(e){let{className:t,...s}=e;return(0,i.jsx)(n.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function d(e){let{className:t,...s}=e;return(0,i.jsx)(n.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",t),...s})}},60013:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>V});var i=s(95155),n=s(11518),l=s.n(n),a=s(12115),o=s(62177),r=s(75109),d=s(24932),c=s(66766),u=s(54372),f=s(9727),b=s(19144),h=s(17240),m=s(40224),x=s(3417),p=s(38164),v=s(28440),j=s(22705),g=s(92406),y=s(76047),N=s(21852),A=s(79973),k=s(15968),w=s(89140),C=s(50142),T=s(18860),z=s(92138),E=s(35169),L=s(65112),I=s(12324),S=s(62525),R=s(57330),P=s(3428),H=s(82218),O=s(58832),D=s(39881),B=s(87325),U=s(67733),_=s(88702),M=s(27213),$=s(87712),F=s(74126),J=s(89179),X=s(13568),q=s(16184),W=s(51386),G=s(35695);function V(){let e=(0,G.useRouter)(),{register:t,handleSubmit:s,reset:n,setValue:V,getValues:Z,formState:{errors:K}}=(0,o.mN)(),[Q,Y]=(0,a.useState)([]),[ee,et]=(0,a.useState)(!1),[es,ei]=(0,a.useState)(""),{user:en}=(0,J.J)(),el=(0,r.hG)({extensions:[d.A],content:"<p>Nhập triệu chứng bệnh ở đ\xe2y...</p>"}),ea=async t=>{et(!0),ei("");try{let s=[];t.images&&t.images.length>0&&(s=await (0,q.uploadMultipleImages)(Array.from(t.images))),await (0,W.Pd)({userID:(null==en?void 0:en.userID)||"",diseaseName:t.diseaseName,diseaseEnName:t.diseaseEnName,ricePathogen:t.ricePathogen,symptoms:(null==el?void 0:el.getHTML())||"",images:s})?(X.Ay.success("Th\xeam bệnh th\xe0nh c\xf4ng!"),n(),Y([]),null==el||el.commands.setContent("<p>Nhập triệu chứng bệnh ở đ\xe2y...</p>"),e.push("/vi/dashboard/diseases")):X.Ay.error("Th\xeam bệnh thất bại!")}catch(e){X.Ay.error("Lỗi khi th\xeam bệnh.")}finally{et(!1)}};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Th\xeam Mới Bệnh L\xfaa"}),(0,i.jsxs)("form",{onSubmit:s(ea),children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"T\xean bệnh"}),(0,i.jsx)("input",{type:"text",...t("diseaseName",{required:!0}),className:"w-full border px-3 py-2 rounded"}),K.diseaseName&&(0,i.jsx)("span",{className:"text-red-500",children:"T\xean bệnh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"T\xean tiếng Anh"}),(0,i.jsx)("input",{type:"text",...t("diseaseEnName",{required:!0}),className:"w-full border px-3 py-2 rounded"}),K.diseaseEnName&&(0,i.jsx)("span",{className:"text-red-500",children:"T\xean tiếng Anh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"T\xe1c nh\xe2n g\xe2y bệnh"}),(0,i.jsx)("input",{type:"text",...t("ricePathogen",{required:!0}),className:"w-full border px-3 py-2 rounded"}),K.ricePathogen&&(0,i.jsx)("span",{className:"text-red-500",children:"T\xe1c nh\xe2n g\xe2y bệnh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 mb-4 col-span-2",children:[(0,i.jsx)("label",{className:"jsx-7ffdb793fdba2d74 font-medium mb-1 block text-sm",children:"Triệu chứng"}),(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 border rounded-lg bg-white dark:bg-gray-800",children:[(0,i.jsxs)(u.tU,{defaultValue:"text",className:"mb-2 border-b p-4",children:[(0,i.jsxs)(u.j7,{className:"flex gap-2 px-1 mb-4",children:[(0,i.jsx)(u.Xi,{value:"text",children:"Văn bản"}),(0,i.jsx)(u.Xi,{value:"heading",children:"Ti\xeau đề"}),(0,i.jsx)(u.Xi,{value:"list",children:"Danh s\xe1ch"}),(0,i.jsx)(u.Xi,{value:"table",children:"Bảng"}),(0,i.jsx)(u.Xi,{value:"align",children:"Căn lề"}),(0,i.jsx)(u.Xi,{value:"insert",children:"Ch\xe8n"})]}),(0,i.jsx)(u.av,{value:"text",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-4 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bold",onClick:()=>null==el?void 0:el.chain().focus().toggleBold().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("bold"))?"is-active":"")||""),children:[(0,i.jsx)(f.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"In đậm"})]}),(0,i.jsxs)("button",{type:"button",title:"Italic",onClick:()=>null==el?void 0:el.chain().focus().toggleItalic().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("italic"))?"is-active":"")||""),children:[(0,i.jsx)(b.A,{size:16})," ",(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"In nghi\xeang"})]}),(0,i.jsxs)("button",{type:"button",title:"Underline",onClick:()=>null==el?void 0:el.chain().focus().toggleUnderline().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("underline"))?"is-active":"")||""),children:[(0,i.jsx)(h.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Gạch ch\xe2n"})]}),(0,i.jsxs)("button",{type:"button",title:"Blockquote",onClick:()=>null==el?void 0:el.chain().focus().toggleBlockquote().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("blockquote"))?"is-active":"")||""),children:[(0,i.jsx)(m.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Tr\xedch"})]}),(0,i.jsxs)("button",{type:"button",title:"Code Block",onClick:()=>null==el?void 0:el.chain().focus().toggleCodeBlock().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("codeBlock"))?"is-active":"")||""),children:[(0,i.jsx)(x.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Khối code"})]}),(0,i.jsxs)("button",{type:"button",title:"Link",onClick:()=>{let e=prompt("Enter URL");e&&(null==el||el.chain().focus().setLink({href:e}).run())},className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("link"))?"is-active":"")||""),children:[(0,i.jsx)(p.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Li\xean kết"})]})]})}),(0,i.jsx)(u.av,{value:"heading",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"H1",onClick:()=>null==el?void 0:el.chain().focus().toggleHeading({level:1}).run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("heading",{level:1}))?"is-active":"")||""),children:(0,i.jsx)(v.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H2",onClick:()=>null==el?void 0:el.chain().focus().toggleHeading({level:2}).run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("heading",{level:2}))?"is-active":"")||""),children:(0,i.jsx)(j.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H3",onClick:()=>null==el?void 0:el.chain().focus().toggleHeading({level:3}).run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("heading",{level:3}))?"is-active":"")||""),children:(0,i.jsx)(g.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H4",onClick:()=>null==el?void 0:el.chain().focus().toggleHeading({level:4}).run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("heading",{level:4}))?"is-active":"")||""),children:(0,i.jsx)(y.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H5",onClick:()=>null==el?void 0:el.chain().focus().toggleHeading({level:5}).run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("heading",{level:5}))?"is-active":"")||""),children:(0,i.jsx)(N.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H6",onClick:()=>null==el?void 0:el.chain().focus().toggleHeading({level:6}).run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("heading",{level:6}))?"is-active":"")||""),children:(0,i.jsx)(A.A,{size:18})})]})}),(0,i.jsx)(u.av,{value:"list",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Bullet List",onClick:()=>null==el?void 0:el.chain().focus().toggleBulletList().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("bulletList"))?"is-active":"")||""),children:(0,i.jsx)(k.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Ordered List",onClick:()=>null==el?void 0:el.chain().focus().toggleOrderedList().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("orderedList"))?"is-active":"")||""),children:(0,i.jsx)(w.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Task List",onClick:()=>null==el?void 0:el.chain().focus().toggleTaskList().run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive("taskList"))?"is-active":"")||""),children:(0,i.jsx)(C.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Split List Item",onClick:()=>null==el?void 0:el.chain().focus().splitListItem("listItem").run(),disabled:!(null==el?void 0:el.can().splitListItem("listItem")),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(T.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink List Item",onClick:()=>null==el?void 0:el.chain().focus().sinkListItem("listItem").run(),disabled:!(null==el?void 0:el.can().sinkListItem("listItem")),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift List Item",onClick:()=>null==el?void 0:el.chain().focus().liftListItem("listItem").run(),disabled:!(null==el?void 0:el.can().liftListItem("listItem")),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(E.A,{size:16})})]})}),(0,i.jsx)(u.av,{value:"table",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Insert Table",onClick:()=>null==el?void 0:el.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(L.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column Before",onClick:()=>null==el?void 0:el.chain().focus().addColumnBefore().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(I.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column After",onClick:()=>null==el?void 0:el.chain().focus().addColumnAfter().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(I.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Column",onClick:()=>null==el?void 0:el.chain().focus().deleteColumn().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(S.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row Before",onClick:()=>null==el?void 0:el.chain().focus().addRowBefore().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(R.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row After",onClick:()=>null==el?void 0:el.chain().focus().addRowAfter().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(R.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Row",onClick:()=>null==el?void 0:el.chain().focus().deleteRow().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(S.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Table",onClick:()=>null==el?void 0:el.chain().focus().deleteTable().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(S.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge Cells",onClick:()=>null==el?void 0:el.chain().focus().mergeCells().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Cell",onClick:()=>null==el?void 0:el.chain().focus().splitCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(T.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Column",onClick:()=>null==el?void 0:el.chain().focus().toggleHeaderColumn().run(),className:"jsx-7ffdb793fdba2d74",children:"1"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Row",onClick:()=>null==el?void 0:el.chain().focus().toggleHeaderRow().run(),className:"jsx-7ffdb793fdba2d74",children:"2"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Cell",onClick:()=>null==el?void 0:el.chain().focus().toggleHeaderCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(H.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge or Split",onClick:()=>null==el?void 0:el.chain().focus().mergeOrSplit().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Set Cell Attribute",onClick:()=>null==el?void 0:el.chain().focus().setCellAttribute("colspan",2).run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(I.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Fix Tables",onClick:()=>null==el?void 0:el.chain().focus().fixTables().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(L.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Next Cell",onClick:()=>null==el?void 0:el.chain().focus().goToNextCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(O.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Previous Cell",onClick:()=>null==el?void 0:el.chain().focus().goToPreviousCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(D.A,{size:16})})]})}),(0,i.jsx)(u.av,{value:"align",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Align Left",onClick:()=>null==el?void 0:el.chain().focus().setTextAlign("left").run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive({textAlign:"left"}))?"is-active":"")||""),children:(0,i.jsx)(B.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Center",onClick:()=>null==el?void 0:el.chain().focus().setTextAlign("center").run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive({textAlign:"center"}))?"is-active":"")||""),children:(0,i.jsx)(U.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Right",onClick:()=>null==el?void 0:el.chain().focus().setTextAlign("right").run(),className:"jsx-7ffdb793fdba2d74 "+(((null==el?void 0:el.isActive({textAlign:"right"}))?"is-active":"")||""),children:(0,i.jsx)(_.A,{size:16})})]})}),(0,i.jsx)(u.av,{value:"insert",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsxs)("label",{title:"Image",className:"jsx-7ffdb793fdba2d74",children:[(0,i.jsx)(M.A,{size:16}),(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let i=URL.createObjectURL(s);null==el||el.chain().focus().setImage({src:i}).run()},className:"jsx-7ffdb793fdba2d74"})]}),(0,i.jsx)("button",{type:"button",title:"Horizontal Rule",onClick:()=>null==el?void 0:el.chain().focus().setHorizontalRule().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)($.A,{size:16})})]})})]}),(0,i.jsx)(r.$Z,{editor:el,className:"tiptap-content min-h-[300px] p-3 focus:outline-none rounded-br-md rounded-bl-md focus:border-none"})]}),(0,i.jsx)(l(),{id:"7ffdb793fdba2d74",children:".tiptap-content:focus,.tiptap-content:focus-visible,.tiptap-content *:focus,.tiptap-content *:focus-visible{outline:none!important;border:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.is-active{background-color:#e9e9e9;color:#000;border-color:#2563eb;padding:.2rem .5rem;-webkit-border-radius:-webkit-calc(var(--radius) - 2px);-moz-border-radius:-moz-calc(var(--radius) - 2px);border-radius:-webkit-calc(var(--radius) - 2px);border-radius:-moz-calc(var(--radius) - 2px);border-radius:calc(var(--radius) - 2px)}"})]}),(0,i.jsxs)("div",{className:"mb-4 col-span-2",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"H\xecnh ảnh bệnh"}),(0,i.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4 text-center cursor-pointer bg-gray-50 hover:bg-gray-100 transition",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/"));if(t.length>0){let e=new DataTransfer;t.forEach(t=>e.items.add(t)),V("images",e.files),Y(t.map(e=>URL.createObjectURL(e)))}},onClick:()=>{var e;null==(e=document.getElementById("product-image-input"))||e.click()},children:[(0,i.jsx)("input",{id:"product-image-input",type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:e=>{let t=Array.from(e.target.files||[]).filter(e=>e.type.startsWith("image/")),s=[...Array.from(Z("images")||[]),...t],i=new DataTransfer;s.forEach(e=>i.items.add(e)),V("images",i.files),Y(s.map(e=>URL.createObjectURL(e)))}}),(0,i.jsx)("div",{className:"text-gray-500",children:"K\xe9o v\xe0 thả ảnh v\xe0o đ\xe2y hoặc bấm để chọn ảnh"}),Q.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-4 justify-center",children:Q.map((e,t)=>(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsx)(c.default,{width:96,height:96,src:e,alt:"preview-".concat(t),className:"w-24 h-24 object-cover rounded border"}),(0,i.jsx)("button",{type:"button",className:"absolute top-1 right-1 bg-white bg-opacity-80 rounded-full p-1 text-xs text-red-600 shadow group-hover:opacity-100 opacity-80",onClick:e=>{e.stopPropagation(),Y(Q.filter((e,s)=>s!==t));let s=Array.from(Z("images")||[]);s.splice(t,1);let i=new DataTransfer;s.forEach(e=>i.items.add(e)),V("images",i.files)},children:(0,i.jsx)(F.A,{className:"w-4 h-4"})})]},t))})]})]}),(0,i.jsx)("button",{type:"submit",disabled:ee,className:"px-6 py-2 rounded bg-primary text-white font-semibold",children:ee?"Đang th\xeam...":"Th\xeam bệnh"}),es&&(0,i.jsx)("div",{className:"mt-4 text-center text-green-600",children:es})]})]})}},61285:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var i,n=s(12115),l=s(52712),a=(i||(i=s.t(n,2)))[" useId ".trim().toString()]||(()=>void 0),o=0;function r(e){let[t,s]=n.useState(a());return(0,l.N)(()=>{e||s(e=>e??String(o++))},[e]),e||(t?`radix-${t}`:"")}},74126:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},85185:(e,t,s)=>{"use strict";function i(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e?.(i),!1===s||!i.defaultPrevented)return t?.(i)}}s.d(t,{m:()=>i})},88501:(e,t,s)=>{Promise.resolve().then(s.bind(s,60013))},89179:(e,t,s)=>{"use strict";s.d(t,{J:()=>d,UserProvider:()=>r});var i=s(95155),n=s(35695),l=s(12115),a=s(13568);let o=(0,l.createContext)(void 0);function r(e){let{children:t}=e,s=(0,n.usePathname)(),r=(0,n.useRouter)(),[d,c]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("admin");s.includes("dashboard")&&t?c(JSON.parse(t)):e&&c(JSON.parse(e))},[s]),(0,i.jsx)(o.Provider,{value:{user:d,setUser:c,logout:()=>{c(null),localStorage.removeItem("user"),s.includes("dashboard")&&localStorage.removeItem("admin"),r.push("/"),a.Ay.success("Đăng xuất th\xe0nh c\xf4ng!")}},children:t})}function d(){let e=(0,l.useContext)(o);if(!e)throw Error("useUser must be used within a UserProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[5004,277,4277,3568,1350,6766,1193,2727,5692,3181,8441,1684,7358],()=>t(88501)),_N_E=e.O()}]);
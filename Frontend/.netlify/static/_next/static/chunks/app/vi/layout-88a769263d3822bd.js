(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3929],{3183:t=>{t.exports={style:{fontFamily:"'Itim', 'Itim Fallback'",fontWeight:400,fontStyle:"normal"},className:"__className_d947b8",variable:"__variable_d947b8"}},9681:(t,e,r)=>{"use strict";r.d(e,{WishlistProvider:()=>v,n:()=>d});var o=r(95155),a=r(12115),n=r(13568),i=r(89179),s=r(20858);let c=async t=>{let e=await fetch("".concat(s.p,"/api/wishlist/").concat(t));if(!e.ok)throw Error("Failed to fetch wishlist");return e.json()},u=async(t,e)=>{let r=await fetch("".concat(s.p,"/api/wishlist"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerID:t,productID:e})}),o=await r.json();return{status:r.status,message:o.message}},l=async(t,e)=>{let r=await fetch("".concat(s.p,"/api/wishlist"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerID:t,productID:e})});if(!r.ok)throw Error("Failed to remove from wishlist");return r.json()},h=(0,a.createContext)(void 0);function d(){let t=(0,a.useContext)(h);if(!t)throw Error("useWishlist must be used within a WishlistProvider");return t}function v(t){let{children:e}=t,{user:r}=(0,i.J)(),[s,d]=(0,a.useState)([]),v=async t=>{d(await c(t))},f=async(t,e)=>{try{let{message:r}=await u(t,e);await v(t),n.Ay.success(r)}catch(t){console.error("Error adding to wishlist:",t),n.Ay.error("Lỗi khi th\xeam v\xe0o danh s\xe1ch y\xeau th\xedch")}},p=async(t,e)=>{try{await l(t,e),await v(t)}catch(t){console.error("Error removing from wishlist:",t)}},m=async t=>{try{await m(t),d([])}catch(t){console.error("Error clearing wishlist:",t),n.Ay.error("Lỗi khi x\xf3a to\xe0n bộ danh s\xe1ch y\xeau th\xedch")}};return(0,a.useEffect)(()=>{r&&v(r.userID)},[r]),(0,o.jsx)(h.Provider,{value:{wishlists:s,fetchWishlist:v,addToWishlist:f,removeFromWishlist:p,clearWishlist:m,setWishlist:d},children:e})}},17038:(t,e,r)=>{"use strict";r.d(e,{LoadingProvider:()=>s,M:()=>i});var o=r(95155),a=r(12115);let n=(0,a.createContext)(void 0);function i(){let t=(0,a.useContext)(n);if(!t)throw Error("useLoading must be used within a LoadingProvider");return t}function s(t){let{children:e}=t,[r,i]=(0,a.useState)(!1);return(0,o.jsx)(n.Provider,{value:{loading:r,setLoading:i},children:e})}},20858:(t,e,r)=>{"use strict";r.d(e,{p:()=>o});let o="https://paul-to-thesis-graduation-1.onrender.com"},28474:(t,e,r)=>{"use strict";r.d(e,{DiagnoseProvider:()=>i,L:()=>s});var o=r(95155),a=r(12115);let n=(0,a.createContext)(void 0),i=t=>{let{children:e}=t,[r,i]=(0,a.useState)(null);return(0,o.jsx)(n.Provider,{value:{result:r,setResult:i},children:e})},s=()=>{let t=(0,a.useContext)(n);if(!t)throw Error("useDiagnoseContext must be used within a DiagnoseProvider");return t}},30347:()=>{},35695:(t,e,r)=>{"use strict";var o=r(18999);r.o(o,"useParams")&&r.d(e,{useParams:function(){return o.useParams}}),r.o(o,"usePathname")&&r.d(e,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(e,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(e,{useSearchParams:function(){return o.useSearchParams}})},39740:(t,e,r)=>{"use strict";r.d(e,{ChatProvider:()=>i,Y:()=>s});var o=r(95155),a=r(12115);let n=(0,a.createContext)(void 0),i=t=>{let{children:e}=t,[r,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)(null);return(0,o.jsx)(n.Provider,{value:{isChatOpen:r,openChat:()=>i(!0),closeChat:()=>i(!1),toggleChat:()=>i(t=>!t),joinedConversationID:s,setJoinedConversationID:c},children:e})},s=()=>{let t=(0,a.useContext)(n);if(!t)throw Error("useChat must be used within a ChatProvider");return t}},41283:(t,e,r)=>{"use strict";r.d(e,{DictionaryProvider:()=>u,K:()=>c});var o=r(95155),a=r(12115);let n={en:async()=>await r.e(1116).then(r.t.bind(r,1116,19)),vi:async()=>await r.e(8974).then(r.t.bind(r,88974,19))};async function i(t){let e=await n[t]();if(e.default){let{default:t,...r}=e;return{...t,...Object.fromEntries(Object.entries(r).filter(t=>{let[e]=t;return"default"!==e}))}}{let{default:t,...r}=e;return r}}let s=(0,a.createContext)(void 0);function c(){let t=(0,a.useContext)(s);if(!t)throw Error("useDictionary must be used within a DictionaryProvider");return t}function u(t){let{lang:e,children:r}=t,[n,c]=(0,a.useState)();return(0,a.useEffect)(()=>{i(e).then(c)},[e]),(0,o.jsx)(s.Provider,{value:{lang:e,dictionary:n},children:r})}},48925:t=>{t.exports={style:{fontFamily:"'Nunito Sans', 'Nunito Sans Fallback'"},className:"__className_0ea307",variable:"__variable_0ea307"}},65137:(t,e,r)=>{Promise.resolve().then(r.t.bind(r,48925,23)),Promise.resolve().then(r.t.bind(r,3183,23)),Promise.resolve().then(r.t.bind(r,30347,23)),Promise.resolve().then(r.bind(r,39740)),Promise.resolve().then(r.bind(r,93150)),Promise.resolve().then(r.bind(r,28474)),Promise.resolve().then(r.bind(r,41283)),Promise.resolve().then(r.bind(r,17038)),Promise.resolve().then(r.bind(r,69256)),Promise.resolve().then(r.bind(r,89179)),Promise.resolve().then(r.bind(r,9681))},69256:(t,e,r)=>{"use strict";r.d(e,{ShoppingCartProvider:()=>p,U:()=>f});var o=r(95155),a=r(12115),n=r(13568),i=r(89179),s=r(20858);let c=async t=>{let e=await fetch("".concat(s.p,"/api/shopping-cart/").concat(t));if(!e.ok)throw Error("Failed to fetch cart");return await e.json()},u=async(t,e,r)=>{let o=await fetch("".concat(s.p,"/api/shopping-cart"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productID:t,customerID:e,quantity:r})});if(!o.ok)throw Error("Failed to add to cart");return await o.json()},l=async(t,e,r)=>{let o=await fetch("".concat(s.p,"/api/shopping-cart/").concat(t,"/product/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({quantity:r})});if(!o.ok)throw Error("Failed to update cart");return await o.json()},h=async(t,e)=>{let r=await fetch("".concat(s.p,"/api/shopping-cart/").concat(t,"/product/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Failed to remove product from cart");return await r.json()},d=async t=>{let e=await fetch("".concat(s.p,"/api/shopping-cart/customer/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Failed to clear cart");return await e.json()},v=(0,a.createContext)(void 0);function f(){let t=(0,a.useContext)(v);if(!t)throw Error("useShoppingCart must be used within a ShoppingCartProvider");return t}function p(t){let{children:e}=t,{user:r}=(0,i.J)(),[s,f]=(0,a.useState)({cartID:0,totalQuantity:0,products:[]}),p=async t=>{try{let e=await c(t);f(e)}catch(t){throw console.error("Fetch cart error:",t),t}},m=async(t,e)=>{if(!r)return void n.Ay.error("Bạn cần đăng nhập để th\xeam sản phẩm v\xe0o giỏ h\xe0ng");try{let o=await u(t,r.userID,e);return p(r.userID),n.Ay.success("Th\xeam v\xe0o giỏ h\xe0ng th\xe0nh c\xf4ng"),o}catch(t){throw n.Ay.error("Th\xeam v\xe0o giỏ h\xe0ng thất bại!"),console.error("Add to cart error:",t),t}},w=async(t,e,o)=>{if(r)try{let a=await l(t,e,o);return p(r.userID),a}catch(t){throw console.error("Update cart error:",t),t}},y=async(t,e)=>{if(r)try{let o=await h(e,t);return p(r.userID),o}catch(t){throw console.error("Remove from cart error:",t),t}},g=async()=>{if(!r)return void n.Ay.error("Bạn cần đăng nhập để x\xf3a giỏ h\xe0ng");try{await d(r.userID),f({cartID:0,totalQuantity:0,products:[]}),n.Ay.success("Đ\xe3 x\xf3a tất cả sản phẩm khỏi giỏ h\xe0ng")}catch(t){throw console.error("Clear cart error:",t),t}};return(0,a.useEffect)(()=>{r&&p(r.userID)},[r]),(0,o.jsx)(v.Provider,{value:{cart:s,setCart:f,addToCart:m,removeFromCart:y,clearCart:g,updateCart:w,fetchCart:p},children:e})}},89179:(t,e,r)=>{"use strict";r.d(e,{J:()=>u,UserProvider:()=>c});var o=r(95155),a=r(35695),n=r(12115),i=r(13568);let s=(0,n.createContext)(void 0);function c(t){let{children:e}=t,r=(0,a.usePathname)(),c=(0,a.useRouter)(),[u,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let t=localStorage.getItem("user"),e=localStorage.getItem("admin");r.includes("dashboard")&&e?l(JSON.parse(e)):t&&l(JSON.parse(t))},[r]),(0,o.jsx)(s.Provider,{value:{user:u,setUser:l,logout:()=>{l(null),localStorage.removeItem("user"),r.includes("dashboard")&&localStorage.removeItem("admin"),c.push("/"),i.Ay.success("Đăng xuất th\xe0nh c\xf4ng!")}},children:e})}function u(){let t=(0,n.useContext)(s);if(!t)throw Error("useUser must be used within a UserProvider");return t}},93150:(t,e,r)=>{"use strict";r.d(e,{CheckoutProvider:()=>s,Q:()=>i});var o=r(95155),a=r(12115);let n=(0,a.createContext)(void 0);function i(){let t=(0,a.useContext)(n);if(!t)throw Error("useCheckout must be used within a CheckoutProvider");return t}function s(t){let{children:e}=t,[r,i]=(0,a.useState)();return(0,o.jsx)(n.Provider,{value:{checkoutData:r,setCheckoutData:i},children:e})}}},t=>{var e=e=>t(t.s=e);t.O(0,[2693,7690,3568,8441,1684,7358],()=>e(65137)),_N_E=t.O()}]);
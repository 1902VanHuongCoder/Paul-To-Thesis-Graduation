(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6918],{4596:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var i=s(52596),l=s(39688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,l.QP)((0,i.$)(t))}},5845:(e,t,s)=>{"use strict";s.d(t,{i:()=>o});var i,l=s(12115),n=s(52712),a=(i||(i=s.t(l,2)))[" useInsertionEffect ".trim().toString()]||n.N;function o({prop:e,defaultProp:t,onChange:s=()=>{},caller:i}){let[n,o,r]=function({defaultProp:e,onChange:t}){let[s,i]=l.useState(e),n=l.useRef(s),o=l.useRef(t);return a(()=>{o.current=t},[t]),l.useEffect(()=>{n.current!==s&&(o.current?.(s),n.current=s)},[s,n]),[s,i,o]}({defaultProp:t,onChange:s}),c=void 0!==e,d=c?e:n;{let t=l.useRef(void 0!==e);l.useEffect(()=>{let e=t.current;if(e!==c){let t=c?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=c},[c,i])}return[d,l.useCallback(t=>{if(c){let s="function"==typeof t?t(e):t;s!==e&&r.current?.(s)}else o(t)},[c,e,o,r])]}Symbol("RADIX:SYNC_STATE")},6101:(e,t,s)=>{"use strict";s.d(t,{s:()=>a,t:()=>n});var i=s(12115);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function n(...e){return t=>{let s=!1,i=e.map(e=>{let i=l(e,t);return s||"function"!=typeof i||(s=!0),i});if(s)return()=>{for(let t=0;t<i.length;t++){let s=i[t];"function"==typeof s?s():l(e[t],null)}}}}function a(...e){return i.useCallback(n(...e),e)}},16184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deleteAImage:()=>a,deleteMultipleImages:()=>o,uploadMultipleImages:()=>n,uploadSingleImage:()=>l});var i=s(20858);let l=async e=>{try{let t=new FormData;t.append("file",e);let s=await fetch("".concat(i.p,"/api/upload"),{method:"POST",body:t});if(!s.ok)throw Error("Failed to upload file: ".concat(s.statusText));let l=await s.json();return l.url||l.path}catch(e){throw console.error("Error uploading file:",e),e}},n=async e=>{try{let t=new FormData;e.forEach(e=>t.append("files",e));let s=await fetch("".concat(i.p,"/api/upload/multiple"),{method:"POST",body:t});if(!s.ok)throw Error("Failed to upload files: ".concat(s.statusText));return(await s.json()).files.map(e=>e.url)}catch(e){throw console.error("Error uploading files:",e),e}},a=async e=>{try{let t=await fetch("".concat(i.p,"/api/upload/single-delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok)throw Error("Failed to delete file: ".concat(t.statusText))}catch(e){throw console.error("Error deleting file:",e),e}},o=async e=>{try{let t=await fetch("".concat(i.p,"/api/upload/multi-delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)throw Error("Failed to delete files: ".concat(t.statusText))}catch(e){throw console.error("Error deleting files:",e),e}}},19946:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var i=s(12115);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),a=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},r=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,i.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:d="",children:u,iconNode:b,...f}=e;return(0,i.createElement)("svg",{ref:t,...c,width:l,height:l,stroke:s,strokeWidth:a?24*Number(n)/Number(l):n,className:o("lucide",d),...!u&&!r(f)&&{"aria-hidden":"true"},...f},[...b.map(e=>{let[t,s]=e;return(0,i.createElement)(t,s)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let s=(0,i.forwardRef)((s,n)=>{let{className:r,...c}=s;return(0,i.createElement)(d,{ref:n,iconNode:t,className:o("lucide-".concat(l(a(e))),"lucide-".concat(e),r),...c})});return s.displayName=a(e),s}},20858:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});let i="https://paul-to-thesis-graduation-1.onrender.com"},25672:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>W});var i=s(95155),l=s(11518),n=s.n(l),a=s(12115),o=s(35695),r=s(62177),c=s(51386),d=s(13568),u=s(75109),b=s(24932),f=s(54372),h=s(9727),x=s(19144),m=s(17240),p=s(40224),j=s(3417),v=s(38164),g=s(28440),y=s(22705),N=s(92406),k=s(76047),w=s(21852),A=s(79973),C=s(15968),E=s(89140),T=s(50142),z=s(18860),L=s(92138),I=s(35169),R=s(65112),S=s(12324),P=s(62525),H=s(57330),B=s(3428),D=s(82218),O=s(58832),_=s(39881),U=s(87325),M=s(67733),$=s(88702),F=s(27213),V=s(87712),X=s(74126),q=s(66766),J=s(16184);function W(){var e;let t=(0,o.useRouter)(),l=null!=(e=(0,o.useParams)().diseaseID)?e:new URLSearchParams(window.location.search).get("diseaseID"),W="string"==typeof l?Number(l):Array.isArray(l)?Number(l[0]):void 0,{register:Z,handleSubmit:G,setValue:K,getValues:Q,formState:{errors:Y}}=(0,r.mN)(),[ee,et]=(0,a.useState)([]),[es,ei]=(0,a.useState)(!1),[el,en]=(0,a.useState)(""),[ea,eo]=(0,a.useState)(null),er=(0,u.hG)({extensions:[b.A],content:"<p>Nhập triệu chứng bệnh ở đ\xe2y...</p>"});(0,a.useEffect)(()=>{let e=async()=>{ei(!0);try{let e=await (0,c.ZJ)(String(W));e&&(eo(e),K("diseaseName",e.diseaseName),K("diseaseEnName",e.diseaseEnName||""),K("ricePathogen",e.ricePathogen||""),K("symptoms",e.symptoms||""),null==er||er.commands.setContent(e.symptoms||"<p>Nhập triệu chứng bệnh ở đ\xe2y...</p>"),et(e.images||[]))}catch(e){d.oR.error("Kh\xf4ng t\xecm thấy th\xf4ng tin bệnh."),console.error("Error fetching disease:",e)}finally{ei(!1)}};W&&e()},[W,K,er]);let ec=e=>{et(ee.filter((t,s)=>s!==e));let t=Array.from(Q("images")||[]);t.splice(e,1);let s=new DataTransfer;t.forEach(e=>s.items.add(e)),K("images",s.files)},ed=async e=>{ei(!0),en("");try{let i=[],l=[];e.images&&e.images.length>0&&Array.from(e.images).forEach(e=>l.push(e));try{l.length>0&&(i=await (0,J.uploadMultipleImages)(l))}catch(e){console.error("Image upload failed:",e),en("Đ\xe3 xảy ra lỗi khi tải ảnh l\xean. Vui l\xf2ng thử lại."),ei(!1);return}let n=((null==ea?void 0:ea.images)||[]).filter(e=>ee.includes(e)),a=[...n,...i],o=((null==ea?void 0:ea.images)||[]).filter(e=>!n.includes(e));if(o.length>0)try{await Promise.resolve().then(s.bind(s,16184)).then(e=>e.deleteMultipleImages(o))}catch(e){console.error("Failed to delete old images:",e),en("Đ\xe3 xảy ra lỗi khi x\xf3a ảnh cũ. Vui l\xf2ng thử lại."),ei(!1);return}await (0,c.el)(Number(W),{diseaseName:e.diseaseName,diseaseEnName:e.diseaseEnName,ricePathogen:e.ricePathogen,symptoms:(null==er?void 0:er.getHTML())||"",images:a})?(d.oR.success("Cập nhật bệnh th\xe0nh c\xf4ng!"),t.push("/vi/dashboard/diseases")):d.oR.error("Cập nhật bệnh thất bại!")}catch(e){console.error("Error updating disease:",e),d.oR.error("Lỗi khi cập nhật bệnh.")}finally{ei(!1)}};return es?(0,i.jsx)("div",{children:"Đang tải..."}):(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9",children:[(0,i.jsx)("h1",{className:"jsx-b3b424cdf2749b9 text-2xl font-bold mb-4",children:"Cập Nhật Bệnh L\xfaa"}),(0,i.jsxs)("form",{onSubmit:G(ed),className:"jsx-b3b424cdf2749b9",children:[(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 mb-4",children:[(0,i.jsx)("label",{className:"jsx-b3b424cdf2749b9 block font-medium mb-1",children:"T\xean bệnh"}),(0,i.jsx)("input",{type:"text",...Z("diseaseName",{required:!0}),defaultValue:(null==ea?void 0:ea.diseaseName)||"",placeholder:(null==ea?void 0:ea.diseaseName)||"T\xean bệnh",className:"jsx-b3b424cdf2749b9 w-full border px-3 py-2 rounded"}),Y.diseaseName&&(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9 text-red-500",children:"T\xean bệnh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 mb-4",children:[(0,i.jsx)("label",{className:"jsx-b3b424cdf2749b9 block font-medium mb-1",children:"T\xean tiếng Anh"}),(0,i.jsx)("input",{type:"text",...Z("diseaseEnName",{required:!0}),defaultValue:(null==ea?void 0:ea.diseaseEnName)||"",placeholder:(null==ea?void 0:ea.diseaseEnName)||"T\xean tiếng Anh",className:"jsx-b3b424cdf2749b9 w-full border px-3 py-2 rounded"}),Y.diseaseEnName&&(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9 text-red-500",children:"T\xean tiếng Anh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 mb-4",children:[(0,i.jsx)("label",{className:"jsx-b3b424cdf2749b9 block font-medium mb-1",children:"T\xe1c nh\xe2n g\xe2y bệnh"}),(0,i.jsx)("input",{type:"text",...Z("ricePathogen",{required:!0}),defaultValue:(null==ea?void 0:ea.ricePathogen)||"",placeholder:(null==ea?void 0:ea.ricePathogen)||"T\xe1c nh\xe2n g\xe2y bệnh",className:"jsx-b3b424cdf2749b9 w-full border px-3 py-2 rounded"}),Y.ricePathogen&&(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9 text-red-500",children:"T\xe1c nh\xe2n g\xe2y bệnh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 mb-4 col-span-2",children:[(0,i.jsx)("label",{className:"jsx-b3b424cdf2749b9 font-medium mb-1 block text-sm",children:"Triệu chứng"}),(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 border rounded-lg bg-white dark:bg-gray-800",children:[(0,i.jsxs)(f.tU,{defaultValue:"text",className:"mb-2 border-b p-4",children:[(0,i.jsxs)(f.j7,{className:"flex gap-2 px-1 mb-4",children:[(0,i.jsx)(f.Xi,{value:"text",children:"Văn bản"}),(0,i.jsx)(f.Xi,{value:"heading",children:"Ti\xeau đề"}),(0,i.jsx)(f.Xi,{value:"list",children:"Danh s\xe1ch"}),(0,i.jsx)(f.Xi,{value:"table",children:"Bảng"}),(0,i.jsx)(f.Xi,{value:"align",children:"Căn lề"}),(0,i.jsx)(f.Xi,{value:"insert",children:"Ch\xe8n"})]}),(0,i.jsx)(f.av,{value:"text",children:(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 flex gap-4 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bold",onClick:()=>null==er?void 0:er.chain().focus().toggleBold().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("bold"))?"is-active":"")||""),children:[(0,i.jsx)(h.A,{size:16}),(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9",children:"In đậm"})]}),(0,i.jsxs)("button",{type:"button",title:"Italic",onClick:()=>null==er?void 0:er.chain().focus().toggleItalic().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("italic"))?"is-active":"")||""),children:[(0,i.jsx)(x.A,{size:16})," ",(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9",children:"In nghi\xeang"})]}),(0,i.jsxs)("button",{type:"button",title:"Underline",onClick:()=>null==er?void 0:er.chain().focus().toggleUnderline().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("underline"))?"is-active":"")||""),children:[(0,i.jsx)(m.A,{size:16}),(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9",children:"Gạch ch\xe2n"})]}),(0,i.jsxs)("button",{type:"button",title:"Blockquote",onClick:()=>null==er?void 0:er.chain().focus().toggleBlockquote().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("blockquote"))?"is-active":"")||""),children:[(0,i.jsx)(p.A,{size:16}),(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9",children:"Tr\xedch"})]}),(0,i.jsxs)("button",{type:"button",title:"Code Block",onClick:()=>null==er?void 0:er.chain().focus().toggleCodeBlock().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("codeBlock"))?"is-active":"")||""),children:[(0,i.jsx)(j.A,{size:16}),(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9",children:"Khối code"})]}),(0,i.jsxs)("button",{type:"button",title:"Link",onClick:()=>{let e=prompt("Enter URL");e&&(null==er||er.chain().focus().setLink({href:e}).run())},className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("link"))?"is-active":"")||""),children:[(0,i.jsx)(v.A,{size:16}),(0,i.jsx)("span",{className:"jsx-b3b424cdf2749b9",children:"Li\xean kết"})]})]})}),(0,i.jsx)(f.av,{value:"heading",children:(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"H1",onClick:()=>null==er?void 0:er.chain().focus().toggleHeading({level:1}).run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("heading",{level:1}))?"is-active":"")||""),children:(0,i.jsx)(g.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H2",onClick:()=>null==er?void 0:er.chain().focus().toggleHeading({level:2}).run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("heading",{level:2}))?"is-active":"")||""),children:(0,i.jsx)(y.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H3",onClick:()=>null==er?void 0:er.chain().focus().toggleHeading({level:3}).run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("heading",{level:3}))?"is-active":"")||""),children:(0,i.jsx)(N.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H4",onClick:()=>null==er?void 0:er.chain().focus().toggleHeading({level:4}).run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("heading",{level:4}))?"is-active":"")||""),children:(0,i.jsx)(k.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H5",onClick:()=>null==er?void 0:er.chain().focus().toggleHeading({level:5}).run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("heading",{level:5}))?"is-active":"")||""),children:(0,i.jsx)(w.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H6",onClick:()=>null==er?void 0:er.chain().focus().toggleHeading({level:6}).run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("heading",{level:6}))?"is-active":"")||""),children:(0,i.jsx)(A.A,{size:18})})]})}),(0,i.jsx)(f.av,{value:"list",children:(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Bullet List",onClick:()=>null==er?void 0:er.chain().focus().toggleBulletList().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("bulletList"))?"is-active":"")||""),children:(0,i.jsx)(C.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Ordered List",onClick:()=>null==er?void 0:er.chain().focus().toggleOrderedList().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("orderedList"))?"is-active":"")||""),children:(0,i.jsx)(E.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Task List",onClick:()=>null==er?void 0:er.chain().focus().toggleTaskList().run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive("taskList"))?"is-active":"")||""),children:(0,i.jsx)(T.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Split List Item",onClick:()=>null==er?void 0:er.chain().focus().splitListItem("listItem").run(),disabled:!(null==er?void 0:er.can().splitListItem("listItem")),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink List Item",onClick:()=>null==er?void 0:er.chain().focus().sinkListItem("listItem").run(),disabled:!(null==er?void 0:er.can().sinkListItem("listItem")),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(L.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift List Item",onClick:()=>null==er?void 0:er.chain().focus().liftListItem("listItem").run(),disabled:!(null==er?void 0:er.can().liftListItem("listItem")),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(I.A,{size:16})})]})}),(0,i.jsx)(f.av,{value:"table",children:(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Insert Table",onClick:()=>null==er?void 0:er.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(R.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column Before",onClick:()=>null==er?void 0:er.chain().focus().addColumnBefore().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(S.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column After",onClick:()=>null==er?void 0:er.chain().focus().addColumnAfter().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(S.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Column",onClick:()=>null==er?void 0:er.chain().focus().deleteColumn().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row Before",onClick:()=>null==er?void 0:er.chain().focus().addRowBefore().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(H.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row After",onClick:()=>null==er?void 0:er.chain().focus().addRowAfter().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(H.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Row",onClick:()=>null==er?void 0:er.chain().focus().deleteRow().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Table",onClick:()=>null==er?void 0:er.chain().focus().deleteTable().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge Cells",onClick:()=>null==er?void 0:er.chain().focus().mergeCells().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(B.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Cell",onClick:()=>null==er?void 0:er.chain().focus().splitCell().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Column",onClick:()=>null==er?void 0:er.chain().focus().toggleHeaderColumn().run(),className:"jsx-b3b424cdf2749b9",children:"1"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Row",onClick:()=>null==er?void 0:er.chain().focus().toggleHeaderRow().run(),className:"jsx-b3b424cdf2749b9",children:"2"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Cell",onClick:()=>null==er?void 0:er.chain().focus().toggleHeaderCell().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(D.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge or Split",onClick:()=>null==er?void 0:er.chain().focus().mergeOrSplit().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(B.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Set Cell Attribute",onClick:()=>null==er?void 0:er.chain().focus().setCellAttribute("colspan",2).run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(S.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Fix Tables",onClick:()=>null==er?void 0:er.chain().focus().fixTables().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(R.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Next Cell",onClick:()=>null==er?void 0:er.chain().focus().goToNextCell().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(O.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Previous Cell",onClick:()=>null==er?void 0:er.chain().focus().goToPreviousCell().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(_.A,{size:16})})]})}),(0,i.jsx)(f.av,{value:"align",children:(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Align Left",onClick:()=>null==er?void 0:er.chain().focus().setTextAlign("left").run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive({textAlign:"left"}))?"is-active":"")||""),children:(0,i.jsx)(U.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Center",onClick:()=>null==er?void 0:er.chain().focus().setTextAlign("center").run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive({textAlign:"center"}))?"is-active":"")||""),children:(0,i.jsx)(M.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Right",onClick:()=>null==er?void 0:er.chain().focus().setTextAlign("right").run(),className:"jsx-b3b424cdf2749b9 "+(((null==er?void 0:er.isActive({textAlign:"right"}))?"is-active":"")||""),children:(0,i.jsx)($.A,{size:16})})]})}),(0,i.jsx)(f.av,{value:"insert",children:(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 flex gap-2 flex-wrap",children:[(0,i.jsxs)("label",{title:"Image",className:"jsx-b3b424cdf2749b9",children:[(0,i.jsx)(F.A,{size:16}),(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let i=URL.createObjectURL(s);null==er||er.chain().focus().setImage({src:i}).run()},className:"jsx-b3b424cdf2749b9"})]}),(0,i.jsx)("button",{type:"button",title:"Horizontal Rule",onClick:()=>null==er?void 0:er.chain().focus().setHorizontalRule().run(),className:"jsx-b3b424cdf2749b9",children:(0,i.jsx)(V.A,{size:16})})]})})]}),(0,i.jsx)(u.$Z,{editor:er,className:"tiptap-content min-h-[300px] p-3 focus:outline-none rounded-br-md rounded-bl-md focus:border-none"})]})]}),(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 mb-4 col-span-2",children:[(0,i.jsx)("label",{className:"jsx-b3b424cdf2749b9 block font-medium mb-1",children:"H\xecnh ảnh bệnh"}),(0,i.jsxs)("div",{onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/"));if(t.length>0){let e=new DataTransfer;t.forEach(t=>e.items.add(t)),K("images",e.files),et(t.map(e=>URL.createObjectURL(e)))}},onClick:()=>{var e;null==(e=document.getElementById("disease-image-input"))||e.click()},className:"jsx-b3b424cdf2749b9 border-2 border-dashed border-gray-300 rounded-md p-4 text-center cursor-pointer bg-gray-50 hover:bg-gray-100 transition",children:[(0,i.jsx)("input",{id:"disease-image-input",type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:e=>{et(Array.from(e.target.files||[]).filter(e=>e.type.startsWith("image/")).map(e=>URL.createObjectURL(e))),K("images",e.target.files)},className:"jsx-b3b424cdf2749b9"}),(0,i.jsx)("div",{className:"jsx-b3b424cdf2749b9 text-gray-500",children:"K\xe9o v\xe0 thả ảnh v\xe0o đ\xe2y hoặc bấm để chọn ảnh"}),ee.length>0&&(0,i.jsx)("div",{className:"jsx-b3b424cdf2749b9 flex flex-wrap gap-2 mt-4 justify-center",children:ee.map((e,t)=>(0,i.jsxs)("div",{className:"jsx-b3b424cdf2749b9 relative group",children:[(0,i.jsx)(q.default,{width:96,height:96,src:e,alt:"preview-".concat(t),className:"w-24 h-24 object-cover rounded border"}),(0,i.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),ec(t)},className:"jsx-b3b424cdf2749b9 absolute top-1 right-1 bg-white bg-opacity-80 rounded-full p-1 text-xs text-red-600 shadow group-hover:opacity-100 opacity-80",children:(0,i.jsx)(X.A,{className:"w-4 h-4"})})]},t))}),0===ee.length&&(null==ea?void 0:ea.images)&&ea.images.length>0&&(0,i.jsx)("div",{className:"jsx-b3b424cdf2749b9 flex flex-wrap gap-2 mt-4 justify-center",children:ea.images.map((e,t)=>(0,i.jsx)("div",{className:"jsx-b3b424cdf2749b9 relative group",children:(0,i.jsx)(q.default,{width:96,height:96,src:e,alt:"old-preview-".concat(t),className:"w-24 h-24 object-cover rounded border"})},t))})]})]}),(0,i.jsx)("div",{className:"jsx-b3b424cdf2749b9 flex justify-end",children:(0,i.jsx)("button",{type:"submit",disabled:es,className:"jsx-b3b424cdf2749b9 px-6 py-2 rounded bg-primary text-white font-semibold",children:es?"Đang cập nhật...":"Cập nhật bệnh"})}),el&&(0,i.jsx)("div",{className:"jsx-b3b424cdf2749b9 mt-4 text-center text-green-600",children:el})]}),(0,i.jsx)(n(),{id:"b3b424cdf2749b9",children:".tiptap-content:focus,.tiptap-content:focus-visible,.tiptap-content *:focus,.tiptap-content *:focus-visible{outline:none!important;border:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.is-active{background-color:#e9e9e9;color:#000;border-color:#2563eb;padding:.2rem .5rem;-webkit-border-radius:-webkit-calc(var(--radius) - 2px);-moz-border-radius:-moz-calc(var(--radius) - 2px);border-radius:-webkit-calc(var(--radius) - 2px);border-radius:-moz-calc(var(--radius) - 2px);border-radius:calc(var(--radius) - 2px)}"})]})}},39033:(e,t,s)=>{"use strict";s.d(t,{c:()=>l});var i=s(12115);function l(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}},46081:(e,t,s)=>{"use strict";s.d(t,{A:()=>a,q:()=>n});var i=s(12115),l=s(95155);function n(e,t){let s=i.createContext(t),n=e=>{let{children:t,...n}=e,a=i.useMemo(()=>n,Object.values(n));return(0,l.jsx)(s.Provider,{value:a,children:t})};return n.displayName=e+"Provider",[n,function(l){let n=i.useContext(s);if(n)return n;if(void 0!==t)return t;throw Error(`\`${l}\` must be used within \`${e}\``)}]}function a(e,t=[]){let s=[],n=()=>{let t=s.map(e=>i.createContext(e));return function(s){let l=s?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return n.scopeName=e,[function(t,n){let a=i.createContext(n),o=s.length;s=[...s,n];let r=t=>{let{scope:s,children:n,...r}=t,c=s?.[e]?.[o]||a,d=i.useMemo(()=>r,Object.values(r));return(0,l.jsx)(c.Provider,{value:d,children:n})};return r.displayName=t+"Provider",[r,function(s,l){let r=l?.[e]?.[o]||a,c=i.useContext(r);if(c)return c;if(void 0!==n)return n;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let l=s.reduce((t,{useScope:s,scopeName:i})=>{let l=s(e)[`__scope${i}`];return{...t,...l}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return s.scopeName=t.scopeName,s}(n,...t)]}},51386:(e,t,s)=>{"use strict";s.d(t,{Pd:()=>a,ZJ:()=>n,_C:()=>r,el:()=>o,fP:()=>l});var i=s(20858);let l=async()=>{let e=await fetch("".concat(i.p,"/api/disease"));if(!e.ok)throw Error("Failed to fetch diseases");return e.json()},n=async e=>{let t=await fetch("".concat(i.p,"/api/disease/").concat(e));if(!t.ok)throw Error("Failed to fetch disease");return t.json()},a=async e=>{let{userID:t,diseaseName:s,diseaseEnName:l,ricePathogen:n,symptoms:a,images:o}=e,r=await fetch("".concat(i.p,"/api/disease"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,diseaseName:s,diseaseEnName:l,ricePathogen:n,symptoms:a,images:o})});if(!r.ok)throw Error("Failed to create disease");return r.json()},o=async(e,t)=>{let s=await fetch("".concat(i.p,"/api/disease/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to update disease");return s.json()},r=async e=>{let t=await fetch("".concat(i.p,"/api/disease/").concat(e),{method:"DELETE"}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to delete disease");return{message:s.message,status:t.status}}},52712:(e,t,s)=>{"use strict";s.d(t,{N:()=>l});var i=s(12115),l=globalThis?.document?i.useLayoutEffect:()=>{}},54372:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>r,av:()=>c,j7:()=>o,tU:()=>a});var i=s(95155);s(12115);var l=s(38944),n=s(4596);function a(e){let{className:t,...s}=e;return(0,i.jsx)(l.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",t),...s})}function o(e){let{className:t,...s}=e;return(0,i.jsx)(l.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...s})}function r(e){let{className:t,...s}=e;return(0,i.jsx)(l.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function c(e){let{className:t,...s}=e;return(0,i.jsx)(l.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",t),...s})}},61285:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var i,l=s(12115),n=s(52712),a=(i||(i=s.t(l,2)))[" useId ".trim().toString()]||(()=>void 0),o=0;function r(e){let[t,s]=l.useState(a());return(0,n.N)(()=>{e||s(e=>e??String(o++))},[e]),e||(t?`radix-${t}`:"")}},74126:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(19946).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},85185:(e,t,s)=>{"use strict";function i(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e?.(i),!1===s||!i.defaultPrevented)return t?.(i)}}s.d(t,{m:()=>i})},97658:(e,t,s)=>{Promise.resolve().then(s.bind(s,25672))}},e=>{var t=t=>e(e.s=t);e.O(0,[5004,277,4277,3568,1350,6766,1193,2727,5692,3181,8441,1684,7358],()=>t(97658)),_N_E=e.O()}]);
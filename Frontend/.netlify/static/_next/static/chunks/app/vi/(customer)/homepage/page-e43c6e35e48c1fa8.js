(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4961],{7250:(e,t,r)=>{"use strict";r.d(t,{O:()=>i,y:()=>c});var a=r(20858);async function c(){if(!(await fetch("".concat(a.p,"/api/statistic/increment"),{method:"POST"})).ok)throw Error("Failed to fetch categories")}async function i(){let e=await fetch("".concat(a.p,"/api/statistic"),{method:"GET"});if(!e.ok)throw Error("Failed to fetch access stats");return e.json()}},27365:(e,t,r)=>{Promise.resolve().then(r.bind(r,53492))},51686:(e,t,r)=>{"use strict";r.d(t,{Gt:()=>i,Gw:()=>o,VZ:()=>l,_R:()=>n,un:()=>c});var a=r(20858);async function c(){let e=await fetch("".concat(a.p,"/api/tag"));if(!e.ok)throw Error("Failed to fetch tags");return e.json()}async function i(e){let t=await fetch("".concat(a.p,"/api/product-tag"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagIDs:e})});if(!t.ok)throw Error("Failed to fetch products for tag");return t.json()}async function l(e){let t=await fetch("".concat(a.p,"/api/tag"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:e})});if(!t.ok)throw Error("Failed to create tag");return t.json()}async function o(e,t){let r=await fetch("".concat(a.p,"/api/tag/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:t})});if(!r.ok)throw Error("Failed to update tag");return r.ok}async function n(e){let t=await fetch("".concat(a.p,"/api/tag/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("Failed to delete tag");return t.ok}},53492:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var a=r(95155),c=r(25957);let i=(0,r(19946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var l=r(12115),o=r(17038),n=r(84879),s=r(40872),d=r(78126),u=r.n(d),p=r(10173),h=r(33926),f=r(51686),g=r(7250),m=r(89179);let P=()=>{let{setLoading:e}=(0,o.M)(),{user:t}=(0,m.J)(),[r,d]=l.useState(!1),[P,x]=l.useState([]),[j,y]=l.useState([]),[b,S]=l.useState([]),[w,v]=l.useState(1),[N,k]=l.useState("grid"),[E,C]=l.useState([]),[T,_]=l.useState([]),F={totalResults:E.length,currentPage:1,resultsPerPage:15,onViewChange:e=>{k(e)}},O=l.useMemo(()=>{if(0===E.length)return[];let e=(w-1)*F.resultsPerPage;return E.slice(e,e+F.resultsPerPage)},[E,w,F.resultsPerPage]),D=(0,l.useCallback)(e=>{C(b.filter(t=>t.categoryID===e)),v(1)},[b]),M=(0,l.useCallback)((e,t)=>{C(b.filter(r=>{if(r.productPriceSale>0)return r.productPriceSale>=e&&r.productPriceSale<=t;let a=r.productPrice;return a>=e&&a<=t})),v(1)},[b]),I=(0,l.useCallback)(e=>{let t;if(0===(t=T.includes(e)?T.filter(t=>t!==e):Array.from(new Set([...T,e]))).length){C(b),_([]);return}_(t),(async()=>{let[e]=await Promise.all([(0,f.Gt)(t)]);C(b.filter(t=>e.productIDs.includes(t.productID)))})()},[T,b]),A=e=>[...e].sort((e,t)=>e.productPriceSale>0&&t.productPriceSale>0?e.productPriceSale-t.productPriceSale:e.productPriceSale>0&&0===t.productPriceSale?e.productPriceSale-t.productPrice:0===e.productPriceSale&&t.productPriceSale>0?e.productPrice-t.productPriceSale:e.productPrice-t.productPrice),G=e=>[...e].sort((e,t)=>e.productPriceSale>0&&t.productPriceSale>0?t.productPriceSale-e.productPriceSale:e.productPriceSale>0&&0===t.productPriceSale?t.productPriceSale-e.productPrice:0===e.productPriceSale&&t.productPriceSale>0?t.productPrice-e.productPriceSale:t.productPrice-e.productPrice),H=e=>[...e].sort((e,t)=>t.rating-e.rating);return(0,l.useEffect)(()=>{r||window.scrollTo({top:0,behavior:"smooth"})},[r]),(0,l.useEffect)(()=>{(async()=>{e(!0);let[t,r,a]=await Promise.all([(0,h.jE)(),(0,f.un)(),(0,p.FK)()]);x(t),y(r),S(a),C(a),e(!1)})()},[e]),(0,l.useEffect)(()=>{(0,g.y)()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u(),{children:[(0,a.jsx)("title",{children:"NFeam House - Trang chủ"}),(0,a.jsx)("meta",{name:"description",content:"NFeam House - Nền tảng n\xf4ng nghiệp th\xf4ng minh, cung cấp giải ph\xe1p quản l\xfd, tư vấn, v\xe0 kết nối cho nh\xe0 n\xf4ng hiện đại."})]}),(0,a.jsxs)("main",{className:"relative mx-auto","aria-label":"Nội dung ch\xednh trang chủ",children:[(0,a.jsx)(c.lq,{}),(0,a.jsxs)("section",{className:"w-full min-h-screen block md:grid md:grid-cols-[1fr_1px_3fr] gap-6 px-6 pb-10 md:pb-10 pt-5 transition-all","aria-label":"Bộ lọc v\xe0 sản phẩm",children:[(0,a.jsxs)("aside",{className:"col-start-1 col-end-2 w-full max-w-full flex flex-col gap-y-6 md:max-h-fit  filter-kit-transition  ".concat(r?"max-h-[1600px]":"max-h-0"," ").concat(r?"h-fit":""," origin-top overflow-hidden transition-all duration-300 px-1"),"aria-label":"Bộ lọc sản phẩm",children:[(0,a.jsx)(c.bm,{categories:P,onCategorySelect:D}),(0,a.jsx)(c.IB,{onFilter:M}),(0,a.jsx)(c.qj,{products:b}),(0,a.jsx)(c.$J,{tags:j,onTagSelect:I,onClear:()=>{_([]),C(b)}}),(0,a.jsx)(c.$n,{variant:"normal",className:"w-full mt-4 flex items-center justify-center gap-x-2 md:hidden",onClick:()=>{d(!1),window.scrollTo({top:0,behavior:"smooth"})},"aria-label":"Thực hiện lọc",children:"Thực hiện lọc"})]}),(0,a.jsx)("div",{className:"col-start-2 col-end-3 bg-[#eee9e9] w-[1px] h-full md:block hidden"}),(0,a.jsxs)("section",{className:"col-start-3 col-end-4 w-full mt-10 md:mt-0 md:pl-1 flex flex-col justify-between gap-y-10","aria-label":"Danh s\xe1ch sản phẩm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-start md:items-center md:justify-between mb-4 md:flex-row gap-y-6 flex-col-reverse",children:[(0,a.jsx)(c.V8,{...F}),(0,a.jsxs)("div",{className:"flex items-center md:justify-end justify-between w-full md:w-fit",children:[(0,a.jsx)(c.mi,{options:[{value:"default",label:"Mặc định"},{value:"asc",label:"Gi\xe1 tăng dần"},{value:"desc",label:"Gi\xe1 giảm dần"},{value:"highRating",label:"Đ\xe1nh gi\xe1 cao"}],onSortChange:e=>{"asc"===e?C(A(E)):"desc"===e?C(G(E)):"highRating"===e?C(H(E)):C(b)}}),(0,a.jsx)(c.K0,{className:"md:hidden border-2 border-solid border-primary/10 hover:bg-secondary",iconColor:"#0D401C",icon:i,onClick:()=>{d(!r)}})]})]}),(0,a.jsx)(n.N,{mode:"wait",children:(0,a.jsx)(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},style:{},children:(0,a.jsx)("div",{className:"grid"===N?"".concat(O.length>0&&"grid"," grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 justify-items-center"):"flex flex-col items-start gap-y-6",children:O.length>0?O.map(e=>(0,a.jsx)(c.Zp,{image:e.images[0],title:e.productName,discountPrice:e.productPriceSale,price:e.productPrice,rating:e.rating,productID:e.productID,productName:e.productName},e.productID)):(0,a.jsx)("div",{className:"w-full text-center py-5 border-[1px] border-dashed ",children:"Kh\xf4ng c\xf3 dữ liệu sản phẩm"})})},N)})]}),(0,a.jsx)(c.WB,{totalPages:Math.ceil(b.length/F.resultsPerPage),currentPage:w,onPageChange:v})]})]}),t&&(0,a.jsx)(c.sH,{}),(0,a.jsx)(c.FA,{}),(0,a.jsx)(c.Hw,{})]})]})}},78126:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}},e=>{var t=t=>e(e.s=t);e.O(0,[7935,6122,4277,3568,6231,1350,6766,56,1193,7625,2727,6874,4754,8037,4297,8612,5957,8441,1684,7358],()=>t(27365)),_N_E=e.O()}]);
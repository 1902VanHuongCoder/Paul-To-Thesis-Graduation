(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5609],{4596:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var s=a(52596),r=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},9199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>eN});var s=a(95155),r=a(11518),i=a.n(r),n=a(12115),c=a(62177),o=a(35695),l=a(45574),d=a(26420),u=a(33992),h=a(75109),p=a(24932),f=a(17e3),x=a(36761),g=a(81891),m=a(84109),j=a(60882),b=a(61261),y=a(91924),v=a(24106),w=a(95621),N=a(63356),k=a(26333),A=a(40951),I=a(90192),C=a(43557),S=a(79030),E=a(423),D=a(67938),z=a(66766),T=a(19022),P=a(74824),L=a(43332),F=a(62525),R=a(9727),J=a(19144),O=a(17240),B=a(3417),M=a(38164),H=a(28440),q=a(22705),_=a(92406),U=a(76047),G=a(21852),V=a(79973),K=a(15968),X=a(89140),Z=a(50142),W=a(18860),$=a(92138),Q=a(35169),Y=a(65112),ee=a(12324),et=a(57330),ea=a(3428),es=a(82218),er=a(58832),ei=a(39881),en=a(87325),ec=a(67733),eo=a(88702),el=a(27213),ed=a(87712),eu=a(54372),eh=a(40224),ep=a(52596),ef=a(13568),ex=a(89179),eg=a(33926),em=a(43254),ej=a(79182),eb=a(51686),ey=a(51386),ev=a(10173),ew=a(16184);function eN(){let e=(0,o.useParams)(),t=null==e?void 0:e.productID,{user:a}=(0,ex.J)(),r=(0,c.mN)(),{register:eN,handleSubmit:ek,setValue:eA,watch:eI,formState:{errors:eC}}=r,[eS,eE]=(0,n.useState)([]),[eD,ez]=(0,n.useState)([]),[eT,eP]=(0,n.useState)([]),[eL,eF]=(0,n.useState)([]),[eR,eJ]=(0,n.useState)([]),[eO,eB]=(0,n.useState)(null),[eM,eH]=(0,n.useState)([]),[eq,e_]=(0,n.useState)([]),[eU,eG]=(0,n.useState)([]),[eV,eK]=(0,n.useState)([]),[,eX]=(0,n.useState)(""),[eZ,eW]=(0,n.useState)(!1),[e$,eQ]=(0,n.useState)(null),[eY,e0]=(0,n.useState)([]),e2=(0,n.useRef)(null),[e3,e1]=(0,n.useState)(!1),e6=(0,h.hG)({extensions:[p.A,f.A,x.Ay,g.Ay,b.Ay,y.A,v.A,w.A,N.A,A.A,k.Ay.configure({nested:!0}),j.A.configure({levels:[1,2,3,4,5,6],HTMLAttributes:{class:"text-gray-900 dark:text-white font-bold"}}),m.A.configure({types:["heading","paragraph"]}),D.A,I.Ay.configure({resizable:!0}),E.A,S.h,C.A],content:"<p>Loading...</p>",onUpdate(e){let{editor:t}=e,a=function e(t){var a;if(!t)return[];let s=[];return Array.isArray(t)?t.forEach(t=>{s=s.concat(e(t))}):"image"===t.type&&(null==(a=t.attrs)?void 0:a.src)&&s.push(t.attrs.src),t.content&&(s=s.concat(e(t.content))),s}(t.getJSON());eV.forEach((e,t)=>{a.includes(e)||e8(t)})}});(0,n.useEffect)(()=>{let e=async()=>{try{let e=await (0,em.xN)();ez(e)}catch(e){console.error("Error fetching subcategories:",e)}},t=async()=>{try{let e=await (0,ej.Uy)();eP(e)}catch(e){console.error("Error fetching origins:",e)}},a=async()=>{try{let e=await (0,eb.un)();eF(e)}catch(e){console.error("Error fetching tags:",e)}},s=async()=>{try{let e=await (0,ey.fP)();eJ(e||[])}catch(e){console.error("Error fetching diseases:",e)}};Promise.all([(async()=>{try{let e=await (0,eg.jE)();eE(e)}catch(e){console.error("Error fetching categories:",e)}})(),e(),t(),a(),s()]).catch(e=>{console.error("Error fetching dropdown data:",e)})},[]),(0,n.useEffect)(()=>{t&&(async()=>{var e,a,s,r;let i=await (0,ev.eH)(t);if(!i)return void ef.Ay.error("Kh\xf4ng t\xecm thấy sản phẩm.");eA("productName",i.productName),eA("productPrice",String(i.productPrice)),eA("productPriceSale",String(i.productPriceSale||"")),eA("quantityAvailable",String(i.quantityAvailable)),eA("categoryID",String((null==(e=i.category)?void 0:e.categoryID)||"")),eA("subcategoryID",String((null==(a=i.subcategory)?void 0:a.subcategoryID)||"")),eA("originID",String((null==(s=i.origin)?void 0:s.originID)||"")),eA("tagIDs",(null==(r=i.Tags)?void 0:r.map(e=>String(e.tagID)))||[]),eA("isShow",i.isShow||!1),eA("expiredAt",i.expiredAt?new Date(i.expiredAt).toISOString().split("T")[0]:""),eA("unit",i.unit||""),eA("barcode",i.barcode||""),eA("boxBarcode",i.boxBarcode||""),eA("quantityPerBox",i.quantityPerBox||0),eH(i.images||[]),eB(i.images||[]),eG(i.descriptionImages||[]),eK(i.descriptionImages||[]),eQ(i.description||""),eW(!0)})().catch(e=>{console.error("Error fetching product:",e),ef.Ay.error("Kh\xf4ng thể tải th\xf4ng tin sản phẩm.")})},[t,eA]),(0,n.useEffect)(()=>{let e=null;try{e=e$?JSON.parse(e$):null}catch(t){e=null}if(e&&"object"==typeof e&&null!==e&&"diseaseIDs"in e&&Array.isArray(e.diseaseIDs)){let t=e.diseaseIDs;e0(eR.filter(e=>t.includes(e.diseaseID)))}},[eR,e$]);let e7=eI("categoryID");(0,n.useEffect)(()=>{e7?(async()=>{ez(await (0,em.HK)(e7))})():ez([])},[e7]);let e4=e=>{eM[e]&&eB(t=>(null!=t?t:[]).filter((t,a)=>a!==e))},e8=e=>{eU[e]&&eK(t=>(null!=t?t:[]).filter((t,a)=>a!==e))};function e5(e){return e.toLocaleString("vi-VN")}(0,n.useEffect)(()=>{if(e6&&null!==e$)try{e6.commands.setContent(JSON.parse(e$))}catch(e){e6.commands.setContent(e$)}},[e6,e$]);let e9=async e=>{if(!a)return void ef.Ay.error("Bạn cần đăng nhập để thực hiện thao t\xe1c n\xe0y.");eX("");let s=[],r=[];e.images&&e.images.length>0&&Array.from(e.images).forEach(e=>r.push(e)),eq.length>0&&eq.forEach(e=>r.push(e));try{r.length>0&&(s=await (0,ew.uploadMultipleImages)(r))}catch(e){console.error("Image upload failed:",e),eX("Failed to upload images.");return}let i=null==e6?void 0:e6.getJSON(),n=e.images?e.images.length:0;try{i=function e(t){var a,r;if(!t)return t;if(Array.isArray(t))return t.map(e);if("image"===t.type&&(null==(r=t.attrs)||null==(a=r.src)?void 0:a.startsWith("blob:"))){let e=s[n++];return{...t,attrs:{...t.attrs,src:e}}}return t.content?{...t,content:e(t.content)}:t}(i)}catch(e){}let c=e.images?[...null!=eO?eO:[],...s.slice(0,e.images.length)].filter(Boolean):null!=eO?eO:[],o=eq.length>0?[...eV,...s.slice(e.images?e.images.length:0)].filter(Boolean):eV,l=[...eM.filter(e=>!(null==c?void 0:c.includes(e))),...eU.filter(e=>!(Array.isArray(o)&&o.includes(e)))];if(l.length>0)try{await (0,ew.deleteMultipleImages)(l)}catch(e){console.error("Failed to delete old images:",e),eX("Failed to delete old images.");return}try{await (0,ev.vc)(t,{productName:e.productName,productPrice:Number(e.productPrice),productPriceSale:e.productPriceSale?Number(e.productPriceSale):null,quantityAvailable:Number(e.quantityAvailable),categoryID:Number(e.categoryID),subcategoryID:Number(e.subcategoryID),originID:Number(e.originID),tagIDs:e.tagIDs.map(e=>Number(e)),images:c,descriptionImages:o,description:JSON.stringify(i),isShow:e.isShow,expiredAt:e.expiredAt?new Date(e.expiredAt):null,unit:e.unit,barcode:e.barcode||"",boxBarcode:e.boxBarcode||"",quantityPerBox:e.quantityPerBox?Number(e.quantityPerBox):void 0,performedBy:a.userID,diseaseIDs:eY.map(e=>e.diseaseID)})?ef.Ay.success("Cập nhật sản phẩm th\xe0nh c\xf4ng!"):ef.Ay.error("Cập nhật sản phẩm thất bại. Kiểm tra kết nối v\xe0 thử lại.")}catch(e){console.error("Error updating product:",e),ef.Ay.error("Cập nhật sản phẩm thất bại. Kiểm tra kết nối v\xe0 thử lại.")}};return e6&&eZ?(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d ",children:[(0,s.jsx)("h1",{className:"jsx-e64c2e82a73cf37d text-2xl font-bold mb-4",children:"Cập Nhật Th\xf4ng Tin Sản Phẩm"}),(0,s.jsx)(c.Op,{...r,children:(0,s.jsxs)("form",{onSubmit:ek(e9),className:"jsx-e64c2e82a73cf37d space-y-6",children:[(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"T\xean sản phẩm"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{...eN("productName",{required:!0})})}),eC.productName&&(0,s.jsx)(u.C5,{children:"T\xean sản phẩm kh\xf4ng được ph\xe9p rỗng."})]}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d grid grid-cols-1 sm:grid-cols-2 gap-6",children:[(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Gi\xe1 "}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"text",min:0,step:1,...eN("productPrice",{required:"Gi\xe1 sản phẩm kh\xf4ng được ph\xe9p rỗng.",min:{value:1,message:"Gi\xe1 phải lớn hơn 0"},setValueAs:e=>{let t=Number(e);return t<1e3?1e3*t:t}}),onBlur:e=>{let t=Number(e.target.value);t>0&&t<1e3?e.target.value=e5(1e3*t):t>=1e3?e.target.value=e5(t):e.target.value=""},placeholder:"e.g. 100 (will be 100.000)"})}),eC.productPrice&&(0,s.jsx)(u.C5,{children:eC.productPrice.message||"Gi\xe1 sản phẩm kh\xf4ng được ph\xe9p rỗng."})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Gi\xe1 giảm"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"text",min:0,step:1,...eN("productPriceSale",{setValueAs:e=>{let t=Number(e);return t<1e3?1e3*t:t}}),onBlur:e=>{let t=Number(e.target.value);t>0&&t<1e3?e.target.value=e5(1e3*t):t>=1e3?e.target.value=e5(t):e.target.value=""},placeholder:"e.g. 100 (will be 100.000)"})})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Số lượng"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"number",...eN("quantityAvailable",{required:!0}),min:0})})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Số lượng tr\xean th\xf9ng/l\xf4"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"number",...eN("quantityPerBox",{required:!0}),placeholder:"Nhập số lượng sản phẩm/l\xf4(th\xf9ng) nếu c\xf3."})})]}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d col-span-2 grid grid-cols-[1fr_1fr_1fr] gap-4",children:[(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Danh mục"}),(0,s.jsx)(u.MJ,{children:(0,s.jsxs)(P.l6,{value:eI("categoryID"),onValueChange:e=>eA("categoryID",e),children:[(0,s.jsx)(P.bq,{className:"w-full",children:(0,s.jsx)(P.yv,{placeholder:"Select category"})}),(0,s.jsx)(P.gC,{children:eS.map(e=>(0,s.jsx)(P.eb,{value:String(e.categoryID),children:e.categoryName},e.categoryID))})]})})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Danh mục con"}),(0,s.jsx)(u.MJ,{children:(0,s.jsxs)(P.l6,{value:eI("subcategoryID"),onValueChange:e=>eA("subcategoryID",e),children:[(0,s.jsx)(P.bq,{className:"w-full",children:(0,s.jsx)(P.yv,{placeholder:"Chọn danh mục con"})}),(0,s.jsx)(P.gC,{children:eD.map(e=>(0,s.jsx)(P.eb,{value:String(e.subcategoryID),children:e.subcategoryName},e.subcategoryID))})]})})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Nh\xe0 sản xuất"}),(0,s.jsx)(u.MJ,{children:(0,s.jsxs)(P.l6,{value:eI("originID"),onValueChange:e=>eA("originID",e),children:[(0,s.jsx)(P.bq,{className:"w-full",children:(0,s.jsx)(P.yv,{placeholder:"Select origin"})}),(0,s.jsx)(P.gC,{children:eT.map(e=>(0,s.jsx)(P.eb,{value:String(e.originID),children:e.originName},e.originID))})]})})]})]}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d col-span-2 grid grid-cols-[1fr_1fr_1fr] gap-4",children:[(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Đơn vị sản phẩm"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"text",...eN("unit",{required:!0})})}),eC.unit&&(0,s.jsx)(u.C5,{children:"Đơn vị kh\xf4ng được ph\xe9p rỗng."})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Số m\xe3 vạch"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"text",...eN("barcode"),defaultValue:eM.length>0?eI("barcode"):""})})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Số m\xe3 vạch th\xf9ng (l\xf4)"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{type:"text",...eN("boxBarcode"),defaultValue:eM.length>0?eI("boxBarcode"):""})})]})]}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d col-span-2 grid grid-cols-[1fr_1fr_1fr] gap-4",children:[(0,s.jsxs)(u.eI,{className:"col-span-2",children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Ng\xe0y hết hạn"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(l.p,{defaultValue:eI("expiredAt")||"",type:"date",...eN("expiredAt")})})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Hiển thị sản phẩm"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(T.S,{checked:!!eI("isShow"),onCheckedChange:e=>eA("isShow",!!e)})})]})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Thẻ"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)("div",{className:"jsx-e64c2e82a73cf37d flex flex-wrap gap-2",children:eL.map(e=>{var t;let a=null==(t=eI("tagIDs"))?void 0:t.includes(String(e.tagID));return(0,s.jsxs)("button",{type:"button",onClick:()=>{let t=eI("tagIDs")||[];a?eA("tagIDs",t.filter(t=>t!==String(e.tagID))):eA("tagIDs",[...t,String(e.tagID)])},className:"jsx-e64c2e82a73cf37d "+"flex gap-x-2 items-center px-3 py-1 rounded-full border text-sm transition-colors hover:cursor-pointer ".concat(a?"bg-primary text-white border-primary":"bg-muted text-muted-foreground border-border"),children:[(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(L.A,{className:"w-4"})}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:e.tagName})]},e.tagID)})})})]})]}),(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Ảnh sản phẩm"}),(0,s.jsx)(u.MJ,{children:(0,s.jsxs)("div",{onClick:()=>{var e;return null==(e=e2.current)?void 0:e.click()},onDragOver:e=>{e.preventDefault(),e1(!0)},onDragLeave:e=>{e.preventDefault(),e1(!1)},onDrop:e=>{e.preventDefault(),e1(!1);let t=Array.from(e.dataTransfer.files);if(t.length>0){let e=new DataTransfer;t.forEach(t=>e.items.add(t)),e2.current.files=e.files,eA("images",e.files)}},role:"button",tabIndex:0,"aria-label":"K\xe9o thả hoặc click để tải ảnh",className:"jsx-e64c2e82a73cf37d "+"border-2 border-dashed rounded-lg p-4 flex flex-col items-center justify-center transition-colors cursor-pointer ".concat(e3?"border-primary bg-primary/10":"border-gray-300 bg-gray-50"),children:[(0,s.jsx)("input",{type:"file",multiple:!0,...eN("images"),ref:e2,onChange:e=>{eA("images",e.target.files)},className:"jsx-e64c2e82a73cf37d hidden"}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d text-gray-500 text-sm mb-2",children:"K\xe9o thả hoặc click để tải ảnh sản phẩm"}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d text-xs text-gray-400",children:"(Chọn nhiều ảnh được)"})]})}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 mt-2 flex-wrap",children:[eI("images")&&Array.from(eI("images")).map((e,t)=>(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d relative group",children:[(0,s.jsx)(z.default,{src:URL.createObjectURL(e),alt:"Preview",width:60,height:60,className:"rounded object-cover w-[120px] h-[120px] border-dashed border-[2px]"}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation();let a=Array.from(eI("images"));a.splice(t,1);let s=new DataTransfer;a.forEach(e=>s.items.add(e)),e2.current.files=s.files,eA("images",s.files)},"aria-label":"X\xf3a ảnh mới",className:"jsx-e64c2e82a73cf37d absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 text-xs opacity-80 hover:opacity-100 group-hover:scale-110 transition hover:cursor-pointer",children:(0,s.jsx)(F.A,{size:16})})]},e.name+t)),null==eO?void 0:eO.map((e,t)=>(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d relative group",children:[(0,s.jsx)(z.default,{src:e,alt:"Product",width:60,height:60,className:"rounded object-cover w-[120px] h-[120px] border-dashed border-[2px]"}),(0,s.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),e4(t)},"aria-label":"X\xf3a ảnh đ\xe3 tải l\xean",className:"jsx-e64c2e82a73cf37d absolute top-0 right-0 bg-red-500 text-white rounded-full p-1 text-xs opacity-80 hover:opacity-100 group-hover:scale-110 transition hover:cursor-pointer",children:(0,s.jsx)(F.A,{size:16})})]},e))]})]}),(0,s.jsxs)(u.eI,{className:"col-span-2",children:[(0,s.jsx)(u.lR,{className:"text-gray-600",children:"Bệnh li\xean quan"}),(0,s.jsx)("div",{className:"jsx-e64c2e82a73cf37d flex flex-wrap gap-2 mb-2",children:eY.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>{let t=eY.filter(t=>t.diseaseID!==e.diseaseID);e0(t),eA("diseaseIDs",t.map(e=>e.diseaseID))},className:"jsx-e64c2e82a73cf37d px-2 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200 text-xs",children:[e.diseaseName," ✕"]},e.diseaseID))}),(0,s.jsx)(u.MJ,{children:(0,s.jsxs)(P.l6,{value:"",onValueChange:e=>{let t=eR.find(t=>String(t.diseaseID)===String(e));if(t&&!eY.some(e=>e.diseaseID===t.diseaseID)){let e=[...eY,t];e0(e),eA("diseaseIDs",e.map(e=>e.diseaseID))}},children:[(0,s.jsx)(P.bq,{className:"w-full",children:(0,s.jsx)(P.yv,{placeholder:"Chọn bệnh"})}),(0,s.jsx)(P.gC,{children:eR.map(e=>(0,s.jsx)(P.eb,{value:String(e.diseaseID),children:e.diseaseName},e.diseaseID))})]})})]}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d",children:[(0,s.jsx)("label",{className:"jsx-e64c2e82a73cf37d font-medium mb-1 block text-gray-600",children:"M\xf4 tả chi tiết sản phẩm"}),(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d border rounded-lg bg-white dark:bg-gray-800",children:[(0,s.jsxs)(eu.tU,{defaultValue:"text",className:"mb-2 border-b p-4",children:[(0,s.jsxs)(eu.j7,{className:"flex gap-2 px-1 mb-4",children:[(0,s.jsx)(eu.Xi,{value:"text",children:"Văn bản"}),(0,s.jsx)(eu.Xi,{value:"heading",children:"Ti\xeau đề"}),(0,s.jsx)(eu.Xi,{value:"list",children:"Danh s\xe1ch"}),(0,s.jsx)(eu.Xi,{value:"table",children:"Bảng"}),(0,s.jsx)(eu.Xi,{value:"align",children:"Căn lề"}),(0,s.jsx)(eu.Xi,{value:"insert",children:"Ch\xe8n"})]}),(0,s.jsx)(eu.av,{value:"text",children:(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-4 flex-wrap",children:[(0,s.jsxs)("button",{type:"button",title:"Bold",onClick:()=>e6.chain().focus().toggleBold().run(),className:"jsx-e64c2e82a73cf37d "+((0,ep.A)(e6.isActive("bold")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,s.jsx)(R.A,{size:16}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"In đậm"})]}),(0,s.jsxs)("button",{type:"button",title:"Italic",onClick:()=>e6.chain().focus().toggleItalic().run(),className:"jsx-e64c2e82a73cf37d "+((0,ep.A)(e6.isActive("italic")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,s.jsx)(J.A,{size:16})," ",(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"In nghi\xeang"})]}),(0,s.jsxs)("button",{type:"button",title:"Underline",onClick:()=>e6.chain().focus().toggleUnderline().run(),className:"jsx-e64c2e82a73cf37d "+((0,ep.A)(e6.isActive("underline")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,s.jsx)(O.A,{size:16}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Gạch ch\xe2n"})]}),(0,s.jsxs)("button",{type:"button",title:"Blockquote",onClick:()=>e6.chain().focus().toggleBlockquote().run(),className:"jsx-e64c2e82a73cf37d "+((0,ep.A)(e6.isActive("blockquote")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,s.jsx)(eh.A,{size:16}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Tr\xedch"})]}),(0,s.jsxs)("button",{type:"button",title:"Code Block",onClick:()=>e6.chain().focus().toggleCodeBlock().run(),className:"jsx-e64c2e82a73cf37d "+((0,ep.A)(e6.isActive("codeBlock")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,s.jsx)(B.A,{size:16}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Khối code"})]}),(0,s.jsxs)("button",{type:"button",title:"Link",onClick:()=>{let e=prompt("Enter URL");e&&e6.chain().focus().setLink({href:e}).run()},className:"jsx-e64c2e82a73cf37d "+((0,ep.A)(e6.isActive("link")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,s.jsx)(M.A,{size:16}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Li\xean kết"})]})]})}),(0,s.jsx)(eu.av,{value:"heading",children:(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,s.jsx)("button",{type:"button",title:"H1",onClick:()=>e6.chain().focus().toggleHeading({level:1}).run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("heading",{level:1})?"is-active":"")||""),children:(0,s.jsx)(H.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"H2",onClick:()=>e6.chain().focus().toggleHeading({level:2}).run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("heading",{level:2})?"is-active":"")||""),children:(0,s.jsx)(q.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"H3",onClick:()=>e6.chain().focus().toggleHeading({level:3}).run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("heading",{level:3})?"is-active":"")||""),children:(0,s.jsx)(_.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"H4",onClick:()=>e6.chain().focus().toggleHeading({level:4}).run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("heading",{level:4})?"is-active":"")||""),children:(0,s.jsx)(U.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"H5",onClick:()=>e6.chain().focus().toggleHeading({level:5}).run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("heading",{level:5})?"is-active":"")||""),children:(0,s.jsx)(G.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"H6",onClick:()=>e6.chain().focus().toggleHeading({level:6}).run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("heading",{level:6})?"is-active":"")||""),children:(0,s.jsx)(V.A,{size:18})})]})}),(0,s.jsx)(eu.av,{value:"list",children:(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,s.jsxs)("button",{type:"button",title:"Bullet List",onClick:()=>e6.chain().focus().toggleBulletList().run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("bulletList")?"is-active":"")||""),children:[(0,s.jsx)(K.A,{size:18}),(0,s.jsx)("span",{className:"jsx-e64c2e82a73cf37d"})]}),(0,s.jsx)("button",{type:"button",title:"Ordered List",onClick:()=>e6.chain().focus().toggleOrderedList().run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("orderedList")?"is-active":"")||""),children:(0,s.jsx)(X.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"Task List",onClick:()=>e6.chain().focus().toggleTaskList().run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive("taskList")?"is-active":"")||""),children:(0,s.jsx)(Z.A,{size:18})}),(0,s.jsx)("button",{type:"button",title:"Split List Item",onClick:()=>e6.chain().focus().splitListItem("listItem").run(),disabled:!e6.can().splitListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(W.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Sink List Item",onClick:()=>e6.chain().focus().sinkListItem("listItem").run(),disabled:!e6.can().sinkListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)($.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Lift List Item",onClick:()=>e6.chain().focus().liftListItem("listItem").run(),disabled:!e6.can().liftListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(Q.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Split Task Item",onClick:()=>e6.chain().focus().splitListItem("taskItem").run(),disabled:!e6.can().splitListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(W.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Sink Task Item",onClick:()=>e6.chain().focus().sinkListItem("taskItem").run(),disabled:!e6.can().sinkListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)($.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Lift Task Item",onClick:()=>e6.chain().focus().liftListItem("taskItem").run(),disabled:!e6.can().liftListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(Q.A,{size:16})})]})}),(0,s.jsx)(eu.av,{value:"table",children:(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,s.jsx)("button",{type:"button",title:"Insert Table",onClick:()=>e6.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(Y.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Add Column Before",onClick:()=>e6.chain().focus().addColumnBefore().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ee.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Add Column After",onClick:()=>e6.chain().focus().addColumnAfter().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ee.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Delete Column",onClick:()=>e6.chain().focus().deleteColumn().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(F.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Add Row Before",onClick:()=>e6.chain().focus().addRowBefore().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(et.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Add Row After",onClick:()=>e6.chain().focus().addRowAfter().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(et.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Delete Row",onClick:()=>e6.chain().focus().deleteRow().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(F.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Delete Table",onClick:()=>e6.chain().focus().deleteTable().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(F.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Merge Cells",onClick:()=>e6.chain().focus().mergeCells().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ea.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Split Cell",onClick:()=>e6.chain().focus().splitCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(W.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Toggle Header Column",onClick:()=>e6.chain().focus().toggleHeaderColumn().run(),className:"jsx-e64c2e82a73cf37d",children:"1"}),(0,s.jsx)("button",{type:"button",title:"Toggle Header Row",onClick:()=>e6.chain().focus().toggleHeaderRow().run(),className:"jsx-e64c2e82a73cf37d",children:"2"}),(0,s.jsx)("button",{type:"button",title:"Toggle Header Cell",onClick:()=>e6.chain().focus().toggleHeaderCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(es.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Merge or Split",onClick:()=>e6.chain().focus().mergeOrSplit().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ea.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Set Cell Attribute",onClick:()=>e6.chain().focus().setCellAttribute("colspan",2).run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ee.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Fix Tables",onClick:()=>e6.chain().focus().fixTables().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(Y.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Go to Next Cell",onClick:()=>e6.chain().focus().goToNextCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(er.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Go to Previous Cell",onClick:()=>e6.chain().focus().goToPreviousCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ei.A,{size:16})})]})}),(0,s.jsx)(eu.av,{value:"align",children:(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,s.jsx)("button",{type:"button",title:"Align Left",onClick:()=>e6.chain().focus().setTextAlign("left").run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive({textAlign:"left"})?"is-active":"")||""),children:(0,s.jsx)(en.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Align Center",onClick:()=>e6.chain().focus().setTextAlign("center").run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive({textAlign:"center"})?"is-active":"")||""),children:(0,s.jsx)(ec.A,{size:16})}),(0,s.jsx)("button",{type:"button",title:"Align Right",onClick:()=>e6.chain().focus().setTextAlign("right").run(),className:"jsx-e64c2e82a73cf37d "+((e6.isActive({textAlign:"right"})?"is-active":"")||""),children:(0,s.jsx)(eo.A,{size:16})})]})}),(0,s.jsx)(eu.av,{value:"insert",children:(0,s.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,s.jsxs)("label",{title:"Image",className:"jsx-e64c2e82a73cf37d",children:[(0,s.jsx)(el.A,{size:16}),(0,s.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];if(!a)return;e_(e=>[...e,a]);let s=URL.createObjectURL(a);e6.chain().focus().setImage({src:s}).run()},className:"jsx-e64c2e82a73cf37d"})]}),(0,s.jsx)("button",{type:"button",title:"Horizontal Rule",onClick:()=>e6.chain().focus().setHorizontalRule().run(),className:"jsx-e64c2e82a73cf37d",children:(0,s.jsx)(ed.A,{size:16})})]})})]}),eI("productName")&&(0,s.jsx)(h.$Z,{editor:e6,className:"tiptap-content min-h-[300px] p-3 focus:outline-none rounded-br-md rounded-bl-md focus:border-none"})]})]}),(0,s.jsx)("div",{className:"jsx-e64c2e82a73cf37d flex justify-end",children:(0,s.jsx)(d.$,{variant:"default",type:"submit",className:"hover:cursor-pointer",children:"Cập nhật sản phẩm"})})]})}),(0,s.jsx)(i(),{id:"e64c2e82a73cf37d",children:".tiptap-content:focus,.tiptap-content:focus-visible,.tiptap-content *:focus,.tiptap-content *:focus-visible{outline:none!important;border:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.is-active{background-color:#e9e9e9;color:#000;border-color:#2563eb;padding:.2rem .5rem;-webkit-border-radius:-webkit-calc(var(--radius) - 2px);-moz-border-radius:-moz-calc(var(--radius) - 2px);border-radius:-webkit-calc(var(--radius) - 2px);border-radius:-moz-calc(var(--radius) - 2px);border-radius:calc(var(--radius) - 2px)}"})]}):(0,s.jsx)("div",{children:"Đang tải..."})}},10173:(e,t,a)=>{"use strict";a.d(t,{DD:()=>d,FK:()=>i,IB:()=>p,K2:()=>n,af:()=>u,eH:()=>c,iG:()=>o,j0:()=>r,pm:()=>h,vc:()=>l});var s=a(20858);async function r(){let e=await fetch("".concat(s.p,"/api/product"));if(!e.ok)throw Error("Failed to fetch products");return await e.json()}async function i(){let e=await fetch("".concat(s.p,"/api/product/not-expired"));if(!e.ok)throw Error("Failed to fetch not expired products");let t=await e.json();return console.log("Fetched not expired products:",t),t}async function n(e){let t=await fetch("".concat(s.p,"/api/product/name?name=").concat(encodeURIComponent(e)));if(!t.ok)throw Error("Failed to fetch product");return t.json()}async function c(e){let t=await fetch("".concat(s.p,"/api/product/").concat(e));if(!t.ok)throw Error("Failed to fetch product");return t.json()}async function o(e,t){let a=await fetch("".concat(s.p,"/api/product/").concat(e?"box-":"","barcode/").concat(t));if(!a.ok)throw Error("Failed to import products");return a.json()}async function l(e,t){let a=await fetch("".concat(s.p,"/api/product/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update product");return a.ok}async function d(e){let t=await fetch("".concat(s.p,"/api/product/").concat(e),{method:"DELETE"}),a=await t.json();return{status:t.status,message:a.message}}async function u(){let e=await fetch("".concat(s.p,"/api/product/statistic/top-selling"));if(!e.ok)throw Error("Failed to fetch top selling products");return e.json()}async function h(){let e=await fetch("".concat(s.p,"/api/product/statistic/poor-selling"));if(!e.ok)throw Error("Failed to fetch poor selling products");return e.json()}async function p(){let e=await fetch("".concat(s.p,"/api/product/statistic/order-count"));if(!e.ok)throw Error("Failed to fetch products order count");return e.json()}},16184:(e,t,a)=>{"use strict";a.r(t),a.d(t,{deleteAImage:()=>n,deleteMultipleImages:()=>c,uploadMultipleImages:()=>i,uploadSingleImage:()=>r});var s=a(20858);let r=async e=>{try{let t=new FormData;t.append("file",e);let a=await fetch("".concat(s.p,"/api/upload"),{method:"POST",body:t});if(!a.ok)throw Error("Failed to upload file: ".concat(a.statusText));let r=await a.json();return r.url||r.path}catch(e){throw console.error("Error uploading file:",e),e}},i=async e=>{try{let t=new FormData;e.forEach(e=>t.append("files",e));let a=await fetch("".concat(s.p,"/api/upload/multiple"),{method:"POST",body:t});if(!a.ok)throw Error("Failed to upload files: ".concat(a.statusText));return(await a.json()).files.map(e=>e.url)}catch(e){throw console.error("Error uploading files:",e),e}},n=async e=>{try{let t=await fetch("".concat(s.p,"/api/upload/single-delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok)throw Error("Failed to delete file: ".concat(t.statusText))}catch(e){throw console.error("Error deleting file:",e),e}},c=async e=>{try{let t=await fetch("".concat(s.p,"/api/upload/multi-delete"),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)throw Error("Failed to delete files: ".concat(t.statusText))}catch(e){throw console.error("Error deleting files:",e),e}}},19022:(e,t,a)=>{"use strict";a.d(t,{S:()=>c});var s=a(95155);a(12115);var r=a(76981),i=a(5196),n=a(4596);function c(e){let{className:t,...a}=e;return(0,s.jsx)(r.bL,{"data-slot":"checkbox",className:(0,n.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(r.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(i.A,{className:"size-3.5"})})})}},20858:(e,t,a)=>{"use strict";a.d(t,{p:()=>s});let s="https://paul-to-thesis-graduation-1.onrender.com"},26420:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>c});var s=a(95155);a(12115);var r=a(99708),i=a(74466),n=a(4596);let c=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:i,asChild:o=!1,...l}=e,d=o?r.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,n.cn)(c({variant:a,size:i,className:t})),...l})}},33926:(e,t,a)=>{"use strict";a.d(t,{K7:()=>o,jE:()=>r,ls:()=>i,st:()=>c,zZ:()=>n});var s=a(20858);async function r(){let e=await fetch("".concat(s.p,"/api/category"));if(!e.ok)throw Error("Failed to fetch categories");return e.json()}async function i(e){let t=await fetch("".concat(s.p,"/api/category/slug/").concat(e));if(!t.ok)throw Error("Category not found");return t.json()}async function n(e){let t=await fetch("".concat(s.p,"/api/category"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create category");return t.json()}async function c(e,t){let a=await fetch("".concat(s.p,"/api/category/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update category");return a.json()}async function o(e){let t=await fetch("".concat(s.p,"/api/category/").concat(e),{method:"DELETE"});return{message:(await t.json()).message,status:t.status}}},33992:(e,t,a)=>{"use strict";a.d(t,{C5:()=>g,MJ:()=>x,eI:()=>p,lR:()=>f,lV:()=>l});var s=a(95155),r=a(12115),i=a(99708),n=a(62177),c=a(4596),o=a(93322);let l=n.Op,d=r.createContext({}),u=()=>{let e=r.useContext(d),t=r.useContext(h),{getFieldState:a}=(0,n.xW)(),s=(0,n.lN)({name:e.name}),i=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:c}=t;return{id:c,name:e.name,formItemId:"".concat(c,"-form-item"),formDescriptionId:"".concat(c,"-form-item-description"),formMessageId:"".concat(c,"-form-item-message"),...i}},h=r.createContext({});function p(e){let{className:t,...a}=e,i=r.useId();return(0,s.jsx)(h.Provider,{value:{id:i},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,c.cn)("grid gap-2",t),...a})})}function f(e){let{className:t,...a}=e,{error:r,formItemId:i}=u();return(0,s.jsx)(o.J,{"data-slot":"form-label","data-error":!!r,className:(0,c.cn)("data-[error=true]:text-destructive",t),htmlFor:i,...a})}function x(e){let{...t}=e,{error:a,formItemId:r,formDescriptionId:n,formMessageId:c}=u();return(0,s.jsx)(i.DX,{"data-slot":"form-control",id:r,"aria-describedby":a?"".concat(n," ").concat(c):"".concat(n),"aria-invalid":!!a,...t})}function g(e){var t;let{className:a,...r}=e,{error:i,formMessageId:n}=u(),o=i?String(null!=(t=null==i?void 0:i.message)?t:""):r.children;return o?(0,s.jsx)("p",{"data-slot":"form-message",id:n,className:(0,c.cn)("text-destructive text-sm",a),...r,children:o}):null}},40968:(e,t,a)=>{"use strict";a.d(t,{J:()=>n,b:()=>c});var s=a(12115),r=a(63540),i=a(95155),n=s.forwardRef((e,t)=>(0,i.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var c=n},43254:(e,t,a)=>{"use strict";a.d(t,{HK:()=>i,WO:()=>o,ky:()=>c,xN:()=>r,zt:()=>n});var s=a(20858);let r=async()=>{let e=await fetch("".concat(s.p,"/api/subcategory"));if(e.ok)return await e.json();throw Error("Failed to fetch subcategories")},i=async e=>{let t=await fetch("".concat(s.p,"/api/subcategory?categoryID=").concat(e));if(t.ok)return await t.json();throw Error("Failed to fetch subcategories for the category")},n=async e=>{let t=await fetch("".concat(s.p,"/api/subcategory"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create subcategory");return t.json()},c=async(e,t)=>{let a=await fetch("".concat(s.p,"/api/subcategory/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update subcategory");return a.json()},o=async e=>{let t=await fetch("".concat(s.p,"/api/subcategory/").concat(e),{method:"DELETE"});return{message:(await t.json()).message,status:t.status}}},43332:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},45574:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(95155);a(12115);var r=a(4596);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},51386:(e,t,a)=>{"use strict";a.d(t,{Pd:()=>n,ZJ:()=>i,_C:()=>o,el:()=>c,fP:()=>r});var s=a(20858);let r=async()=>{let e=await fetch("".concat(s.p,"/api/disease"));if(!e.ok)throw Error("Failed to fetch diseases");return e.json()},i=async e=>{let t=await fetch("".concat(s.p,"/api/disease/").concat(e));if(!t.ok)throw Error("Failed to fetch disease");return t.json()},n=async e=>{let{userID:t,diseaseName:a,diseaseEnName:r,ricePathogen:i,symptoms:n,images:c}=e,o=await fetch("".concat(s.p,"/api/disease"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:t,diseaseName:a,diseaseEnName:r,ricePathogen:i,symptoms:n,images:c})});if(!o.ok)throw Error("Failed to create disease");return o.json()},c=async(e,t)=>{let a=await fetch("".concat(s.p,"/api/disease/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw Error("Failed to update disease");return a.json()},o=async e=>{let t=await fetch("".concat(s.p,"/api/disease/").concat(e),{method:"DELETE"}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to delete disease");return{message:a.message,status:t.status}}},51686:(e,t,a)=>{"use strict";a.d(t,{Gt:()=>i,Gw:()=>c,VZ:()=>n,_R:()=>o,un:()=>r});var s=a(20858);async function r(){let e=await fetch("".concat(s.p,"/api/tag"));if(!e.ok)throw Error("Failed to fetch tags");return e.json()}async function i(e){let t=await fetch("".concat(s.p,"/api/product-tag"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagIDs:e})});if(!t.ok)throw Error("Failed to fetch products for tag");return t.json()}async function n(e){let t=await fetch("".concat(s.p,"/api/tag"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:e})});if(!t.ok)throw Error("Failed to create tag");return t.json()}async function c(e,t){let a=await fetch("".concat(s.p,"/api/tag/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:t})});if(!a.ok)throw Error("Failed to update tag");return a.ok}async function o(e){let t=await fetch("".concat(s.p,"/api/tag/").concat(e),{method:"DELETE"});if(!t.ok)throw Error("Failed to delete tag");return t.ok}},54372:(e,t,a)=>{"use strict";a.d(t,{Xi:()=>o,av:()=>l,j7:()=>c,tU:()=>n});var s=a(95155);a(12115);var r=a(38944),i=a(4596);function n(e){let{className:t,...a}=e;return(0,s.jsx)(r.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",t),...a})}},69240:(e,t,a)=>{Promise.resolve().then(a.bind(a,9199))},74824:(e,t,a)=>{"use strict";a.d(t,{TR:()=>f,bq:()=>h,eb:()=>x,gC:()=>p,l6:()=>l,s3:()=>d,yv:()=>u});var s=a(95155);a(12115);var r=a(67904),i=a(66474),n=a(5196),c=a(47863),o=a(4596);function l(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,s.jsx)(r.YJ,{"data-slot":"select-group",...t})}function u(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function h(e){let{className:t,size:a="default",children:n,...c}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...c,children:[n,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"size-4 opacity-50"})})]})}function p(e){let{className:t,children:a,position:i="popper",...n}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,s.jsx)(g,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(m,{})]})})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(r.JU,{"data-slot":"select-label",className:(0,o.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function x(e){let{className:t,children:a,...i}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...i,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(n.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(c.A,{className:"size-4"})})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"size-4"})})}},76981:(e,t,a)=>{"use strict";a.d(t,{C1:()=>A,bL:()=>k});var s=a(12115),r=a(6101),i=a(46081),n=a(85185),c=a(5845),o=a(45503),l=a(11275),d=a(28905),u=a(63540),h=a(95155),p="Checkbox",[f,x]=(0,i.A)(p),[g,m]=f(p),j=s.forwardRef((e,t)=>{let{__scopeCheckbox:a,name:i,checked:o,defaultChecked:l,required:d,disabled:f,value:x="on",onCheckedChange:m,form:j,...b}=e,[y,k]=s.useState(null),A=(0,r.s)(t,e=>k(e)),I=s.useRef(!1),C=!y||j||!!y.closest("form"),[S,E]=(0,c.i)({prop:o,defaultProp:null!=l&&l,onChange:m,caller:p}),D=s.useRef(S);return s.useEffect(()=>{let e=null==y?void 0:y.form;if(e){let t=()=>E(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[y,E]),(0,h.jsxs)(g,{scope:a,state:S,disabled:f,children:[(0,h.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":w(S)?"mixed":S,"aria-required":d,"data-state":N(S),"data-disabled":f?"":void 0,disabled:f,value:x,...b,ref:A,onKeyDown:(0,n.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.m)(e.onClick,e=>{E(e=>!!w(e)||!e),C&&(I.current=e.isPropagationStopped(),I.current||e.stopPropagation())})}),C&&(0,h.jsx)(v,{control:y,bubbles:!I.current,name:i,value:x,checked:S,required:d,disabled:f,form:j,style:{transform:"translateX(-100%)"},defaultChecked:!w(l)&&l})]})});j.displayName=p;var b="CheckboxIndicator",y=s.forwardRef((e,t)=>{let{__scopeCheckbox:a,forceMount:s,...r}=e,i=m(b,a);return(0,h.jsx)(d.C,{present:s||w(i.state)||!0===i.state,children:(0,h.jsx)(u.sG.span,{"data-state":N(i.state),"data-disabled":i.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});y.displayName=b;var v=s.forwardRef((e,t)=>{let{__scopeCheckbox:a,control:i,checked:n,bubbles:c=!0,defaultChecked:d,...p}=e,f=s.useRef(null),x=(0,r.s)(f,t),g=(0,o.Z)(n),m=(0,l.X)(i);s.useEffect(()=>{let e=f.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(g!==n&&t){let a=new Event("click",{bubbles:c});e.indeterminate=w(n),t.call(e,!w(n)&&n),e.dispatchEvent(a)}},[g,n,c]);let j=s.useRef(!w(n)&&n);return(0,h.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:j.current,...p,tabIndex:-1,ref:x,style:{...p.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return"indeterminate"===e}function N(e){return w(e)?"indeterminate":e?"checked":"unchecked"}v.displayName="CheckboxBubbleInput";var k=j,A=y},79182:(e,t,a)=>{"use strict";a.d(t,{A3:()=>c,Mw:()=>i,Uy:()=>r,gg:()=>n});var s=a(20858);async function r(){let e=await fetch("".concat(s.p,"/api/origin"));if(!e.ok)throw Error("Failed to fetch products");return e.json()}async function i(e,t){let a=await fetch("".concat(s.p,"/api/origin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({originName:e,originImage:t})});if(!a.ok)throw Error("Failed to add origin");return a.json()}async function n(e,t,a){return(await fetch("".concat(s.p,"/api/origin/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({originName:t,originImage:a||""})})).ok}async function c(e){let t=await fetch("".concat(s.p,"/api/origin/").concat(e),{method:"DELETE"});return{message:(await t.json()).message,status:t.status}}},89179:(e,t,a)=>{"use strict";a.d(t,{J:()=>l,UserProvider:()=>o});var s=a(95155),r=a(35695),i=a(12115),n=a(13568);let c=(0,i.createContext)(void 0);function o(e){let{children:t}=e,a=(0,r.usePathname)(),o=(0,r.useRouter)(),[l,d]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=localStorage.getItem("user"),t=localStorage.getItem("admin");a.includes("dashboard")&&t?d(JSON.parse(t)):e&&d(JSON.parse(e))},[a]),(0,s.jsx)(c.Provider,{value:{user:l,setUser:d,logout:()=>{d(null),localStorage.removeItem("user"),a.includes("dashboard")&&localStorage.removeItem("admin"),o.push("/"),n.Ay.success("Đăng xuất th\xe0nh c\xf4ng!")}},children:t})}function l(){let e=(0,i.useContext)(c);if(!e)throw Error("useUser must be used within a UserProvider");return e}},93322:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});var s=a(95155);a(12115);var r=a(40968),i=a(4596);function n(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5004,277,4277,3568,6231,1350,6766,56,1193,2727,5692,1787,3181,8441,1684,7358],()=>t(69240)),_N_E=e.O()}]);
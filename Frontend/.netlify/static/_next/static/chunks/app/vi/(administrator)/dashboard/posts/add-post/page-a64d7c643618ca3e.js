(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{19022:(e,t,s)=>{"use strict";s.d(t,{S:()=>c});var i=s(95155);s(12115);var l=s(76981),n=s(5196),a=s(4596);function c(e){let{className:t,...s}=e;return(0,i.jsx)(l.bL,{"data-slot":"checkbox",className:(0,a.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...s,children:(0,i.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,i.jsx)(n.A,{className:"size-3.5"})})})}},25111:(e,t,s)=>{Promise.resolve().then(s.bind(s,27425))},27425:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>eg});var i=s(95155),l=s(11518),n=s.n(l),a=s(12115),c=s(45574),r=s(75109),o=s(24932),d=s(17e3),u=s(36761),x=s(81891),h=s(84109),f=s(60882),j=s(61261),b=s(91924),p=s(24106),m=s(95621),g=s(63356),v=s(26333),k=s(40951),A=s(90192),y=s(43557),N=s(79030),C=s(423),I=s(67938),w=s(66766),z=s(89179),L=s(9727),T=s(19144),D=s(17240),R=s(3417),S=s(38164),H=s(28440),E=s(22705),B=s(92406),P=s(76047),O=s(21852),M=s(79973),J=s(15968),U=s(89140),X=s(50142),G=s(18860),q=s(92138),_=s(35169),V=s(65112),F=s(12324),K=s(62525),W=s(57330),Z=s(3428),$=s(82218),Q=s(58832),Y=s(39881),ee=s(87325),et=s(67733),es=s(88702),ei=s(27213),el=s(87712),en=s(54372),ea=s(40224),ec=s(74824),er=s(62177),eo=s(33992),ed=s(52596),eu=s(19022),ex=s(26420),eh=s(13568),ef=s(90199),ej=s(16184),eb=s(17127),ep=s(44850),em=s(35695);function eg(){var e;let{user:t}=(0,z.J)(),s=(0,em.useRouter)(),l=(0,er.mN)({defaultValues:{title:"",subtitle:"",slug:"",tagIDs:[],isPublished:!1}}),{register:eg,handleSubmit:ev,setValue:ek,watch:eA,formState:{errors:ey}}=l,[eN,eC]=(0,a.useState)([]),[eI,ew]=(0,a.useState)(null),[ez,eL]=(0,a.useState)(""),[eT,eD]=(0,a.useState)(!1),[eR,eS]=(0,a.useState)([]),eH=(0,r.hG)({extensions:[o.A,d.A,u.Ay,x.Ay,j.Ay,b.A,p.A,m.A,g.A,k.A,v.Ay.configure({nested:!0}),f.A.configure({levels:[1,2,3,4,5,6],HTMLAttributes:{class:"text-gray-900 dark:text-white font-bold"}}),h.A.configure({types:["heading","paragraph"]}),I.A,A.Ay.configure({resizable:!0}),C.A,N.h,y.A],content:"<p>Hello World! \uD83C\uDF0E️</p>"}),eE=async e=>{if(eD(!0),!t)return void eh.Ay.error("Bạn cần đăng nhập để tạo b\xe0i viết.");try{let i=[...eR];eI&&i.unshift(eI);let l=[];i.length>0&&(l=await (0,ej.uploadMultipleImages)(i));let n=null==eH?void 0:eH.getJSON(),a=+!!eI;n=function e(t){var s,i;if(!t)return t;if(Array.isArray(t))return t.map(e);if("image"===t.type&&(null==(i=t.attrs)||null==(s=i.src)?void 0:s.startsWith("blob:"))){let e=l[a++];return{...t,attrs:{...t.attrs,src:e}}}return t.content?{...t,content:e(t.content)}:t}(n);let c=eI?l[0]:"",r=c?l.slice(2):l,o=t.userID;await (0,eb.Q4)({userID:o,title:e.title,titleImageUrl:c,subTitle:e.subtitle,content:JSON.stringify(n),slug:(0,ef.A)(e.slug||e.title),images:r.length>0?r:void 0,tags:e.tagIDs.length>0?e.tagIDs:void 0,isPublished:e.isPublished,isDraft:!e.isPublished})?(eh.Ay.success("Tạo b\xe0i viết th\xe0nh c\xf4ng!"),s.push("/vi/dashboard/posts")):eh.Ay.error("Tạo b\xe0i viết thất bại.")}catch(e){eh.Ay.error("C\xf3 lỗi xảy ra khi tạo b\xe0i viết."),console.error("Error creating news:",e)}finally{eD(!1)}};(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,ep.ob)();eC(e)}catch(e){console.error("Error fetching tags:",e)}})()},[]);let eB=eg("title",{required:"Ti\xeau đề l\xe0 bắt buộc"}),eP=eg("subtitle"),eO=eg("slug"),eM=eg("isPublished");return eH?(0,i.jsx)(er.Op,{...l,children:(0,i.jsx)("form",{onSubmit:ev(eE),children:(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Th\xeam B\xe0i Viết Mới"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Ti\xeau đề b\xe0i viết"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsx)(c.p,{...eB,maxLength:150,placeholder:"Nhập ti\xeau đề b\xe0i viết (tối đa 150 k\xfd tự)"})}),ey.title&&(0,i.jsx)(eo.C5,{children:ey.title.message})]}),(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Ti\xeau đề phụ"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsx)(c.p,{...eP,maxLength:150,placeholder:"Nhập ti\xeau đề phụ (tối đa 150 k\xfd tự)"})})]}),(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Slug b\xe0i viết (SEO)"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsx)(c.p,{value:"https://example.com/news/"+(0,ef.A)(eA("title")),...eO,placeholder:"https://example.com/news/slug"})})]}),(0,i.jsxs)(eo.eI,{className:"col-span-2",children:[(0,i.jsx)(eo.lR,{children:"Thẻ"}),(null==(e=eA("tagIDs"))?void 0:e.length)>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:eA("tagIDs").map(e=>{let t=eN.find(t=>t.newsTagID===e);return t?(0,i.jsxs)("button",{type:"button",className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs",onClick:()=>{ek("tagIDs",eA("tagIDs").filter(e=>e!==t.newsTagID))},children:[t.tagName," ✕"]},t.newsTagID):null})}),(0,i.jsx)(eo.MJ,{children:(0,i.jsxs)(ec.l6,{value:"",onValueChange:e=>{let t=eN.find(t=>String(t.newsTagID)===String(e)),s=eA("tagIDs")||[];t&&!s.includes(t.newsTagID)&&ek("tagIDs",[...s,t.newsTagID])},children:[(0,i.jsx)(ec.bq,{className:"w-full",children:(0,i.jsx)(ec.yv,{placeholder:"Chọn tag"})}),(0,i.jsx)(ec.gC,{children:eN.map(e=>(0,i.jsx)(ec.eb,{value:String(e.newsTagID),children:e.tagName},e.newsTagID))})]})})]}),(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Ảnh ti\xeau đề"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4 text-center cursor-pointer bg-gray-50 hover:bg-gray-100 transition",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=Array.from(e.dataTransfer.files).find(e=>e.type.startsWith("image/"));if(t){ew(t);let e=new FileReader;e.onload=()=>eL(e.result),e.readAsDataURL(t)}},onClick:()=>{var e;null==(e=document.getElementById("title-image-input"))||e.click()},children:[(0,i.jsx)("input",{id:"title-image-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{var t;let s=(null==(t=e.target.files)?void 0:t[0])||null;if(ew(s),s){let e=new FileReader;e.onload=()=>{eL(e.result)},e.readAsDataURL(s)}else eL("")}}),(0,i.jsx)("div",{className:"text-gray-500",children:"K\xe9o v\xe0 thả ảnh v\xe0o đ\xe2y hoặc bấm để chọn ảnh"}),ez&&(0,i.jsx)("div",{className:"flex justify-center mt-4",children:(0,i.jsx)(w.default,{width:200,height:200,src:ez,alt:"Title",className:"max-h-40 rounded"})})]})})]}),(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d mt-4",children:[(0,i.jsx)("label",{className:"jsx-e64c2e82a73cf37d",children:"Nội dung b\xe0i viết"}),(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d border rounded-lg bg-white dark:bg-gray-800",children:[(0,i.jsxs)(en.tU,{defaultValue:"text",className:"mb-2 border-b p-4",children:[(0,i.jsxs)(en.j7,{className:"flex gap-2 px-1 mb-4",children:[(0,i.jsx)(en.Xi,{value:"text",children:"Văn bản"}),(0,i.jsx)(en.Xi,{value:"heading",children:"Ti\xeau đề"}),(0,i.jsx)(en.Xi,{value:"list",children:"Danh s\xe1ch"}),(0,i.jsx)(en.Xi,{value:"table",children:"Bảng"}),(0,i.jsx)(en.Xi,{value:"align",children:"Căn lề"}),(0,i.jsx)(en.Xi,{value:"insert",children:"Ch\xe8n"})]}),(0,i.jsx)(en.av,{value:"text",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-4 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bold",onClick:()=>eH.chain().focus().toggleBold().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eH.isActive("bold")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(L.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"In đậm"})]}),(0,i.jsxs)("button",{type:"button",title:"Italic",onClick:()=>eH.chain().focus().toggleItalic().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eH.isActive("italic")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(T.A,{size:16})," ",(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"In nghi\xeang"})]}),(0,i.jsxs)("button",{type:"button",title:"Underline",onClick:()=>eH.chain().focus().toggleUnderline().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eH.isActive("underline")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(D.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Gạch ch\xe2n"})]}),(0,i.jsxs)("button",{type:"button",title:"Blockquote",onClick:()=>eH.chain().focus().toggleBlockquote().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eH.isActive("blockquote")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(ea.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Tr\xedch"})]}),(0,i.jsxs)("button",{type:"button",title:"Code Block",onClick:()=>eH.chain().focus().toggleCodeBlock().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eH.isActive("codeBlock")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(R.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Khối code"})]}),(0,i.jsxs)("button",{type:"button",title:"Link",onClick:()=>{let e=prompt("Enter URL");e&&eH.chain().focus().setLink({href:e}).run()},className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eH.isActive("link")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(S.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Li\xean kết"})]})]})}),(0,i.jsx)(en.av,{value:"heading",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"H1",onClick:()=>eH.chain().focus().toggleHeading({level:1}).run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("heading",{level:1})?"is-active":"")||""),children:(0,i.jsx)(H.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H2",onClick:()=>eH.chain().focus().toggleHeading({level:2}).run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("heading",{level:2})?"is-active":"")||""),children:(0,i.jsx)(E.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H3",onClick:()=>eH.chain().focus().toggleHeading({level:3}).run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("heading",{level:3})?"is-active":"")||""),children:(0,i.jsx)(B.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H4",onClick:()=>eH.chain().focus().toggleHeading({level:4}).run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("heading",{level:4})?"is-active":"")||""),children:(0,i.jsx)(P.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H5",onClick:()=>eH.chain().focus().toggleHeading({level:5}).run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("heading",{level:5})?"is-active":"")||""),children:(0,i.jsx)(O.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H6",onClick:()=>eH.chain().focus().toggleHeading({level:6}).run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("heading",{level:6})?"is-active":"")||""),children:(0,i.jsx)(M.A,{size:18})})]})}),(0,i.jsx)(en.av,{value:"list",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bullet List",onClick:()=>eH.chain().focus().toggleBulletList().run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("bulletList")?"is-active":"")||""),children:[(0,i.jsx)(J.A,{size:18}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d"})]}),(0,i.jsx)("button",{type:"button",title:"Ordered List",onClick:()=>eH.chain().focus().toggleOrderedList().run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("orderedList")?"is-active":"")||""),children:(0,i.jsx)(U.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Task List",onClick:()=>eH.chain().focus().toggleTaskList().run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive("taskList")?"is-active":"")||""),children:(0,i.jsx)(X.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Split List Item",onClick:()=>eH.chain().focus().splitListItem("listItem").run(),disabled:!eH.can().splitListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(G.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink List Item",onClick:()=>eH.chain().focus().sinkListItem("listItem").run(),disabled:!eH.can().sinkListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(q.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift List Item",onClick:()=>eH.chain().focus().liftListItem("listItem").run(),disabled:!eH.can().liftListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(_.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Task Item",onClick:()=>eH.chain().focus().splitListItem("taskItem").run(),disabled:!eH.can().splitListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(G.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink Task Item",onClick:()=>eH.chain().focus().sinkListItem("taskItem").run(),disabled:!eH.can().sinkListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(q.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift Task Item",onClick:()=>eH.chain().focus().liftListItem("taskItem").run(),disabled:!eH.can().liftListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(_.A,{size:16})})]})}),(0,i.jsx)(en.av,{value:"table",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Insert Table",onClick:()=>eH.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(V.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column Before",onClick:()=>eH.chain().focus().addColumnBefore().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(F.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column After",onClick:()=>eH.chain().focus().addColumnAfter().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(F.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Column",onClick:()=>eH.chain().focus().deleteColumn().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(K.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row Before",onClick:()=>eH.chain().focus().addRowBefore().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(W.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row After",onClick:()=>eH.chain().focus().addRowAfter().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(W.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Row",onClick:()=>eH.chain().focus().deleteRow().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(K.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Table",onClick:()=>eH.chain().focus().deleteTable().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(K.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge Cells",onClick:()=>eH.chain().focus().mergeCells().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Cell",onClick:()=>eH.chain().focus().splitCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(G.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Column",onClick:()=>eH.chain().focus().toggleHeaderColumn().run(),className:"jsx-e64c2e82a73cf37d",children:"1"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Row",onClick:()=>eH.chain().focus().toggleHeaderRow().run(),className:"jsx-e64c2e82a73cf37d",children:"2"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Cell",onClick:()=>eH.chain().focus().toggleHeaderCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)($.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge or Split",onClick:()=>eH.chain().focus().mergeOrSplit().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Set Cell Attribute",onClick:()=>eH.chain().focus().setCellAttribute("colspan",2).run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(F.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Fix Tables",onClick:()=>eH.chain().focus().fixTables().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(V.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Next Cell",onClick:()=>eH.chain().focus().goToNextCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Q.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Previous Cell",onClick:()=>eH.chain().focus().goToPreviousCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Y.A,{size:16})})]})}),(0,i.jsx)(en.av,{value:"align",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Align Left",onClick:()=>eH.chain().focus().setTextAlign("left").run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive({textAlign:"left"})?"is-active":"")||""),children:(0,i.jsx)(ee.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Center",onClick:()=>eH.chain().focus().setTextAlign("center").run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive({textAlign:"center"})?"is-active":"")||""),children:(0,i.jsx)(et.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Right",onClick:()=>eH.chain().focus().setTextAlign("right").run(),className:"jsx-e64c2e82a73cf37d "+((eH.isActive({textAlign:"right"})?"is-active":"")||""),children:(0,i.jsx)(es.A,{size:16})})]})}),(0,i.jsx)(en.av,{value:"insert",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsxs)("label",{title:"Image",className:"jsx-e64c2e82a73cf37d",children:[(0,i.jsx)(ei.A,{size:16}),(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;eS(e=>[...e,s]);let i=URL.createObjectURL(s);eH.chain().focus().setImage({src:i}).run()},className:"jsx-e64c2e82a73cf37d"})]}),(0,i.jsx)("button",{type:"button",title:"Horizontal Rule",onClick:()=>eH.chain().focus().setHorizontalRule().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(el.A,{size:16})})]})})]}),(0,i.jsx)(r.$Z,{editor:eH,className:"tiptap-content min-h-[300px] p-3 focus:outline-none rounded-br-md rounded-bl-md focus:border-none"})]}),(0,i.jsx)(n(),{id:"e64c2e82a73cf37d",children:".tiptap-content:focus,.tiptap-content:focus-visible,.tiptap-content *:focus,.tiptap-content *:focus-visible{outline:none!important;border:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.is-active{background-color:#e9e9e9;color:#000;border-color:#2563eb;padding:.2rem .5rem;-webkit-border-radius:-webkit-calc(var(--radius) - 2px);-moz-border-radius:-moz-calc(var(--radius) - 2px);border-radius:-webkit-calc(var(--radius) - 2px);border-radius:-moz-calc(var(--radius) - 2px);border-radius:calc(var(--radius) - 2px)}"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 py-4",children:[(0,i.jsx)(eu.S,{...eM,id:"isPublished",checked:eA("isPublished"),onCheckedChange:e=>ek("isPublished",!!e)}),(0,i.jsx)("label",{htmlFor:"isPublished",children:"C\xf4ng khai b\xe0i viết"})]}),(0,i.jsx)("div",{className:"mt-6 flex justify-end",children:(0,i.jsx)(ex.$,{variant:"default",disabled:eT,className:"cursor-pointer",children:eT?"Đang lưu...":"Tạo b\xe0i viết"})})]})})}):null}},76981:(e,t,s)=>{"use strict";s.d(t,{C1:()=>C,bL:()=>N});var i=s(12115),l=s(6101),n=s(46081),a=s(85185),c=s(5845),r=s(45503),o=s(11275),d=s(28905),u=s(63540),x=s(95155),h="Checkbox",[f,j]=(0,n.A)(h),[b,p]=f(h),m=i.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:n,checked:r,defaultChecked:o,required:d,disabled:f,value:j="on",onCheckedChange:p,form:m,...g}=e,[v,N]=i.useState(null),C=(0,l.s)(t,e=>N(e)),I=i.useRef(!1),w=!v||m||!!v.closest("form"),[z,L]=(0,c.i)({prop:r,defaultProp:null!=o&&o,onChange:p,caller:h}),T=i.useRef(z);return i.useEffect(()=>{let e=null==v?void 0:v.form;if(e){let t=()=>L(T.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,L]),(0,x.jsxs)(b,{scope:s,state:z,disabled:f,children:[(0,x.jsx)(u.sG.button,{type:"button",role:"checkbox","aria-checked":A(z)?"mixed":z,"aria-required":d,"data-state":y(z),"data-disabled":f?"":void 0,disabled:f,value:j,...g,ref:C,onKeyDown:(0,a.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,a.m)(e.onClick,e=>{L(e=>!!A(e)||!e),w&&(I.current=e.isPropagationStopped(),I.current||e.stopPropagation())})}),w&&(0,x.jsx)(k,{control:v,bubbles:!I.current,name:n,value:j,checked:z,required:d,disabled:f,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!A(o)&&o})]})});m.displayName=h;var g="CheckboxIndicator",v=i.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:i,...l}=e,n=p(g,s);return(0,x.jsx)(d.C,{present:i||A(n.state)||!0===n.state,children:(0,x.jsx)(u.sG.span,{"data-state":y(n.state),"data-disabled":n.disabled?"":void 0,...l,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=g;var k=i.forwardRef((e,t)=>{let{__scopeCheckbox:s,control:n,checked:a,bubbles:c=!0,defaultChecked:d,...h}=e,f=i.useRef(null),j=(0,l.s)(f,t),b=(0,r.Z)(a),p=(0,o.X)(n);i.useEffect(()=>{let e=f.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(b!==a&&t){let s=new Event("click",{bubbles:c});e.indeterminate=A(a),t.call(e,!A(a)&&a),e.dispatchEvent(s)}},[b,a,c]);let m=i.useRef(!A(a)&&a);return(0,x.jsx)(u.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=d?d:m.current,...h,tabIndex:-1,ref:j,style:{...h.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function A(e){return"indeterminate"===e}function y(e){return A(e)?"indeterminate":e?"checked":"unchecked"}k.displayName="CheckboxBubbleInput";var N=m,C=v}},e=>{var t=t=>e(e.s=t);e.O(0,[5004,277,4277,3568,6231,1350,6766,56,1193,2727,5692,1787,3181,3904,8441,1684,7358],()=>t(25111)),_N_E=e.O()}]);
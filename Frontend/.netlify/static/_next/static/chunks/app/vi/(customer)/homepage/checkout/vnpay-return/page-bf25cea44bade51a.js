(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9096],{71074:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var s=n(95155),a=n(12115),l=n(69256),i=n(35695),r=n(13568),o=n(40872),c=n(25957),d=n(36884),h=n(66766),x=n(85692);function u(){var e,t;let{setCart:n}=(0,l.U)(),u=(0,i.useRouter)(),m=(0,i.useSearchParams)(),p=m.get("vnp_ResponseCode"),v=m.get("vnp_TransactionStatus"),g=(0,a.useRef)(!1),j="00"===p&&"00"===v,[f,y]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(g.current)return;g.current=!0;let e=localStorage.getItem("checkoutData");if(!e)return void r.Ay.error("Đ\xe3 c\xf3 lỗi xảy ra trong qu\xe1 tr\xecnh thanh to\xe1n, vui l\xf2ng thử lại sau!");try{y(JSON.parse(e))}catch(e){console.error("Error parsing checkout data from local storage:",e),r.Ay.error("Đ\xe3 c\xf3 lỗi xảy ra trong qu\xe1 tr\xecnh thanh to\xe1n, vui l\xf2ng thử lại sau!");return}let t=async()=>{try{await (0,x.Lc)(JSON.parse(e)),localStorage.removeItem("checkoutData"),r.Ay.success("Đặt h\xe0ng th\xe0nh c\xf4ng!"),n({cartID:0,totalQuantity:0,products:[]})}catch(e){console.error("Error creating order:",e),r.Ay.error("Đặt h\xe0ng thất bại, vui l\xf2ng thử lại sau!")}};j?t():r.Ay.error("Đặt h\xe0ng thất bại, vui l\xf2ng thử lại sau!")},[]),(0,s.jsxs)("div",{className:"px-6 py-10 min-h-[60vh]",children:[(0,s.jsx)(c.Qp,{items:[{label:"Trang chủ",href:"/"},{label:"X\xe1c nhận đơn h\xe0ng"}]}),(0,s.jsx)("div",{children:j?(0,s.jsxs)("div",{className:"text-center flex flex-col items-center justify-center gap-y-2",children:[(0,s.jsxs)(o.P.svg,{initial:"hidden",animate:"visible",variants:{hidden:{scale:0,opacity:0},visible:{scale:1,opacity:1,transition:{type:"spring",stiffness:260,damping:20}}},width:100,height:100,viewBox:"0 0 80 80",className:"mx-auto mb-6",children:[(0,s.jsx)(o.P.circle,{cx:"40",cy:"40",r:"36",fill:"none",stroke:"#22c55e",strokeWidth:"6",strokeLinecap:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.6}}),(0,s.jsx)(o.P.path,{d:"M25 42 L37 54 L56 31",fill:"none",stroke:"#22c55e",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5,delay:.5}})]}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-green-600 mb-2",children:"Thanh to\xe1n th\xe0nh c\xf4ng!"}),(0,s.jsx)("p",{className:"mb-2",children:"Cảm ơn bạn đ\xe3 đặt h\xe0ng."}),(0,s.jsxs)("div",{className:"relative overflow-hidden rounded p-4 my-4 w-full max-w-4xl mx-auto border-[2px] border-dashed border-gray-300",children:[(0,s.jsx)("div",{className:"flex mb-4 ",children:(0,s.jsx)(h.default,{src:d.default,alt:"Logo",className:"w-auto h-10"})}),(0,s.jsx)("div",{className:"h-[10px] w-[10px] bg-gray-300 rounded-full absolute right-5 top-5"}),(0,s.jsx)("div",{className:"text-gray-300 text-7xl absolute opacity-20 -z-1 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[880px] -rotate-45",children:"NFEAM HOUSE"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4 uppercase",children:"Chi tiết đơn h\xe0ng"}),(0,s.jsxs)("div",{className:"flex flex-col items-start gap-y-4",children:[(null==f?void 0:f.orderID)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"M\xe3 đơn h\xe0ng:"})," ",f.orderID]}),(null==f?void 0:f.fullName)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"T\xean kh\xe1ch h\xe0ng:"})," ",f.fullName]}),(null==f?void 0:f.phone)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Số điện thoại:"})," ",f.phone]}),(null==f?void 0:f.address)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Địa chỉ:"})," ",f.address]}),(null==f?void 0:f.totalQuantity)!==void 0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Tổng số lượng:"})," ",f.totalQuantity<10?"0".concat(f.totalQuantity):f.totalQuantity]}),(null==f?void 0:f.deliveryCost)!==void 0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Ph\xed vận chuyển:"})," ",null==(e=f.deliveryCost)?void 0:e.toLocaleString()," VND"]}),(null==f?void 0:f.discount)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Giảm gi\xe1:"})," ",f.discount.discountValue.toLocaleString()," VND"]}),(null==f?void 0:f.paymentMethod)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Phương thức thanh to\xe1n:"})," ",f.paymentMethod]}),(null==f?void 0:f.note)&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-semibold",children:"Ghi ch\xfa:"})," ",f.note]})]}),(null==f?void 0:f.totalPayment)!==void 0&&(0,s.jsxs)("div",{className:"flex justify-start items-center text-2xl gap-x-2 mt-4",children:[(0,s.jsx)("span",{className:"font-semibold",children:"Tổng thanh to\xe1n:"}),(0,s.jsxs)("span",{className:"font-bold text-primary",children:[" ",null==(t=f.totalPayment)?void 0:t.toLocaleString(),(0,s.jsx)("span",{children:"VND"}),"   "]})]})]}),(0,s.jsx)(c.$n,{variant:"primary",className:"",onClick:()=>u.push("/"),children:"Về trang chủ"})]}):(0,s.jsxs)("div",{className:"text-center flex flex-col items-center justify-center gap-y-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Thanh to\xe1n thất bại!"}),(0,s.jsx)("p",{className:"mb-2",children:"Đ\xe3 c\xf3 lỗi xảy ra trong qu\xe1 tr\xecnh thanh to\xe1n."}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"M\xe3 lỗi:"})," ",p]}),(0,s.jsx)(c.$n,{variant:"primary",className:"",onClick:()=>u.push("/"),children:"Về trang chủ"})]})})]})}function m(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{children:"Đang tải..."}),children:(0,s.jsx)(u,{})})}},86278:(e,t,n)=>{Promise.resolve().then(n.bind(n,71074))}},e=>{var t=t=>e(e.s=t);e.O(0,[7935,6122,4277,3568,6231,1350,6766,56,1193,7625,2727,6874,4754,8037,4297,8612,5957,8441,1684,7358],()=>t(86278)),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1787],{423:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(4701);let o=l.bP.create({name:"tableRow",addOptions:()=>({HTMLAttributes:{}}),content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML:()=>[{tag:"tr"}],renderHTML({HTMLAttributes:e}){return["tr",(0,l.KV)(this.options.HTMLAttributes,e),0]}})},17e3:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(4701);let o=l.CU.create({name:"underline",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("underline")&&{}}],renderHTML({HTMLAttributes:e}){return["u",(0,l.KV)(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}})},26333:(e,t,n)=>{n.d(t,{Ay:()=>r});var l=n(4701);let o=/^\s*(\[([( |x])?\])\s$/,r=l.bP.create({name:"taskItem",addOptions:()=>({nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}),content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes:()=>({checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{let t=e.getAttribute("data-checked");return""===t||"true"===t},renderHTML:e=>({"data-checked":e.checked})}}),parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",(0,l.KV)(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){let e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:l})=>{let o=document.createElement("li"),r=document.createElement("label"),i=document.createElement("span"),s=document.createElement("input"),a=document.createElement("div");return r.contentEditable="false",s.type="checkbox",s.addEventListener("mousedown",e=>e.preventDefault()),s.addEventListener("change",t=>{if(!l.isEditable&&!this.options.onReadOnlyChecked){s.checked=!s.checked;return}let{checked:o}=t.target;l.isEditable&&"function"==typeof n&&l.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:e})=>{let t=n();if("number"!=typeof t)return!1;let l=e.doc.nodeAt(t);return e.setNodeMarkup(t,void 0,{...null==l?void 0:l.attrs,checked:o}),!0}).run(),l.isEditable||!this.options.onReadOnlyChecked||this.options.onReadOnlyChecked(e,o)||(s.checked=!s.checked)}),Object.entries(this.options.HTMLAttributes).forEach(([e,t])=>{o.setAttribute(e,t)}),o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,r.append(s,i),o.append(r,a),Object.entries(t).forEach(([e,t])=>{o.setAttribute(e,t)}),{dom:o,contentDOM:a,update:e=>e.type===this.type&&(o.dataset.checked=e.attrs.checked,s.checked=e.attrs.checked,!0)}}},addInputRules(){return[(0,l.tG)({find:o,type:this.type,getAttributes:e=>({checked:"x"===e[e.length-1]})})]}})},36761:(e,t,n)=>{n.d(t,{Ay:()=>eW});var l=n(4701);let o=(e,t)=>{for(let n in t)e[n]=t[n];return e},r="numeric",i="ascii",s="alpha",a="asciinumeric",d="alphanumeric",c="domain",h="emoji",u="whitespace";function p(e,t,n){for(let l in t[r]&&(t[a]=!0,t[d]=!0),t[i]&&(t[a]=!0,t[s]=!0),t[a]&&(t[d]=!0),t[s]&&(t[d]=!0),t[d]&&(t[c]=!0),t[h]&&(t[c]=!0),t){let t=(l in n||(n[l]=[]),n[l]);0>t.indexOf(e)&&t.push(e)}}function f(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}f.groups={},f.prototype={accepts(){return!!this.t},go(e){let t=this.j[e];if(t)return t;for(let t=0;t<this.jr.length;t++){let n=this.jr[t][0],l=this.jr[t][1];if(l&&n.test(e))return l}return this.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,l){for(let o=0;o<e.length;o++)this.tt(e[o],t,n,l)},tr(e,t,n,l){let o;return l=l||f.groups,t&&t.j?o=t:(o=new f(t),n&&l&&p(t,n,l)),this.jr.push([e,o]),o},ts(e,t,n,l){let o=this,r=e.length;if(!r)return o;for(let t=0;t<r-1;t++)o=o.tt(e[t]);return o.tt(e[r-1],t,n,l)},tt(e,t,n,l){if(l=l||f.groups,t&&t.j)return this.j[e]=t,t;let r,i=this.go(e);return i?(o((r=new f).j,i.j),r.jr.push.apply(r.jr,i.jr),r.jd=i.jd,r.t=i.t):r=new f,t&&(l&&(r.t&&"string"==typeof r.t?p(t,o(function(e,t){let n={};for(let l in t)t[l].indexOf(e)>=0&&(n[l]=!0);return n}(r.t,l),n),l):n&&p(t,n,l)),r.t=t),this.j[e]=r,r}};let m=(e,t,n,l,o)=>e.ta(t,n,l,o),g=(e,t,n,l,o)=>e.tr(t,n,l,o),b=(e,t,n,l,o)=>e.ts(t,n,l,o),w=(e,t,n,l,o)=>e.tt(t,n,l,o),y="WORD",A="UWORD",C="ASCIINUMERICAL",k="ALPHANUMERICAL",v="LOCALHOST",L="UTLD",T="SCHEME",E="SLASH_SCHEME",S="OPENBRACE",M="CLOSEBRACE",R="OPENBRACKET",N="CLOSEBRACKET",x="OPENPAREN",H="CLOSEPAREN",O="OPENANGLEBRACKET",$="CLOSEANGLEBRACKET",z="FULLWIDTHLEFTPAREN",P="FULLWIDTHRIGHTPAREN",I="LEFTCORNERBRACKET",D="RIGHTCORNERBRACKET",j="LEFTWHITECORNERBRACKET",U="RIGHTWHITECORNERBRACKET",F="FULLWIDTHLESSTHAN",K="FULLWIDTHGREATERTHAN",W="AMPERSAND",B="APOSTROPHE",_="ASTERISK",V="BACKSLASH",q="BACKTICK",G="CARET",Q="COLON",J="COMMA",Y="DOLLAR",X="EQUALS",Z="EXCLAMATION",ee="HYPHEN",et="PERCENT",en="PIPE",el="PLUS",eo="POUND",er="QUERY",ei="QUOTE",es="FULLWIDTHMIDDLEDOT",ea="SEMI",ed="SLASH",ec="TILDE",eh="UNDERSCORE",eu="EMOJI";var ep=Object.freeze({__proto__:null,ALPHANUMERICAL:k,AMPERSAND:W,APOSTROPHE:B,ASCIINUMERICAL:C,ASTERISK:_,AT:"AT",BACKSLASH:V,BACKTICK:q,CARET:G,CLOSEANGLEBRACKET:$,CLOSEBRACE:M,CLOSEBRACKET:N,CLOSEPAREN:H,COLON:Q,COMMA:J,DOLLAR:Y,DOT:"DOT",EMOJI:eu,EQUALS:X,EXCLAMATION:Z,FULLWIDTHGREATERTHAN:K,FULLWIDTHLEFTPAREN:z,FULLWIDTHLESSTHAN:F,FULLWIDTHMIDDLEDOT:es,FULLWIDTHRIGHTPAREN:P,HYPHEN:ee,LEFTCORNERBRACKET:I,LEFTWHITECORNERBRACKET:j,LOCALHOST:v,NL:"NL",NUM:"NUM",OPENANGLEBRACKET:O,OPENBRACE:S,OPENBRACKET:R,OPENPAREN:x,PERCENT:et,PIPE:en,PLUS:el,POUND:eo,QUERY:er,QUOTE:ei,RIGHTCORNERBRACKET:D,RIGHTWHITECORNERBRACKET:U,SCHEME:T,SEMI:ea,SLASH:ed,SLASH_SCHEME:E,SYM:"SYM",TILDE:ec,TLD:"TLD",UNDERSCORE:eh,UTLD:L,UWORD:A,WORD:y,WS:"WS"});let ef=/[a-z]/,em=/\p{L}/u,eg=/\p{Emoji}/u,eb=/\d/,ew=/\s/,ey=null,eA=null;function eC(e,t){let n=function(e){let t=[],n=e.length,l=0;for(;l<n;){let o,r=e.charCodeAt(l),i=r<55296||r>56319||l+1===n||(o=e.charCodeAt(l+1))<56320||o>57343?e[l]:e.slice(l,l+2);t.push(i),l+=i.length}return t}(t.replace(/[A-Z]/g,e=>e.toLowerCase())),l=n.length,o=[],r=0,i=0;for(;i<l;){let s=e,a=null,d=0,c=null,h=-1,u=-1;for(;i<l&&(a=s.go(n[i]));)(s=a).accepts()?(h=0,u=0,c=s):h>=0&&(h+=n[i].length,u++),d+=n[i].length,r+=n[i].length,i++;r-=h,i-=u,d-=h,o.push({t:c.t,v:t.slice(r-d,r),s:r-d,e:r})}return o}function ek(e,t,n,l,o){let r,i=t.length;for(let n=0;n<i-1;n++){let i=t[n];e.j[i]?r=e.j[i]:((r=new f(l)).jr=o.slice(),e.j[i]=r),e=r}return(r=new f(n)).jr=o.slice(),e.j[t[i-1]]=r,r}function ev(e){let t=[],n=[],l=0;for(;l<e.length;){let o=0;for(;"0123456789".indexOf(e[l+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let t=parseInt(e.substring(l,l+o),10);t>0;t--)n.pop();l+=o}else n.push(e[l]),l++}return t}let eL={defaultProtocol:"http",events:null,format:eE,formatHref:eE,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function eT(e,t=null){let n=o({},eL);e&&(n=o(n,e instanceof eT?e.o:e));let l=n.ignoreTags,r=[];for(let e=0;e<l.length;e++)r.push(l[e].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=r}function eE(e){return e}function eS(e,t){this.t="token",this.v=e,this.tk=t}function eM(e,t){class n extends eS{constructor(t,n){super(t,n),this.t=e}}for(let e in t)n.prototype[e]=t[e];return n.t=e,n}eT.prototype={o:eL,ignoreTags:[],defaultRender:e=>e,check(e){return this.get("validate",e.toString(),e)},get(e,t,n){let l=null!=t,o=this.o[e];return o&&("object"==typeof o?"function"==typeof(o=n.t in o?o[n.t]:eL[e])&&l&&(o=o(t,n)):"function"==typeof o&&l&&(o=o(t,n.t,n))),o},getObj(e,t,n){let l=this.o[e];return"function"==typeof l&&null!=t&&(l=l(t,n.t,n)),l},render(e){let t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}},eS.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){let t=this.toString(),n=e.get("truncate",t,this),l=e.get("format",t,this);return n&&l.length>n?l.substring(0,n)+"…":l},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=eL.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){let t=this.toHref(e.get("defaultProtocol")),n=e.get("formatHref",t,this),l=e.get("tagName",t,this),r=this.toFormattedString(e),i={},s=e.get("className",t,this),a=e.get("target",t,this),d=e.get("rel",t,this),c=e.getObj("attributes",t,this),h=e.getObj("events",t,this);return i.href=n,s&&(i.class=s),a&&(i.target=a),d&&(i.rel=d),c&&o(i,c),{tagName:l,attributes:i,content:r,eventListeners:h}}};let eR=eM("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),eN=eM("text"),ex=eM("nl"),eH=eM("url",{isLink:!0,toHref(e=eL.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){let e=this.tk;return e.length>=2&&e[0].t!==v&&e[1].t===Q}}),eO=e=>new f(e);function e$(e,t,n){let l=n[0].s,o=n[n.length-1].e;return new e(t.slice(l,o),n)}let ez="undefined"!=typeof console&&console&&console.warn||(()=>{}),eP={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function eI(e,t=!1){if(eP.initialized&&ez(`linkifyjs: already initialized - will not register custom scheme "${e}" until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);eP.customSchemes.push([e,t])}function eD(e){return eP.initialized||function(){eP.scanner=function(e=[]){let t={};f.groups=t;let n=new f;null==ey&&(ey=ev("aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xf6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2")),null==eA&&(eA=ev("ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2")),w(n,"'",B),w(n,"{",S),w(n,"}",M),w(n,"[",R),w(n,"]",N),w(n,"(",x),w(n,")",H),w(n,"<",O),w(n,">",$),w(n,"（",z),w(n,"）",P),w(n,"「",I),w(n,"」",D),w(n,"『",j),w(n,"』",U),w(n,"＜",F),w(n,"＞",K),w(n,"&",W),w(n,"*",_),w(n,"@","AT"),w(n,"`",q),w(n,"^",G),w(n,":",Q),w(n,",",J),w(n,"$",Y),w(n,".","DOT"),w(n,"=",X),w(n,"!",Z),w(n,"-",ee),w(n,"%",et),w(n,"|",en),w(n,"+",el),w(n,"#",eo),w(n,"?",er),w(n,'"',ei),w(n,"/",ed),w(n,";",ea),w(n,"~",ec),w(n,"_",eh),w(n,"\\",V),w(n,"・",es);let l=g(n,eb,"NUM",{[r]:!0});g(l,eb,l);let m=g(l,ef,C,{[a]:!0}),eC=g(l,em,k,{[d]:!0}),eL=g(n,ef,y,{[i]:!0});g(eL,eb,m),g(eL,ef,eL),g(m,eb,m),g(m,ef,m);let eT=g(n,em,A,{[s]:!0});g(eT,ef),g(eT,eb,eC),g(eT,em,eT),g(eC,eb,eC),g(eC,ef),g(eC,em,eC);let eE=w(n,"\n","NL",{[u]:!0}),eS=w(n,"\r","WS",{[u]:!0}),eM=g(n,ew,"WS",{[u]:!0});w(n,"￼",eM),w(eS,"\n",eE),w(eS,"￼",eM),g(eS,ew,eM),w(eM,"\r"),w(eM,"\n"),g(eM,ew,eM),w(eM,"￼",eM);let eR=g(n,eg,eu,{[h]:!0});w(eR,"#"),g(eR,eg,eR),w(eR,"️",eR);let eN=w(eR,"‍");w(eN,"#"),g(eN,eg,eR);let ex=[[ef,eL],[eb,m]],eH=[[ef,null],[em,eT],[eb,eC]];for(let e=0;e<ey.length;e++)ek(n,ey[e],"TLD",y,ex);for(let e=0;e<eA.length;e++)ek(n,eA[e],L,A,eH);p("TLD",{tld:!0,ascii:!0},t),p(L,{utld:!0,alpha:!0},t),ek(n,"file",T,y,ex),ek(n,"mailto",T,y,ex),ek(n,"http",E,y,ex),ek(n,"https",E,y,ex),ek(n,"ftp",E,y,ex),ek(n,"ftps",E,y,ex),p(T,{scheme:!0,ascii:!0},t),p(E,{slashscheme:!0,ascii:!0},t),e=e.sort((e,t)=>e[0]>t[0]?1:-1);for(let t=0;t<e.length;t++){let l=e[t][0],o=e[t][1]?{scheme:!0}:{slashscheme:!0};l.indexOf("-")>=0?o[c]=!0:ef.test(l)?eb.test(l)?o[a]=!0:o[i]=!0:o[r]=!0,b(n,l,l,o)}return b(n,"localhost",v,{ascii:!0}),n.jd=new f("SYM"),{start:n,tokens:o({groups:t},ep)}}(eP.customSchemes);for(let e=0;e<eP.tokenQueue.length;e++)eP.tokenQueue[e][1]({scanner:eP.scanner});eP.parser=function({groups:e}){let t=e.domain.concat([W,_,"AT",V,q,G,Y,X,ee,"NUM",et,en,el,eo,ed,"SYM",ec,eh]),n=[B,Q,J,"DOT",Z,et,er,ei,ea,O,$,S,M,N,R,x,H,z,P,I,D,j,U,F,K],l=[W,B,_,V,q,G,Y,X,ee,S,M,et,en,el,eo,er,ed,"SYM",ec,eh],o=eO(),r=w(o,ec);m(r,l,r),m(r,e.domain,r);let i=eO(),s=eO(),a=eO();m(o,e.domain,i),m(o,e.scheme,s),m(o,e.slashscheme,a),m(i,l,r),m(i,e.domain,i);let d=w(i,"AT");w(r,"AT",d),w(s,"AT",d),w(a,"AT",d);let c=w(r,"DOT");m(c,l,r),m(c,e.domain,r);let h=eO();m(d,e.domain,h),m(h,e.domain,h);let u=w(h,"DOT");m(u,e.domain,h);let p=eO(eR);m(u,e.tld,p),m(u,e.utld,p),w(d,v,p);let f=w(h,ee);w(f,ee,f),m(f,e.domain,h),m(p,e.domain,h),w(p,"DOT",u),w(p,ee,f),m(w(p,Q),e.numeric,eR);let g=w(i,ee),b=w(i,"DOT");w(g,ee,g),m(g,e.domain,i),m(b,l,r),m(b,e.domain,i);let y=eO(eH);m(b,e.tld,y),m(b,e.utld,y),m(y,e.domain,i),m(y,l,r),w(y,"DOT",b),w(y,ee,g),w(y,"AT",d);let A=w(y,Q),C=eO(eH);m(A,e.numeric,C);let k=eO(eH),L=eO();m(k,t,k),m(k,n,L),m(L,t,k),m(L,n,L),w(y,ed,k),w(C,ed,k);let T=w(s,Q),E=w(a,Q),es=w(E,ed),eu=w(es,ed);m(s,e.domain,i),w(s,"DOT",b),w(s,ee,g),m(a,e.domain,i),w(a,"DOT",b),w(a,ee,g),m(T,e.domain,k),w(T,ed,k),w(T,er,k),m(eu,e.domain,k),m(eu,t,k),w(eu,ed,k);let ef=[[S,M],[R,N],[x,H],[O,$],[z,P],[I,D],[j,U],[F,K]];for(let e=0;e<ef.length;e++){let[l,o]=ef[e],r=w(k,l);w(L,l,r),w(r,o,k);let i=eO(eH);m(r,t,i);let s=eO();m(r,n),m(i,t,i),m(i,n,s),m(s,t,i),m(s,n,s),w(i,o,k),w(s,o,k)}return w(o,v,y),w(o,"NL",ex),{start:o,tokens:ep}}(eP.scanner.tokens);for(let e=0;e<eP.pluginQueue.length;e++)eP.pluginQueue[e][1]({scanner:eP.scanner,parser:eP.parser});eP.initialized=!0}(),function(e,t,n){let l=n.length,o=0,r=[],i=[];for(;o<l;){let s=e,a=null,d=null,c=0,h=null,u=-1;for(;o<l&&!(a=s.go(n[o].t));)i.push(n[o++]);for(;o<l&&(d=a||s.go(n[o].t));)a=null,(s=d).accepts()?(u=0,h=s):u>=0&&u++,o++,c++;if(u<0)(o-=c)<l&&(i.push(n[o]),o++);else{i.length>0&&(r.push(e$(eN,t,i)),i=[]),o-=u,c-=u;let e=h.t,l=n.slice(o-c,o);r.push(e$(e,t,l))}}return i.length>0&&r.push(e$(eN,t,i)),r}(eP.parser.start,e,eC(eP.scanner.start,e))}function ej(e,t=null,n=null){if(t&&"object"==typeof t){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}let l=new eT(n),o=eD(e),r=[];for(let e=0;e<o.length;e++){let n=o[e];n.isLink&&(!t||n.t===t)&&l.check(n)&&r.push(n.toFormattedObject(l))}return r}eD.scan=eC;var eU=n(52571);let eF=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function eK(e,t){let n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(e=>{let t="string"==typeof e?e:e.scheme;t&&n.push(t)}),!e||e.replace(eF,"").match(RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}let eW=l.CU.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if("string"==typeof e)return void eI(e);eI(e.scheme,e.optionalSlashes)})},onDestroy(){f.groups={},eP.scanner=null,eP.parser=null,eP.tokenQueue=[],eP.pluginQueue=[],eP.customSchemes=[],eP.initialized=!1},inclusive(){return this.options.autolink},addOptions:()=>({openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!eK(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}),addAttributes(){return{href:{default:null,parseHTML:e=>e.getAttribute("href")},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{let t=e.getAttribute("href");return!!t&&!!this.options.isAllowedUri(t,{defaultValidate:e=>!!eK(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:e=>!!eK(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",(0,l.KV)(this.options.HTMLAttributes,e),0]:["a",(0,l.KV)(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>{let{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!eK(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().setMark(this.name,e).setMeta("preventAutolink",!0).run()},toggleLink:e=>({chain:t})=>{let{href:n}=e;return!!this.options.isAllowedUri(n,{defaultValidate:e=>!!eK(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})&&t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[(0,l.Zc)({find:e=>{let t=[];if(e){let{protocols:n,defaultProtocol:l}=this.options,o=ej(e).filter(e=>e.isLink&&this.options.isAllowedUri(e.value,{defaultValidate:e=>!!eK(e,n),protocols:n,defaultProtocol:l}));o.length&&o.forEach(e=>t.push({text:e.value,data:{href:e.href},index:e.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:null==(t=e.data)?void 0:t.href}}})]},addProseMirrorPlugins(){var e,t,n;let o=[],{protocols:r,defaultProtocol:i}=this.options;return this.options.autolink&&o.push((e={type:this.type,defaultProtocol:this.options.defaultProtocol,validate:e=>this.options.isAllowedUri(e,{defaultValidate:e=>!!eK(e,r),protocols:r,defaultProtocol:i}),shouldAutoLink:this.options.shouldAutoLink},new eU.k_({key:new eU.hs("autolink"),appendTransaction:(t,n,o)=>{let r=t.some(e=>e.docChanged)&&!n.doc.eq(o.doc),i=t.some(e=>e.getMeta("preventAutolink"));if(!r||i)return;let{tr:s}=o,a=(0,l.T7)(n.doc,[...t]);if((0,l.FF)(a).forEach(({newRange:t})=>{let n,r,i=(0,l.Nx)(o.doc,t,e=>e.isTextblock);if(i.length>1?(n=i[0],r=o.doc.textBetween(n.pos,n.pos+n.node.nodeSize,void 0," ")):i.length&&o.doc.textBetween(t.from,t.to," "," ").endsWith(" ")&&(n=i[0],r=o.doc.textBetween(n.pos,t.to,void 0," ")),n&&r){let t=r.split(" ").filter(e=>""!==e);if(t.length<=0)return!1;let i=t[t.length-1],a=n.pos+r.lastIndexOf(i);if(!i)return!1;let d=eD(i).map(t=>t.toObject(e.defaultProtocol));if(!(1===d.length?d[0].isLink:3===d.length&&!!d[1].isLink&&["()","[]"].includes(d[0].value+d[2].value)))return!1;d.filter(e=>e.isLink).map(e=>({...e,from:a+e.start+1,to:a+e.end+1})).filter(e=>!o.schema.marks.code||!o.doc.rangeHasMark(e.from,e.to,o.schema.marks.code)).filter(t=>e.validate(t.value)).filter(t=>e.shouldAutoLink(t.value)).forEach(t=>{(0,l.hO)(t.from,t.to,o.doc).some(t=>t.mark.type===e.type)||s.addMark(t.from,t.to,e.type.create({href:t.href}))})}}),s.steps.length)return s}}))),!0===this.options.openOnClick&&o.push((t={type:this.type},new eU.k_({key:new eU.hs("handleClickLink"),props:{handleClick:(e,n,o)=>{var r,i;if(0!==o.button||!e.editable)return!1;let s=o.target,a=[];for(;"DIV"!==s.nodeName;)a.push(s),s=s.parentNode;if(!a.find(e=>"A"===e.nodeName))return!1;let d=(0,l.gu)(e.state,t.type.name),c=o.target,h=null!=(r=null==c?void 0:c.href)?r:d.href,u=null!=(i=null==c?void 0:c.target)?i:d.target;return!!c&&!!h&&(window.open(h,u),!0)}}}))),this.options.linkOnPaste&&o.push((n={editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type},new eU.k_({key:new eU.hs("handlePasteLink"),props:{handlePaste:(e,t,l)=>{let{state:o}=e,{selection:r}=o,{empty:i}=r;if(i)return!1;let s="";l.content.forEach(e=>{s+=e.textContent});let a=ej(s,{defaultProtocol:n.defaultProtocol}).find(e=>e.isLink&&e.value===s);return!!s&&!!a&&n.editor.commands.setMark(n.type,{href:a.href})}}}))),o}})},43557:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(4701);let o=l.bP.create({name:"tableCell",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?t.split(",").map(e=>parseInt(e,10)):null}}}),tableRole:"cell",isolating:!0,parseHTML:()=>[{tag:"td"}],renderHTML({HTMLAttributes:e}){return["td",(0,l.KV)(this.options.HTMLAttributes,e),0]}})},63356:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(4701);let o=l.bP.create({name:"taskList",addOptions:()=>({itemTypeName:"taskItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",(0,l.KV)(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}})},79030:(e,t,n)=>{n.d(t,{h:()=>o});var l=n(4701);let o=l.bP.create({name:"tableHeader",addOptions:()=>({HTMLAttributes:{}}),content:"block+",addAttributes:()=>({colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{let t=e.getAttribute("colwidth");return t?t.split(",").map(e=>parseInt(e,10)):null}}}),tableRole:"header_cell",isolating:!0,parseHTML:()=>[{tag:"th"}],renderHTML({HTMLAttributes:e}){return["th",(0,l.KV)(this.options.HTMLAttributes,e),0]}})},81891:(e,t,n)=>{n.d(t,{Ay:()=>r});var l=n(4701);let o=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,r=l.bP.create({name:"image",addOptions:()=>({inline:!1,allowBase64:!1,HTMLAttributes:{}}),inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes:()=>({src:{default:null},alt:{default:null},title:{default:null}}),parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",(0,l.KV)(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[(0,l.jT)({find:o,type:this.type,getAttributes:e=>{let[,,t,n,l]=e;return{src:n,alt:t,title:l}}})]}})},84109:(e,t,n)=>{n.d(t,{A:()=>l});let l=n(4701).YY.create({name:"textAlign",addOptions:()=>({types:[],alignments:["left","center","right","justify"],defaultAlignment:null}),addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{let t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>!!this.options.alignments.includes(e)&&this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(e=>e),unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(e=>e),toggleTextAlign:e=>({editor:t,commands:n})=>!!this.options.alignments.includes(e)&&(t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}})},90192:(e,t,n)=>{n.d(t,{Ay:()=>eh});var l,o,r=n(4701),i=n(52571),s=n(10156),a=n(42695),d=n(96770),c=n(808);if("undefined"!=typeof WeakMap){let e=new WeakMap;l=t=>e.get(t),o=(t,n)=>(e.set(t,n),n)}else{let e=[],t=0;l=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},o=(n,l)=>(10==t&&(t=0),e[t++]=n,e[t++]=l)}var h=class{constructor(e,t,n,l){this.width=e,this.height=t,this.map=n,this.problems=l}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let l=t%this.width,o=t/this.width|0,r=l+1,i=o+1;for(let e=1;r<this.width&&this.map[t+e]==n;e++)r++;for(let e=1;i<this.height&&this.map[t+this.width*e]==n;e++)i++;return{left:l,top:o,right:r,bottom:i}}throw RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){let{left:l,right:o,top:r,bottom:i}=this.findCell(e);return"horiz"==t?(n<0?0==l:o==this.width)?null:this.map[r*this.width+(n<0?l-1:o)]:(n<0?0==r:i==this.height)?null:this.map[l+this.width*(n<0?r-1:i)]}rectBetween(e,t){let{left:n,right:l,top:o,bottom:r}=this.findCell(e),{left:i,right:s,top:a,bottom:d}=this.findCell(t);return{left:Math.min(n,i),top:Math.min(o,a),right:Math.max(l,s),bottom:Math.max(r,d)}}cellsInRect(e){let t=[],n={};for(let l=e.top;l<e.bottom;l++)for(let o=e.left;o<e.right;o++){let r=l*this.width+o,i=this.map[r];!n[i]&&(n[i]=!0,o==e.left&&o&&this.map[r-1]==i||l==e.top&&l&&this.map[r-this.width]==i||t.push(i))}return t}positionAt(e,t,n){for(let l=0,o=0;;l++){let r=o+n.child(l).nodeSize;if(l==e){let n=t+e*this.width,l=(e+1)*this.width;for(;n<l&&this.map[n]<o;)n++;return n==l?r-1:this.map[n]}o=r}}static get(e){return l(e)||o(e,function(e){if("table"!=e.type.spec.tableRole)throw RangeError("Not a table node: "+e.type.name);let t=function(e){let t=-1,n=!1;for(let l=0;l<e.childCount;l++){let o=e.child(l),r=0;if(n)for(let t=0;t<l;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let o=n.child(e);t+o.attrs.rowspan>l&&(r+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){let t=o.child(e);r+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=r:t!=r&&(t=Math.max(t,r))}return t}(e),n=e.childCount,l=[],o=0,r=null,i=[];for(let e=0,o=t*n;e<o;e++)l[e]=0;for(let s=0,a=0;s<n;s++){let d=e.child(s);a++;for(let e=0;;e++){for(;o<l.length&&0!=l[o];)o++;if(e==d.childCount)break;let c=d.child(e),{colspan:h,rowspan:u,colwidth:p}=c.attrs;for(let e=0;e<u;e++){if(e+s>=n){(r||(r=[])).push({type:"overlong_rowspan",pos:a,n:u-e});break}let d=o+e*t;for(let e=0;e<h;e++){0==l[d+e]?l[d+e]=a:(r||(r=[])).push({type:"collision",row:s,pos:a,n:h-e});let n=p&&p[e];if(n){let l=(d+e)%t*2,o=i[l];null==o||o!=n&&1==i[l+1]?(i[l]=n,i[l+1]=1):o==n&&i[l+1]++}}}o+=h,a+=c.nodeSize}let c=(s+1)*t,h=0;for(;o<c;)0==l[o++]&&h++;h&&(r||(r=[])).push({type:"missing",row:s,n:h}),a++}(0===t||0===n)&&(r||(r=[])).push({type:"zero_sized"});let s=new h(t,n,l,r),a=!1;for(let e=0;!a&&e<i.length;e+=2)null!=i[e]&&i[e+1]<n&&(a=!0);return a&&function(e,t,n){e.problems||(e.problems=[]);let l={};for(let o=0;o<e.map.length;o++){let r=e.map[o];if(l[r])continue;l[r]=!0;let i=n.nodeAt(r);if(!i)throw RangeError(`No cell with offset ${r} found`);let s=null,a=i.attrs;for(let n=0;n<a.colspan;n++){let l=t[2*((o+n)%e.width)];null==l||a.colwidth&&a.colwidth[n]==l||((s||(s=function(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}(a)))[n]=l)}s&&e.problems.unshift({type:"colwidth mismatch",pos:r,colwidth:s})}}(s,i,e),s}(e))}};function u(e){let t=e.cached.tableNodeTypes;if(!t)for(let n in t=e.cached.tableNodeTypes={},e.nodes){let l=e.nodes[n],o=l.spec.tableRole;o&&(t[o]=l)}return t}var p=new i.hs("selectingCells");function f(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function m(e){let t=e.selection.$head;for(let e=t.depth;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return!0;return!1}function g(e){let t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&"cell"==t.node.type.spec.tableRole)return t.$anchor;let n=f(t.$head)||function(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let l=t.type.spec.tableRole;if("cell"==l||"header_cell"==l)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let l=t.type.spec.tableRole;if("cell"==l||"header_cell"==l)return e.doc.resolve(n-t.nodeSize)}}(t.$head);if(n)return n;throw RangeError(`No cell found around position ${t.head}`)}function b(e){return"row"==e.parent.type.spec.tableRole&&!!e.nodeAfter}function w(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function y(e,t,n){let l=e.node(-1),o=h.get(l),r=e.start(-1),i=o.nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}function A(e,t,n=1){let l={...e,colspan:e.colspan-n};return l.colwidth&&(l.colwidth=l.colwidth.slice(),l.colwidth.splice(t,n),l.colwidth.some(e=>e>0)||(l.colwidth=null)),l}function C(e,t,n=1){let l={...e,colspan:e.colspan+n};if(l.colwidth){l.colwidth=l.colwidth.slice();for(let e=0;e<n;e++)l.colwidth.splice(t,0,0)}return l}var k=class e extends i.LN{constructor(e,t=e){let n=e.node(-1),l=h.get(n),o=e.start(-1),r=l.rectBetween(e.pos-o,t.pos-o),s=e.node(0),a=l.cellsInRect(r).filter(e=>e!=t.pos-o);a.unshift(t.pos-o);let d=a.map(e=>{let t=n.nodeAt(e);if(!t)throw RangeError(`No cell with offset ${e} found`);let l=o+e+1;return new i.yn(s.resolve(l),s.resolve(l+t.content.size))});super(d[0].$from,d[0].$to,d),this.$anchorCell=e,this.$headCell=t}map(t,n){let l=t.resolve(n.map(this.$anchorCell.pos)),o=t.resolve(n.map(this.$headCell.pos));if(b(l)&&b(o)&&w(l,o)){let t=this.$anchorCell.node(-1)!=l.node(-1);return t&&this.isRowSelection()?e.rowSelection(l,o):t&&this.isColSelection()?e.colSelection(l,o):new e(l,o)}return i.U3.between(l,o)}content(){let e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),l=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},r=[];for(let n=l.top;n<l.bottom;n++){let i=[];for(let r=n*t.width+l.left,s=l.left;s<l.right;s++,r++){let n=t.map[r];if(o[n])continue;o[n]=!0;let s=t.findCell(n),a=e.nodeAt(n);if(!a)throw RangeError(`No cell with offset ${n} found`);let d=l.left-s.left,c=s.right-l.right;if(d>0||c>0){let e=a.attrs;if(d>0&&(e=A(e,0,d)),c>0&&(e=A(e,e.colspan-c,c)),s.left<l.left){if(!(a=a.type.createAndFill(e)))throw RangeError(`Could not create cell with attrs ${JSON.stringify(e)}`)}else a=a.type.create(e,a.content)}if(s.top<l.top||s.bottom>l.bottom){let e={...a.attrs,rowspan:Math.min(s.bottom,l.bottom)-Math.max(s.top,l.top)};a=s.top<l.top?a.type.createAndFill(e):a.type.create(e,a.content)}i.push(a)}r.push(e.child(n).copy(s.FK.from(i)))}let i=this.isColSelection()&&this.isRowSelection()?e:r;return new s.Ji(s.FK.from(i),1,1)}replace(e,t=s.Ji.empty){let n=e.steps.length,l=this.ranges;for(let o=0;o<l.length;o++){let{$from:r,$to:i}=l[o],a=e.mapping.slice(n);e.replace(a.map(r.pos),a.map(i.pos),o?s.Ji.empty:t)}let o=i.LN.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);o&&e.setSelection(o)}replaceWith(e,t){this.replace(e,new s.Ji(s.FK.from(t),0,0))}forEachCell(e){let t=this.$anchorCell.node(-1),n=h.get(t),l=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-l,this.$headCell.pos-l));for(let n=0;n<o.length;n++)e(t.nodeAt(o[n]),l+o[n])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);return!(Math.min(e,t)>0)&&Math.max(e+this.$anchorCell.nodeAfter.attrs.rowspan,t+this.$headCell.nodeAfter.attrs.rowspan)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){let l=t.node(-1),o=h.get(l),r=t.start(-1),i=o.findCell(t.pos-r),s=o.findCell(n.pos-r),a=t.node(0);return i.top<=s.top?(i.top>0&&(t=a.resolve(r+o.map[i.left])),s.bottom<o.height&&(n=a.resolve(r+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(n=a.resolve(r+o.map[s.left])),i.bottom<o.height&&(t=a.resolve(r+o.map[o.width*(o.height-1)+i.right-1]))),new e(t,n)}isRowSelection(){let e=this.$anchorCell.node(-1),t=h.get(e),n=this.$anchorCell.start(-1),l=t.colCount(this.$anchorCell.pos-n),o=t.colCount(this.$headCell.pos-n);return!(Math.min(l,o)>0)&&Math.max(l+this.$anchorCell.nodeAfter.attrs.colspan,o+this.$headCell.nodeAfter.attrs.colspan)==t.width}eq(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){let l=t.node(-1),o=h.get(l),r=t.start(-1),i=o.findCell(t.pos-r),s=o.findCell(n.pos-r),a=t.node(0);return i.left<=s.left?(i.left>0&&(t=a.resolve(r+o.map[i.top*o.width])),s.right<o.width&&(n=a.resolve(r+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(n=a.resolve(r+o.map[s.top*o.width])),i.right<o.width&&(t=a.resolve(r+o.map[o.width*(i.top+1)-1]))),new e(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,l=n){return new e(t.resolve(n),t.resolve(l))}getBookmark(){return new v(this.$anchorCell.pos,this.$headCell.pos)}};k.prototype.visible=!1,i.LN.jsonID("cell",k);var v=class e{constructor(e,t){this.anchor=e,this.head=t}map(t){return new e(t.map(this.anchor),t.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&w(t,n)?new k(t,n):i.LN.near(n,1)}};function L(e){if(!(e.selection instanceof k))return null;let t=[];return e.selection.forEachCell((e,n)=>{t.push(a.NZ.node(n,n+e.nodeSize,{class:"selectedCell"}))}),a.zF.create(e.doc,t)}var T=new i.hs("fix-tables");function E(e,t){let n,l=(t,l)=>{"table"==t.type.spec.tableRole&&(n=function(e,t,n,l){let o,r,i=h.get(t);if(!i.problems)return l;l||(l=e.tr);let s=[];for(let e=0;e<i.height;e++)s.push(0);for(let e=0;e<i.problems.length;e++){let o=i.problems[e];if("collision"==o.type){let e=t.nodeAt(o.pos);if(!e)continue;let r=e.attrs;for(let e=0;e<r.rowspan;e++)s[o.row+e]+=o.n;l.setNodeMarkup(l.mapping.map(n+1+o.pos),null,A(r,r.colspan-o.n,o.n))}else if("missing"==o.type)s[o.row]+=o.n;else if("overlong_rowspan"==o.type){let e=t.nodeAt(o.pos);if(!e)continue;l.setNodeMarkup(l.mapping.map(n+1+o.pos),null,{...e.attrs,rowspan:e.attrs.rowspan-o.n})}else if("colwidth mismatch"==o.type){let e=t.nodeAt(o.pos);if(!e)continue;l.setNodeMarkup(l.mapping.map(n+1+o.pos),null,{...e.attrs,colwidth:o.colwidth})}else if("zero_sized"==o.type){let e=l.mapping.map(n);l.delete(e,e+t.nodeSize)}}for(let e=0;e<s.length;e++)s[e]&&(null==o&&(o=e),r=e);for(let a=0,d=n+1;a<i.height;a++){let n=t.child(a),i=d+n.nodeSize,c=s[a];if(c>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let s=[];for(let n=0;n<c;n++){let n=u(e.schema)[t].createAndFill();n&&s.push(n)}let h=(0==a||o==a-1)&&r==a?d+1:i-1;l.insert(l.mapping.map(h),s)}d=i}return l.setMeta(T,{fixTables:!0})}(e,t,l,n))};return t?t.doc!=e.doc&&function e(t,n,l,o){let r=t.childCount,i=n.childCount;e:for(let s=0,a=0;s<i;s++){let i=n.child(s);for(let e=a,n=Math.min(r,s+3);e<n;e++)if(t.child(e)==i){a=e+1,l+=i.nodeSize;continue e}o(i,l),a<r&&t.child(a).sameMarkup(i)?e(t.child(a),i,l+1,o):i.nodesBetween(0,i.content.size,o,l+1),l+=i.nodeSize}}(t.doc,e.doc,0,l):e.doc.descendants(l),n}function S(e){let t=e.selection,n=g(e),l=n.node(-1),o=n.start(-1),r=h.get(l);return{...t instanceof k?r.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):r.findCell(n.pos-o),tableStart:o,map:r,table:l}}function M(e,{map:t,tableStart:n,table:l},o){let r=o>0?-1:0;(function(e,t,n){let l=u(t.type.schema).header_cell;for(let o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=l)return!1;return!0})(t,l,o+r)&&(r=0==o||o==t.width?null:0);for(let i=0;i<t.height;i++){let s=i*t.width+o;if(o>0&&o<t.width&&t.map[s-1]==t.map[s]){let r=t.map[s],a=l.nodeAt(r);e.setNodeMarkup(e.mapping.map(n+r),null,C(a.attrs,o-t.colCount(r))),i+=a.attrs.rowspan-1}else{let a=null==r?u(l.type.schema).cell:l.nodeAt(t.map[s+r]).type,d=t.positionAt(i,o,l);e.insert(e.mapping.map(n+d),a.createAndFill())}}return e}function R(e,{map:t,tableStart:n,table:l},o){var r;let i=n;for(let e=0;e<o;e++)i+=l.child(e).nodeSize;let s=[],a=o>0?-1:0;(function(e,t,n){var l;let o=u(t.type.schema).header_cell;for(let r=0;r<e.width;r++)if((null==(l=t.nodeAt(e.map[r+n*e.width]))?void 0:l.type)!=o)return!1;return!0})(t,l,o+a)&&(a=0==o||o==t.height?null:0);for(let i=0,d=t.width*o;i<t.width;i++,d++)if(o>0&&o<t.height&&t.map[d]==t.map[d-t.width]){let o=t.map[d],r=l.nodeAt(o).attrs;e.setNodeMarkup(n+o,null,{...r,rowspan:r.rowspan+1}),i+=r.colspan-1}else{let e=null==a?u(l.type.schema).cell:null==(r=l.nodeAt(t.map[d+a*t.width]))?void 0:r.type,n=null==e?void 0:e.createAndFill();n&&s.push(n)}return e.insert(i,u(l.type.schema).row.create(null,s)),e}function N(e){let t=e.content;return 1==t.childCount&&t.child(0).isTextblock&&0==t.child(0).childCount}function x(e,t){let n=e.selection;if(!(n instanceof k)||n.$anchorCell.pos==n.$headCell.pos)return!1;let l=S(e),{map:o}=l;if(function({width:e,height:t,map:n},l){let o=l.top*e+l.left,r=o,i=(l.bottom-1)*e+l.left,s=o+(l.right-l.left-1);for(let t=l.top;t<l.bottom;t++){if(l.left>0&&n[r]==n[r-1]||l.right<e&&n[s]==n[s+1])return!0;r+=e,s+=e}for(let r=l.left;r<l.right;r++){if(l.top>0&&n[o]==n[o-e]||l.bottom<t&&n[i]==n[i+e])return!0;o++,i++}return!1}(o,l))return!1;if(t){let n,r,i=e.tr,a={},d=s.FK.empty;for(let e=l.top;e<l.bottom;e++)for(let t=l.left;t<l.right;t++){let s=o.map[e*o.width+t],c=l.table.nodeAt(s);if(!a[s]&&c)if(a[s]=!0,null==n)n=s,r=c;else{N(c)||(d=d.append(c.content));let e=i.mapping.map(s+l.tableStart);i.delete(e,e+c.nodeSize)}}if(null==n||null==r)return!0;if(i.setNodeMarkup(n+l.tableStart,null,{...C(r.attrs,r.attrs.colspan,l.right-l.left-r.attrs.colspan),rowspan:l.bottom-l.top}),d.size){let e=n+1+r.content.size,t=N(r)?n+1:e;i.replaceWith(t+l.tableStart,e+l.tableStart,d)}i.setSelection(new k(i.doc.resolve(n+l.tableStart))),t(i)}return!0}function H(e,t){var n;let l=u(e.schema);return(n=({node:e})=>l[e.type.spec.tableRole],(e,t)=>{var l;let o,r,i=e.selection;if(i instanceof k){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;o=i.$anchorCell.nodeAfter,r=i.$anchorCell.pos}else{if(!(o=function(e){for(let t=e.depth;t>0;t--){let n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;r=null==(l=f(i.$from))?void 0:l.pos}if(null==o||null==r||1==o.attrs.colspan&&1==o.attrs.rowspan)return!1;if(t){let l,s=o.attrs,a=[],d=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});let c=S(e),h=e.tr;for(let e=0;e<c.right-c.left;e++)a.push(d?{...s,colwidth:d&&d[e]?[d[e]]:null}:s);for(let e=c.top;e<c.bottom;e++){let t=c.map.positionAt(e,c.left,c.table);e==c.top&&(t+=o.nodeSize);for(let r=c.left,i=0;r<c.right;r++,i++)(r!=c.left||e!=c.top)&&h.insert(l=h.mapping.map(t+c.tableStart,1),n({node:o,row:e,col:r}).createAndFill(a[i]))}h.setNodeMarkup(r,n({node:o,row:c.top,col:c.left}),a[0]),i instanceof k&&h.setSelection(new k(h.doc.resolve(i.$anchorCell.pos),l?h.doc.resolve(l):void 0)),t(h)}return!0})(e,t)}function O(e,t,n){let l=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let e=0;e<l.length;e++){let o=t.table.nodeAt(l[e]);if(o&&o.type!==n.header_cell)return!1}return!0}function $(e,t){if((t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic)return function(t,n){if(!m(t))return!1;if(n){let l=u(t.schema),o=S(t),r=t.tr,i=o.map.cellsInRect("column"==e?{left:o.left,top:0,right:o.right,bottom:o.map.height}:"row"==e?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=i.map(e=>o.table.nodeAt(e));for(let e=0;e<i.length;e++)s[e].type==l.header_cell&&r.setNodeMarkup(o.tableStart+i[e],l.cell,s[e].attrs);if(0==r.steps.length)for(let e=0;e<i.length;e++)r.setNodeMarkup(o.tableStart+i[e],l.header_cell,s[e].attrs);n(r)}return!0};return function(t,n){if(!m(t))return!1;if(n){let l=u(t.schema),o=S(t),r=t.tr,i=O("row",o,l),s=O("column",o,l),a=+!!("column"===e?i:"row"===e&&s),d="column"==e?{left:0,top:a,right:1,bottom:o.map.height}:"row"==e?{left:a,top:0,right:o.map.width,bottom:1}:o,c="column"==e?s?l.cell:l.header_cell:"row"==e?i?l.cell:l.header_cell:l.cell;o.map.cellsInRect(d).forEach(e=>{let t=e+o.tableStart,n=r.doc.nodeAt(t);n&&r.setNodeMarkup(t,c,n.attrs)}),n(r)}return!0}}$("row",{useDeprecatedLogic:!0}),$("column",{useDeprecatedLogic:!0});var z=$("cell",{useDeprecatedLogic:!0});function P(e){return function(t,n){if(!m(t))return!1;let l=function(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let t=e.index(-1)-1,n=e.before();t>=0;t--){let l=e.node(-1).child(t),o=l.lastChild;if(o)return n-1-o.nodeSize;n-=l.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),l=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return l+1;l+=e.nodeSize}}return null}(g(t),e);if(null==l)return!1;if(n){let e=t.doc.resolve(l);n(t.tr.setSelection(i.U3.between(e,e.node(0).resolve(e.pos+e.nodeAfter.nodeSize))).scrollIntoView())}return!0}}function I(e,t){let n=e.selection;if(!(n instanceof k))return!1;if(t){let l=e.tr,o=u(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(o)||l.replace(l.mapping.map(t+1),l.mapping.map(t+e.nodeSize-1),new s.Ji(o,0,0))}),l.docChanged&&t(l)}return!0}function D(e,t){let n=e.createAndFill();return new c.dL(n).replace(0,n.content.size,t).doc}function j(e,t,n,l,o,r,i,s){if(0==i||i==t.height)return!1;let a=!1;for(let d=o;d<r;d++){let o=i*t.width+d,r=t.map[o];if(t.map[o-t.width]==r){a=!0;let o=n.nodeAt(r),{top:c,left:h}=t.findCell(r);e.setNodeMarkup(e.mapping.slice(s).map(r+l),null,{...o.attrs,rowspan:i-c}),e.insert(e.mapping.slice(s).map(t.positionAt(i,h,n)),o.type.createAndFill({...o.attrs,rowspan:c+o.attrs.rowspan-i})),d+=o.attrs.colspan-1}}return a}function U(e,t,n,l,o,r,i,s){if(0==i||i==t.width)return!1;let a=!1;for(let d=o;d<r;d++){let o=d*t.width+i,r=t.map[o];if(t.map[o-1]==r){a=!0;let o=n.nodeAt(r),c=t.colCount(r),h=e.mapping.slice(s).map(r+l);e.setNodeMarkup(h,null,A(o.attrs,i-c,o.attrs.colspan-(i-c))),e.insert(h+o.nodeSize,o.type.createAndFill(A(o.attrs,0,i-c))),d+=o.attrs.rowspan-1}}return a}function F(e,t,n,l,o){let r=n?e.doc.nodeAt(n-1):e.doc;if(!r)throw Error("No table found");let i=h.get(r),{top:a,left:d}=l,c=d+o.width,p=a+o.height,f=e.tr,m=0;function g(){if(!(r=n?f.doc.nodeAt(n-1):f.doc))throw Error("No table found");i=h.get(r),m=f.mapping.maps.length}(function(e,t,n,l,o,r,i){let a,d,c=u(e.doc.type.schema);if(o>t.width)for(let r=0,i=0;r<t.height;r++){let s,h=n.child(r);i+=h.nodeSize;let u=[];s=null==h.lastChild||h.lastChild.type==c.cell?a||(a=c.cell.createAndFill()):d||(d=c.header_cell.createAndFill());for(let e=t.width;e<o;e++)u.push(s);e.insert(e.mapping.slice(0).map(i-1+l),u)}if(r>t.height){let h=[];for(let e=0,l=(t.height-1)*t.width;e<Math.max(t.width,o);e++){let o=!(e>=t.width)&&n.nodeAt(t.map[l+e]).type==c.header_cell;h.push(o?d||(d=c.header_cell.createAndFill()):a||(a=c.cell.createAndFill()))}let u=c.row.create(null,s.FK.from(h)),p=[];for(let e=t.height;e<r;e++)p.push(u);e.insert(e.mapping.slice(i).map(l+n.nodeSize-2),p)}return!!(a||d)})(f,i,r,n,c,p,0)&&g(),j(f,i,r,n,d,c,a,m)&&g(),j(f,i,r,n,d,c,p,m)&&g(),U(f,i,r,n,a,p,d,m)&&g(),U(f,i,r,n,a,p,c,m)&&g();for(let e=a;e<p;e++){let t=i.positionAt(e,d,r),l=i.positionAt(e,c,r);f.replace(f.mapping.slice(m).map(t+n),f.mapping.slice(m).map(l+n),new s.Ji(o.rows[e-a],0,0))}g(),f.setSelection(new k(f.doc.resolve(n+i.positionAt(a,d,r)),f.doc.resolve(n+i.positionAt(p-1,c-1,r)))),t(f)}var K=(0,d.K)({ArrowLeft:B("horiz",-1),ArrowRight:B("horiz",1),ArrowUp:B("vert",-1),ArrowDown:B("vert",1),"Shift-ArrowLeft":_("horiz",-1),"Shift-ArrowRight":_("horiz",1),"Shift-ArrowUp":_("vert",-1),"Shift-ArrowDown":_("vert",1),Backspace:I,"Mod-Backspace":I,Delete:I,"Mod-Delete":I});function W(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function B(e,t){return(n,l,o)=>{if(!o)return!1;let r=n.selection;if(r instanceof k)return W(n,l,i.LN.near(r.$headCell,t));if("horiz"!=e&&!r.empty)return!1;let s=Q(o,e,t);if(null==s)return!1;if("horiz"==e)return W(n,l,i.LN.near(n.doc.resolve(r.head+t),t));{let o,r=n.doc.resolve(s),a=y(r,e,t);return o=a?i.LN.near(a,1):t<0?i.LN.near(n.doc.resolve(r.before(-1)),-1):i.LN.near(n.doc.resolve(r.after(-1)),1),W(n,l,o)}}}function _(e,t){return(n,l,o)=>{let r;if(!o)return!1;let i=n.selection;if(i instanceof k)r=i;else{let l=Q(o,e,t);if(null==l)return!1;r=new k(n.doc.resolve(l))}let s=y(r.$headCell,e,t);return!!s&&W(n,l,new k(r.$anchorCell,s))}}function V(e,t){let n=f(e.state.doc.resolve(t));return!!n&&(e.dispatch(e.state.tr.setSelection(new k(n))),!0)}function q(e,t,n){if(!m(e.state))return!1;let l=function(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:l}=e;for(;1==t.childCount&&(n>0&&l>0||"table"==t.child(0).type.spec.tableRole);)n--,l--,t=t.child(0).content;let o=t.child(0),r=o.type.spec.tableRole,i=o.type.schema,a=[];if("row"==r)for(let e=0;e<t.childCount;e++){let o=t.child(e).content,r=e?0:Math.max(0,n-1),d=e<t.childCount-1?0:Math.max(0,l-1);(r||d)&&(o=D(u(i).row,new s.Ji(o,r,d)).content),a.push(o)}else{if("cell"!=r&&"header_cell"!=r)return null;a.push(n||l?D(u(i).row,new s.Ji(t,n,l)).content:t)}return function(e,t){let n=[];for(let e=0;e<t.length;e++){let l=t[e];for(let t=l.childCount-1;t>=0;t--){let{rowspan:o,colspan:r}=l.child(t).attrs;for(let t=e;t<e+o;t++)n[t]=(n[t]||0)+r}}let l=0;for(let e=0;e<n.length;e++)l=Math.max(l,n[e]);for(let o=0;o<n.length;o++)if(o>=t.length&&t.push(s.FK.empty),n[o]<l){let r=u(e).cell.createAndFill(),i=[];for(let e=n[o];e<l;e++)i.push(r);t[o]=t[o].append(s.FK.from(i))}return{height:t.length,width:l,rows:t}}(i,a)}(n),o=e.state.selection;if(o instanceof k){l||(l={width:1,height:1,rows:[s.FK.from(D(u(e.state.schema).cell,n))]});let t=o.$anchorCell.node(-1),r=o.$anchorCell.start(-1),i=h.get(t).rectBetween(o.$anchorCell.pos-r,o.$headCell.pos-r);return l=function({width:e,height:t,rows:n},l,o){if(e!=l){let t=[],o=[];for(let e=0;e<n.length;e++){let r=n[e],i=[];for(let n=t[e]||0,o=0;n<l;o++){let s=r.child(o%r.childCount);n+s.attrs.colspan>l&&(s=s.type.createChecked(A(s.attrs,s.attrs.colspan,n+s.attrs.colspan-l),s.content)),i.push(s),n+=s.attrs.colspan;for(let n=1;n<s.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+s.attrs.colspan}o.push(s.FK.from(i))}n=o,e=l}if(t!=o){let e=[];for(let l=0,r=0;l<o;l++,r++){let i=[],a=n[r%t];for(let e=0;e<a.childCount;e++){let t=a.child(e);l+t.attrs.rowspan>o&&(t=t.type.create({...t.attrs,rowspan:Math.max(1,o-t.attrs.rowspan)},t.content)),i.push(t)}e.push(s.FK.from(i))}n=e,t=o}return{width:e,height:t,rows:n}}(l,i.right-i.left,i.bottom-i.top),F(e.state,e.dispatch,r,i,l),!0}if(!l)return!1;{let t=g(e.state),n=t.start(-1);return F(e.state,e.dispatch,n,h.get(t.node(-1)).findCell(t.pos-n),l),!0}}function G(e,t){var n;let l;if(t.ctrlKey||t.metaKey)return;let o=J(e,t.target);if(t.shiftKey&&e.state.selection instanceof k)r(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&o&&null!=(l=f(e.state.selection.$anchor))&&(null==(n=Y(e,t))?void 0:n.pos)!=l.pos)r(l,t),t.preventDefault();else if(!o)return;function r(t,n){let l=Y(e,n),o=null==p.getState(e.state);if(!l||!w(t,l))if(!o)return;else l=t;let r=new k(t,l);if(o||!e.state.selection.eq(r)){let n=e.state.tr.setSelection(r);o&&n.setMeta(p,t.pos),e.dispatch(n)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",s),null!=p.getState(e.state)&&e.dispatch(e.state.tr.setMeta(p,-1))}function s(n){let l,s=p.getState(e.state);if(null!=s)l=e.state.doc.resolve(s);else if(J(e,n.target)!=o&&!(l=Y(e,t)))return i();l&&r(l,n)}e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",s)}function Q(e,t,n){if(!(e.state.selection instanceof i.U3))return null;let{$head:l}=e.state.selection;for(let o=l.depth-1;o>=0;o--){let r=l.node(o);if((n<0?l.index(o):l.indexAfter(o))!=(n<0?0:r.childCount))break;if("cell"==r.type.spec.tableRole||"header_cell"==r.type.spec.tableRole){let r=l.before(o),i="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(i)?r:null}}return null}function J(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t;return null}function Y(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?f(e.state.doc.resolve(n.pos)):null}var X=class{constructor(e,t){this.node=e,this.defaultCellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${t}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Z(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,Z(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}};function Z(e,t,n,l,o,r){var i;let s=0,a=!0,d=t.firstChild,c=e.firstChild;if(c){for(let e=0,n=0;e<c.childCount;e++){let{colspan:i,colwidth:h}=c.child(e).attrs;for(let e=0;e<i;e++,n++){let i=o==n?r:h&&h[e],c=i?i+"px":"";if(s+=i||l,i||(a=!1),d)d.style.width!=c&&(d.style.width=c),d=d.nextSibling;else{let e=document.createElement("col");e.style.width=c,t.appendChild(e)}}}for(;d;){let e=d.nextSibling;null==(i=d.parentNode)||i.removeChild(d),d=e}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}var ee=new i.hs("tableColumnResizing"),et=class e{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(t){let n=t.getMeta(ee);if(n&&null!=n.setHandle)return new e(n.setHandle,!1);if(n&&void 0!==n.setDragging)return new e(this.activeHandle,n.setDragging);if(this.activeHandle>-1&&t.docChanged){let n=t.mapping.map(this.activeHandle,-1);return b(t.doc.resolve(n))||(n=-1),new e(n,this.dragging)}return this}};function en(e,t,n,l){let o=e.posAtCoords({left:t.clientX+("right"==n?-l:l),top:t.clientY});if(!o)return -1;let{pos:r}=o,i=f(e.state.doc.resolve(r));if(!i)return -1;if("right"==n)return i.pos;let s=h.get(i.node(-1)),a=i.start(-1),d=s.map.indexOf(i.pos-a);return d%s.width==0?-1:a+s.map[d-1]}function el(e,t,n){let l=t.clientX-e.startX;return Math.max(n,e.startWidth+l)}function eo(e,t){e.dispatch(e.state.tr.setMeta(ee,{setHandle:t}))}function er(e,t,n,l){let o=e.state.doc.resolve(t),r=o.node(-1),i=o.start(-1),s=h.get(r).colCount(o.pos-i)+o.nodeAfter.attrs.colspan-1,a=e.domAtPos(o.start(-1)).node;for(;a&&"TABLE"!=a.nodeName;)a=a.parentNode;a&&Z(r,a.firstChild,a,l,s,n)}function ei(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function es(e,t,n,l,o,r){var i;let s=0,a=!0,d=t.firstChild,c=e.firstChild;if(null!==c)for(let e=0,n=0;e<c.childCount;e+=1){let{colspan:i,colwidth:h}=c.child(e).attrs;for(let e=0;e<i;e+=1,n+=1){let i=o===n?r:h&&h[e],c=i?`${i}px`:"";if(s+=i||l,i||(a=!1),d){if(d.style.width!==c){let[e,t]=ei(l,i);d.style.setProperty(e,t)}d=d.nextSibling}else{let e=document.createElement("col"),[n,o]=ei(l,i);e.style.setProperty(n,o),t.appendChild(e)}}}for(;d;){let e=d.nextSibling;null==(i=d.parentNode)||i.removeChild(d),d=e}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class ea{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),es(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type===this.node.type&&(this.node=e,es(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"===e.type&&(e.target===this.table||this.colgroup.contains(e.target))}}function ed(e,t){return t?e.createChecked(null,t):e.createAndFill()}let ec=({editor:e})=>{let{selection:t}=e.state;if(!(t instanceof k))return!1;let n=0,l=(0,r.eL)(t.ranges[0].$from,e=>"table"===e.type.name);return null==l||l.node.descendants(e=>{if("table"===e.type.name)return!1;["tableCell","tableHeader"].includes(e.type.name)&&(n+=1)}),n===t.ranges.length&&(e.commands.deleteTable(),!0)},eh=r.bP.create({name:"table",addOptions:()=>({HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:ea,lastColumnResizable:!0,allowTableNodeSelection:!1}),content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML:()=>[{tag:"table"}],renderHTML({node:e,HTMLAttributes:t}){let{colgroup:n,tableWidth:l,tableMinWidth:o}=function(e,t,n,l){let o=0,r=!0,i=[],s=e.firstChild;if(!s)return{};for(let e=0,n=0;e<s.childCount;e+=1){let{colspan:l,colwidth:a}=s.child(e).attrs;for(let e=0;e<l;e+=1,n+=1){let l=void 0===n?void 0:a&&a[e];o+=l||t,l||(r=!1);let[s,d]=ei(t,l);i.push(["col",{style:`${s}: ${d}`}])}}return{colgroup:["colgroup",{},...i],tableWidth:r?`${o}px`:"",tableMinWidth:r?"":`${o}px`}}(e,this.options.cellMinWidth);return["table",(0,r.KV)(this.options.HTMLAttributes,t,{style:l?`width: ${l}`:`min-width: ${o}`}),n,["tbody",0]]},addCommands:()=>({insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:l,dispatch:o,editor:r})=>{let s=function(e,t,n,l,o){let r=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;let t={};return Object.keys(e.nodes).forEach(n=>{let l=e.nodes[n];l.spec.tableRole&&(t[l.spec.tableRole]=l)}),e.cached.tableNodeTypes=t,t}(e),i=[],s=[];for(let e=0;e<n;e+=1){let e=ed(r.cell,void 0);if(e&&s.push(e),l){let e=ed(r.header_cell,void 0);e&&i.push(e)}}let a=[];for(let e=0;e<t;e+=1)a.push(r.row.createChecked(null,l&&0===e?i:s));return r.table.createChecked(null,a)}(r.schema,e,t,n);if(o){let e=l.selection.from+1;l.replaceSelectionWith(s).scrollIntoView().setSelection(i.U3.near(l.doc.resolve(e)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>(function(e,t){if(!m(e))return!1;if(t){let n=S(e);t(M(e.tr,n,n.left))}return!0})(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>(function(e,t){if(!m(e))return!1;if(t){let n=S(e);t(M(e.tr,n,n.right))}return!0})(e,t),deleteColumn:()=>({state:e,dispatch:t})=>(function(e,t){if(!m(e))return!1;if(t){let n=S(e),l=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;!function(e,{map:t,table:n,tableStart:l},o){let r=e.mapping.maps.length;for(let i=0;i<t.height;){let s=i*t.width+o,a=t.map[s],d=n.nodeAt(a),c=d.attrs;if(o>0&&t.map[s-1]==a||o<t.width-1&&t.map[s+1]==a)e.setNodeMarkup(e.mapping.slice(r).map(l+a),null,A(c,o-t.colCount(a)));else{let t=e.mapping.slice(r).map(l+a);e.delete(t,t+d.nodeSize)}i+=c.rowspan}}(l,n,e),e!=n.left;e--){let e=n.tableStart?l.doc.nodeAt(n.tableStart-1):l.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=h.get(e)}t(l)}return!0})(e,t),addRowBefore:()=>({state:e,dispatch:t})=>(function(e,t){if(!m(e))return!1;if(t){let n=S(e);t(R(e.tr,n,n.top))}return!0})(e,t),addRowAfter:()=>({state:e,dispatch:t})=>(function(e,t){if(!m(e))return!1;if(t){let n=S(e);t(R(e.tr,n,n.bottom))}return!0})(e,t),deleteRow:()=>({state:e,dispatch:t})=>(function(e,t){if(!m(e))return!1;if(t){let n=S(e),l=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;!function(e,{map:t,table:n,tableStart:l},o){let r=0;for(let e=0;e<o;e++)r+=n.child(e).nodeSize;let i=r+n.child(o).nodeSize,s=e.mapping.maps.length;e.delete(r+l,i+l);let a=new Set;for(let r=0,i=o*t.width;r<t.width;r++,i++){let d=t.map[i];if(!a.has(d)){if(a.add(d),o>0&&d==t.map[i-t.width]){let t=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(s).map(d+l),null,{...t,rowspan:t.rowspan-1}),r+=t.colspan-1}else if(o<t.height&&d==t.map[i+t.width]){let i=n.nodeAt(d),a=i.attrs,c=i.type.create({...a,rowspan:i.attrs.rowspan-1},i.content),h=t.positionAt(o+1,r,n);e.insert(e.mapping.slice(s).map(l+h),c),r+=a.colspan-1}}}}(l,n,e),e!=n.top;e--){let e=n.tableStart?l.doc.nodeAt(n.tableStart-1):l.doc;if(!e)throw RangeError("No table found");n.table=e,n.map=h.get(n.table)}t(l)}return!0})(e,t),deleteTable:()=>({state:e,dispatch:t})=>(function(e,t){let n=e.selection.$anchor;for(let l=n.depth;l>0;l--)if("table"==n.node(l).type.spec.tableRole)return t&&t(e.tr.delete(n.before(l),n.after(l)).scrollIntoView()),!0;return!1})(e,t),mergeCells:()=>({state:e,dispatch:t})=>x(e,t),splitCell:()=>({state:e,dispatch:t})=>H(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>$("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>$("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>z(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>!!x(e,t)||H(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:l})=>(function(e,t){return function(n,l){if(!m(n))return!1;let o=g(n);if(o.nodeAfter.attrs[e]===t)return!1;if(l){let r=n.tr;n.selection instanceof k?n.selection.forEachCell((n,l)=>{n.attrs[e]!==t&&r.setNodeMarkup(l,null,{...n.attrs,[e]:t})}):r.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[e]:t}),l(r)}return!0}})(e,t)(n,l),goToNextCell:()=>({state:e,dispatch:t})=>P(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>P(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&E(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){let n=k.create(t.doc,e.anchorCell,e.headCell);t.setSelection(n)}return!0}}),addKeyboardShortcuts(){return{Tab:()=>!!this.editor.commands.goToNextCell()||!!this.editor.can().addRowAfter()&&this.editor.chain().addRowAfter().goToNextCell().run(),"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:ec,"Mod-Backspace":ec,Delete:ec,"Mod-Delete":ec}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[function({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:l=X,lastColumnResizable:o=!0}={}){let r=new i.k_({key:ee,state:{init(e,t){var o,i;let s=null==(i=null==(o=r.spec)?void 0:o.props)?void 0:i.nodeViews,a=u(t.schema).table.name;return l&&s&&(s[a]=(e,t)=>new l(e,n,t)),new et(-1,!1)},apply:(e,t)=>t.apply(e)},props:{attributes:e=>{let t=ee.getState(e);return t&&t.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(t,n)=>{!function(e,t,n,l){if(!e.editable)return;let o=ee.getState(e.state);if(o&&!o.dragging){let r=function(e){for(;e&&"TD"!=e.nodeName&&"TH"!=e.nodeName;)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}(t.target),i=-1;if(r){let{left:l,right:o}=r.getBoundingClientRect();t.clientX-l<=n?i=en(e,t,"left",n):o-t.clientX<=n&&(i=en(e,t,"right",n))}if(i!=o.activeHandle){if(!l&&-1!==i){let t=e.state.doc.resolve(i),n=t.node(-1),l=h.get(n),o=t.start(-1);if(l.colCount(t.pos-o)+t.nodeAfter.attrs.colspan-1==l.width-1)return}eo(e,i)}}}(t,n,e,o)},mouseleave:e=>{!function(e){if(!e.editable)return;let t=ee.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&eo(e,-1)}(e)},mousedown:(e,l)=>{!function(e,t,n,l){var o;if(!e.editable)return;let r=null!=(o=e.dom.ownerDocument.defaultView)?o:window,i=ee.getState(e.state);if(!i||-1==i.activeHandle||i.dragging)return;let s=e.state.doc.nodeAt(i.activeHandle),a=function(e,t,{colspan:n,colwidth:l}){let o=l&&l[l.length-1];if(o)return o;let r=e.domAtPos(t),i=r.node.childNodes[r.offset].offsetWidth,s=n;if(l)for(let e=0;e<n;e++)l[e]&&(i-=l[e],s--);return i/s}(e,i.activeHandle,s.attrs);function d(t){r.removeEventListener("mouseup",d),r.removeEventListener("mousemove",c);let l=ee.getState(e.state);(null==l?void 0:l.dragging)&&(function(e,t,n){let l=e.state.doc.resolve(t),o=l.node(-1),r=h.get(o),i=l.start(-1),s=r.colCount(l.pos-i)+l.nodeAfter.attrs.colspan-1,a=e.state.tr;for(let e=0;e<r.height;e++){let t=e*r.width+s;if(e&&r.map[t]==r.map[t-r.width])continue;let l=r.map[t],d=o.nodeAt(l).attrs,c=1==d.colspan?0:s-r.colCount(l);if(d.colwidth&&d.colwidth[c]==n)continue;let h=d.colwidth?d.colwidth.slice():Array(d.colspan).fill(0);h[c]=n,a.setNodeMarkup(i+l,null,{...d,colwidth:h})}a.docChanged&&e.dispatch(a)}(e,l.activeHandle,el(l.dragging,t,n)),e.dispatch(e.state.tr.setMeta(ee,{setDragging:null})))}function c(t){if(!t.which)return d(t);let o=ee.getState(e.state);if(o&&o.dragging){let r=el(o.dragging,t,n);er(e,o.activeHandle,r,l)}}e.dispatch(e.state.tr.setMeta(ee,{setDragging:{startX:t.clientX,startWidth:a}})),er(e,i.activeHandle,a,l),r.addEventListener("mouseup",d),r.addEventListener("mousemove",c),t.preventDefault()}(e,l,t,n)}},decorations:e=>{let t=ee.getState(e);if(t&&t.activeHandle>-1)return function(e,t){var n;let l=[],o=e.doc.resolve(t),r=o.node(-1);if(!r)return a.zF.empty;let i=h.get(r),s=o.start(-1),d=i.colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1;for(let t=0;t<i.height;t++){let o=d+t*i.width;if((d==i.width-1||i.map[o]!=i.map[o+1])&&(0==t||i.map[o]!=i.map[o-i.width])){let t=i.map[o],d=s+t+r.nodeAt(t).nodeSize-1,c=document.createElement("div");c.className="column-resize-handle",(null==(n=ee.getState(e))?void 0:n.dragging)&&l.push(a.NZ.node(s+t,s+t+r.nodeAt(t).nodeSize,{class:"column-resize-dragging"})),l.push(a.NZ.widget(d,c))}}return a.zF.create(e.doc,l)}(e,t.activeHandle)},nodeViews:{}}});return r}({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],function({allowTableNodeSelection:e=!1}={}){return new i.k_({key:p,state:{init:()=>null,apply(e,t){let n=e.getMeta(p);if(null!=n)return -1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:l,pos:o}=e.mapping.mapResult(t);return l?null:o}},props:{decorations:L,handleDOMEvents:{mousedown:G},createSelectionBetween:e=>null!=p.getState(e.state)?e.state.selection:null,handleTripleClick:V,handleKeyDown:K,handlePaste:q},appendTransaction:(t,n,l)=>(function(e,t,n){let l,o,r=(t||e).selection,s=(t||e).doc;if(r instanceof i.nh&&(o=r.node.type.spec.tableRole)){if("cell"==o||"header_cell"==o)l=k.create(s,r.from);else if("row"==o){let e=s.resolve(r.from+1);l=k.rowSelection(e,e)}else if(!n){let e=h.get(r.node),t=r.from+1,n=t+e.map[e.width*e.height-1];l=k.create(s,t+1,n)}}else r instanceof i.U3&&function({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,l=t.pos,o=e.depth;for(;o>=0&&!(e.after(o+1)<e.end(o));o--,n++);for(let e=t.depth;e>=0&&!(t.before(e+1)>t.start(e));e--,l--);return n==l&&/row|table/.test(e.node(o).type.spec.tableRole)}(r)?l=i.U3.create(s,r.from):r instanceof i.U3&&function({$from:e,$to:t}){let n,l;for(let t=e.depth;t>0;t--){let l=e.node(t);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}for(let e=t.depth;e>0;e--){let n=t.node(e);if("cell"===n.type.spec.tableRole||"header_cell"===n.type.spec.tableRole){l=n;break}}return n!==l&&0===t.parentOffset}(r)&&(l=i.U3.create(s,r.$from.start(),r.$from.end()));return l&&(t||(t=e.tr)).setSelection(l),t})(l,E(l,n),e)})}({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){let t={name:e.name,options:e.options,storage:e.storage};return{tableRole:(0,r.gk)((0,r.iI)(e,"tableRole",t))}}})}}]);
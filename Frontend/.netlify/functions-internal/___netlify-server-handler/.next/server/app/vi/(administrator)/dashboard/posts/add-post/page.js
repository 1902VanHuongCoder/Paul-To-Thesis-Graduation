(()=>{var e={};e.id=259,e.ids=[259],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13998:(e,t,s)=>{"use strict";s.d(t,{SU:()=>l,YS:()=>r,bB:()=>n,ob:()=>a});var i=s(85484);let a=async()=>{let e=await fetch(`${i.p}/api/tag-of-news`);if(!e.ok)throw Error("Failed to fetch tags of news");return e.json()},n=async e=>{let t=await fetch(`${i.p}/api/tag-of-news`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:e})});if(!t.ok)throw Error("Failed to create tag of news");return t.json()},r=async(e,t)=>{let s=await fetch(`${i.p}/api/tag-of-news/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tagName:t})});if(!s.ok)throw Error("Failed to update tag of news");return s.ok},l=async e=>{let t=await fetch(`${i.p}/api/tag-of-news/${e}`,{method:"DELETE"});if(!t.ok)throw Error("Failed to delete tag of news");return t.ok}},14353:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(administrator)\\\\dashboard\\\\posts\\\\add-post\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\posts\\add-post\\page.tsx","default")},18821:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>o});var i=s(65239),a=s(48088),n=s(88170),r=s.n(n),l=s(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o={children:["",{children:["vi",{children:["(administrator)",{children:["dashboard",{children:["posts",{children:["add-post",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,14353)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\posts\\add-post\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,41529)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15097)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\posts\\add-post\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/vi/(administrator)/dashboard/posts/add-post/page",pathname:"/vi/dashboard/posts/add-post",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34313:(e,t,s)=>{Promise.resolve().then(s.bind(s,43483))},34631:e=>{"use strict";e.exports=require("tls")},43483:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ej});var i=s(60687),a=s(76180),n=s.n(a),r=s(43210),l=s(97902),c=s(7203),o=s(56863),d=s(68418),u=s(2188),x=s(79801),p=s(84633),h=s(95704),f=s(44731),b=s(68174),m=s(2760),j=s(75917),g=s(56286),v=s(13659),y=s(25445),k=s(84963),A=s(94157),C=s(84082),N=s(65557),w=s(96046),I=s(30474),T=s(36027),z=s(27777),L=s(11922),D=s(44692),E=s(34091),P=s(47342),S=s(45984),R=s(69169),q=s(21782),H=s(96439),F=s(48340),B=s(51509),O=s(25366),$=s(14290),M=s(77850),_=s(70624),G=s(70334),J=s(28559),U=s(82164),W=s(87024),X=s(88233),K=s(93460),V=s(7796),Z=s(35904),Q=s(89422),Y=s(2975),ee=s(95999),et=s(80051),es=s(8366),ei=s(9005),ea=s(5748),en=s(55856),er=s(98916),el=s(23020),ec=s(27605),eo=s(69448),ed=s(49384),eu=s(45213),ex=s(51156),ep=s(37590),eh=s(55677),ef=s(48894),eb=s(73121);s(13998);var em=s(16189);function ej(){let{user:e}=(0,T.J)(),t=(0,em.useRouter)(),s=(0,ec.mN)({defaultValues:{title:"",subtitle:"",slug:"",tagIDs:[],isPublished:!1}}),{register:a,handleSubmit:ej,setValue:eg,watch:ev,formState:{errors:ey}}=s,[ek,eA]=(0,r.useState)([]),[eC,eN]=(0,r.useState)(null),[ew,eI]=(0,r.useState)(""),[eT,ez]=(0,r.useState)(!1),[eL,eD]=(0,r.useState)([]),eE=(0,c.hG)({extensions:[o.A,d.A,u.Ay,x.Ay,f.Ay,b.A,m.A,j.A,g.A,y.A,v.Ay.configure({nested:!0}),h.A.configure({levels:[1,2,3,4,5,6],HTMLAttributes:{class:"text-gray-900 dark:text-white font-bold"}}),p.A.configure({types:["heading","paragraph"]}),w.A,k.Ay.configure({resizable:!0}),N.A,C.h,A.A],content:"<p>Hello World! \uD83C\uDF0E️</p>"}),eP=async s=>{if(ez(!0),!e)return void ep.Ay.error("Bạn cần đăng nhập để tạo b\xe0i viết.");try{let i=[...eL];eC&&i.unshift(eC);let a=[];i.length>0&&(a=await (0,ef.uploadMultipleImages)(i));let n=eE?.getJSON(),r=+!!eC;n=function e(t){if(!t)return t;if(Array.isArray(t))return t.map(e);if("image"===t.type&&t.attrs?.src?.startsWith("blob:")){let e=a[r++];return{...t,attrs:{...t.attrs,src:e}}}return t.content?{...t,content:e(t.content)}:t}(n);let l=eC?a[0]:"",c=l?a.slice(2):a,o=e.userID;await (0,eb.Q4)({userID:o,title:s.title,titleImageUrl:l,subTitle:s.subtitle,content:JSON.stringify(n),slug:(0,eh.A)(s.slug||s.title),images:c.length>0?c:void 0,tags:s.tagIDs.length>0?s.tagIDs:void 0,isPublished:s.isPublished,isDraft:!s.isPublished})?(ep.Ay.success("Tạo b\xe0i viết th\xe0nh c\xf4ng!"),t.push("/vi/dashboard/posts")):ep.Ay.error("Tạo b\xe0i viết thất bại.")}catch(e){ep.Ay.error("C\xf3 lỗi xảy ra khi tạo b\xe0i viết."),console.error("Error creating news:",e)}finally{ez(!1)}},eS=a("title",{required:"Ti\xeau đề l\xe0 bắt buộc"}),eR=a("subtitle"),eq=a("slug"),eH=a("isPublished");return eE?(0,i.jsx)(ec.Op,{...s,children:(0,i.jsx)("form",{onSubmit:ej(eP),children:(0,i.jsxs)("div",{className:"",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Th\xeam B\xe0i Viết Mới"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Ti\xeau đề b\xe0i viết"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsx)(l.p,{...eS,maxLength:150,placeholder:"Nhập ti\xeau đề b\xe0i viết (tối đa 150 k\xfd tự)"})}),ey.title&&(0,i.jsx)(eo.C5,{children:ey.title.message})]}),(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Ti\xeau đề phụ"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsx)(l.p,{...eR,maxLength:150,placeholder:"Nhập ti\xeau đề phụ (tối đa 150 k\xfd tự)"})})]}),(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Slug b\xe0i viết (SEO)"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsx)(l.p,{value:"https://example.com/news/"+(0,eh.A)(ev("title")),...eq,placeholder:"https://example.com/news/slug"})})]}),(0,i.jsxs)(eo.eI,{className:"col-span-2",children:[(0,i.jsx)(eo.lR,{children:"Thẻ"}),ev("tagIDs")?.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:ev("tagIDs").map(e=>{let t=ek.find(t=>t.newsTagID===e);return t?(0,i.jsxs)("button",{type:"button",className:"px-2 py-1 bg-blue-100 text-blue-700 rounded hover:bg-blue-200 text-xs",onClick:()=>{eg("tagIDs",ev("tagIDs").filter(e=>e!==t.newsTagID))},children:[t.tagName," ✕"]},t.newsTagID):null})}),(0,i.jsx)(eo.MJ,{children:(0,i.jsxs)(el.l6,{value:"",onValueChange:e=>{let t=ek.find(t=>String(t.newsTagID)===String(e)),s=ev("tagIDs")||[];t&&!s.includes(t.newsTagID)&&eg("tagIDs",[...s,t.newsTagID])},children:[(0,i.jsx)(el.bq,{className:"w-full",children:(0,i.jsx)(el.yv,{placeholder:"Chọn tag"})}),(0,i.jsx)(el.gC,{children:ek.map(e=>(0,i.jsx)(el.eb,{value:String(e.newsTagID),children:e.tagName},e.newsTagID))})]})})]}),(0,i.jsxs)(eo.eI,{children:[(0,i.jsx)(eo.lR,{children:"Ảnh ti\xeau đề"}),(0,i.jsx)(eo.MJ,{children:(0,i.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4 text-center cursor-pointer bg-gray-50 hover:bg-gray-100 transition",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=Array.from(e.dataTransfer.files).find(e=>e.type.startsWith("image/"));if(t){eN(t);let e=new FileReader;e.onload=()=>eI(e.result),e.readAsDataURL(t)}},onClick:()=>{document.getElementById("title-image-input")?.click()},children:[(0,i.jsx)("input",{id:"title-image-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{let t=e.target.files?.[0]||null;if(eN(t),t){let e=new FileReader;e.onload=()=>{eI(e.result)},e.readAsDataURL(t)}else eI("")}}),(0,i.jsx)("div",{className:"text-gray-500",children:"K\xe9o v\xe0 thả ảnh v\xe0o đ\xe2y hoặc bấm để chọn ảnh"}),ew&&(0,i.jsx)("div",{className:"flex justify-center mt-4",children:(0,i.jsx)(I.default,{width:200,height:200,src:ew,alt:"Title",className:"max-h-40 rounded"})})]})})]}),(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d mt-4",children:[(0,i.jsx)("label",{className:"jsx-e64c2e82a73cf37d",children:"Nội dung b\xe0i viết"}),(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d border rounded-lg bg-white dark:bg-gray-800",children:[(0,i.jsxs)(en.tU,{defaultValue:"text",className:"mb-2 border-b p-4",children:[(0,i.jsxs)(en.j7,{className:"flex gap-2 px-1 mb-4",children:[(0,i.jsx)(en.Xi,{value:"text",children:"Văn bản"}),(0,i.jsx)(en.Xi,{value:"heading",children:"Ti\xeau đề"}),(0,i.jsx)(en.Xi,{value:"list",children:"Danh s\xe1ch"}),(0,i.jsx)(en.Xi,{value:"table",children:"Bảng"}),(0,i.jsx)(en.Xi,{value:"align",children:"Căn lề"}),(0,i.jsx)(en.Xi,{value:"insert",children:"Ch\xe8n"})]}),(0,i.jsx)(en.av,{value:"text",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-4 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bold",onClick:()=>eE.chain().focus().toggleBold().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eE.isActive("bold")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(z.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"In đậm"})]}),(0,i.jsxs)("button",{type:"button",title:"Italic",onClick:()=>eE.chain().focus().toggleItalic().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eE.isActive("italic")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(L.A,{size:16})," ",(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"In nghi\xeang"})]}),(0,i.jsxs)("button",{type:"button",title:"Underline",onClick:()=>eE.chain().focus().toggleUnderline().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eE.isActive("underline")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(D.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Gạch ch\xe2n"})]}),(0,i.jsxs)("button",{type:"button",title:"Blockquote",onClick:()=>eE.chain().focus().toggleBlockquote().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eE.isActive("blockquote")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(er.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Tr\xedch"})]}),(0,i.jsxs)("button",{type:"button",title:"Code Block",onClick:()=>eE.chain().focus().toggleCodeBlock().run(),className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eE.isActive("codeBlock")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(E.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Khối code"})]}),(0,i.jsxs)("button",{type:"button",title:"Link",onClick:()=>{let e=prompt("Enter URL");e&&eE.chain().focus().setLink({href:e}).run()},className:"jsx-e64c2e82a73cf37d "+((0,ed.A)(eE.isActive("link")?"is-active":"","flex items-center gap-x-1")||""),children:[(0,i.jsx)(P.A,{size:16}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d",children:"Li\xean kết"})]})]})}),(0,i.jsx)(en.av,{value:"heading",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"H1",onClick:()=>eE.chain().focus().toggleHeading({level:1}).run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("heading",{level:1})?"is-active":"")||""),children:(0,i.jsx)(S.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H2",onClick:()=>eE.chain().focus().toggleHeading({level:2}).run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("heading",{level:2})?"is-active":"")||""),children:(0,i.jsx)(R.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H3",onClick:()=>eE.chain().focus().toggleHeading({level:3}).run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("heading",{level:3})?"is-active":"")||""),children:(0,i.jsx)(q.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H4",onClick:()=>eE.chain().focus().toggleHeading({level:4}).run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("heading",{level:4})?"is-active":"")||""),children:(0,i.jsx)(H.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H5",onClick:()=>eE.chain().focus().toggleHeading({level:5}).run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("heading",{level:5})?"is-active":"")||""),children:(0,i.jsx)(F.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H6",onClick:()=>eE.chain().focus().toggleHeading({level:6}).run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("heading",{level:6})?"is-active":"")||""),children:(0,i.jsx)(B.A,{size:18})})]})}),(0,i.jsx)(en.av,{value:"list",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bullet List",onClick:()=>eE.chain().focus().toggleBulletList().run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("bulletList")?"is-active":"")||""),children:[(0,i.jsx)(O.A,{size:18}),(0,i.jsx)("span",{className:"jsx-e64c2e82a73cf37d"})]}),(0,i.jsx)("button",{type:"button",title:"Ordered List",onClick:()=>eE.chain().focus().toggleOrderedList().run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("orderedList")?"is-active":"")||""),children:(0,i.jsx)($.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Task List",onClick:()=>eE.chain().focus().toggleTaskList().run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive("taskList")?"is-active":"")||""),children:(0,i.jsx)(M.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Split List Item",onClick:()=>eE.chain().focus().splitListItem("listItem").run(),disabled:!eE.can().splitListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(_.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink List Item",onClick:()=>eE.chain().focus().sinkListItem("listItem").run(),disabled:!eE.can().sinkListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(G.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift List Item",onClick:()=>eE.chain().focus().liftListItem("listItem").run(),disabled:!eE.can().liftListItem("listItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(J.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Task Item",onClick:()=>eE.chain().focus().splitListItem("taskItem").run(),disabled:!eE.can().splitListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(_.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink Task Item",onClick:()=>eE.chain().focus().sinkListItem("taskItem").run(),disabled:!eE.can().sinkListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(G.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift Task Item",onClick:()=>eE.chain().focus().liftListItem("taskItem").run(),disabled:!eE.can().liftListItem("taskItem"),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(J.A,{size:16})})]})}),(0,i.jsx)(en.av,{value:"table",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Insert Table",onClick:()=>eE.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(U.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column Before",onClick:()=>eE.chain().focus().addColumnBefore().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(W.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column After",onClick:()=>eE.chain().focus().addColumnAfter().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(W.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Column",onClick:()=>eE.chain().focus().deleteColumn().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(X.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row Before",onClick:()=>eE.chain().focus().addRowBefore().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(K.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row After",onClick:()=>eE.chain().focus().addRowAfter().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(K.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Row",onClick:()=>eE.chain().focus().deleteRow().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(X.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Table",onClick:()=>eE.chain().focus().deleteTable().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(X.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge Cells",onClick:()=>eE.chain().focus().mergeCells().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(V.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Cell",onClick:()=>eE.chain().focus().splitCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(_.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Column",onClick:()=>eE.chain().focus().toggleHeaderColumn().run(),className:"jsx-e64c2e82a73cf37d",children:"1"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Row",onClick:()=>eE.chain().focus().toggleHeaderRow().run(),className:"jsx-e64c2e82a73cf37d",children:"2"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Cell",onClick:()=>eE.chain().focus().toggleHeaderCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge or Split",onClick:()=>eE.chain().focus().mergeOrSplit().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(V.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Set Cell Attribute",onClick:()=>eE.chain().focus().setCellAttribute("colspan",2).run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(W.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Fix Tables",onClick:()=>eE.chain().focus().fixTables().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(U.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Next Cell",onClick:()=>eE.chain().focus().goToNextCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Q.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Previous Cell",onClick:()=>eE.chain().focus().goToPreviousCell().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(Y.A,{size:16})})]})}),(0,i.jsx)(en.av,{value:"align",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Align Left",onClick:()=>eE.chain().focus().setTextAlign("left").run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive({textAlign:"left"})?"is-active":"")||""),children:(0,i.jsx)(ee.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Center",onClick:()=>eE.chain().focus().setTextAlign("center").run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive({textAlign:"center"})?"is-active":"")||""),children:(0,i.jsx)(et.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Right",onClick:()=>eE.chain().focus().setTextAlign("right").run(),className:"jsx-e64c2e82a73cf37d "+((eE.isActive({textAlign:"right"})?"is-active":"")||""),children:(0,i.jsx)(es.A,{size:16})})]})}),(0,i.jsx)(en.av,{value:"insert",children:(0,i.jsxs)("div",{className:"jsx-e64c2e82a73cf37d flex gap-2 flex-wrap",children:[(0,i.jsxs)("label",{title:"Image",className:"jsx-e64c2e82a73cf37d",children:[(0,i.jsx)(ei.A,{size:16}),(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{let t=e.target.files?.[0];if(!t)return;eD(e=>[...e,t]);let s=URL.createObjectURL(t);eE.chain().focus().setImage({src:s}).run()},className:"jsx-e64c2e82a73cf37d"})]}),(0,i.jsx)("button",{type:"button",title:"Horizontal Rule",onClick:()=>eE.chain().focus().setHorizontalRule().run(),className:"jsx-e64c2e82a73cf37d",children:(0,i.jsx)(ea.A,{size:16})})]})})]}),(0,i.jsx)(c.$Z,{editor:eE,className:"tiptap-content min-h-[300px] p-3 focus:outline-none rounded-br-md rounded-bl-md focus:border-none"})]}),(0,i.jsx)(n(),{id:"e64c2e82a73cf37d",children:".tiptap-content:focus,.tiptap-content:focus-visible,.tiptap-content *:focus,.tiptap-content *:focus-visible{outline:none!important;border:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.is-active{background-color:#e9e9e9;color:#000;border-color:#2563eb;padding:.2rem .5rem;-webkit-border-radius:-webkit-calc(var(--radius) - 2px);-moz-border-radius:-moz-calc(var(--radius) - 2px);border-radius:-webkit-calc(var(--radius) - 2px);border-radius:-moz-calc(var(--radius) - 2px);border-radius:calc(var(--radius) - 2px)}"})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2 py-4",children:[(0,i.jsx)(eu.S,{...eH,id:"isPublished",checked:ev("isPublished"),onCheckedChange:e=>eg("isPublished",!!e)}),(0,i.jsx)("label",{htmlFor:"isPublished",children:"C\xf4ng khai b\xe0i viết"})]}),(0,i.jsx)("div",{className:"mt-6 flex justify-end",children:(0,i.jsx)(ex.$,{variant:"default",disabled:eT,className:"cursor-pointer",children:eT?"Đang lưu...":"Tạo b\xe0i viết"})})]})})}):null}},45213:(e,t,s)=>{"use strict";s.d(t,{S:()=>w});var i=s(60687),a=s(43210),n=s(98599),r=s(11273),l=s(70569),c=s(65551),o=s(83721),d=s(18853),u=s(46059),x=s(3416),p="Checkbox",[h,f]=(0,r.A)(p),[b,m]=h(p),j=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:r,checked:o,defaultChecked:d,required:u,disabled:h,value:f="on",onCheckedChange:m,form:j,...g}=e,[v,C]=a.useState(null),N=(0,n.s)(t,e=>C(e)),w=a.useRef(!1),I=!v||j||!!v.closest("form"),[T,z]=(0,c.i)({prop:o,defaultProp:d??!1,onChange:m,caller:p}),L=a.useRef(T);return a.useEffect(()=>{let e=v?.form;if(e){let t=()=>z(L.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,z]),(0,i.jsxs)(b,{scope:s,state:T,disabled:h,children:[(0,i.jsx)(x.sG.button,{type:"button",role:"checkbox","aria-checked":k(T)?"mixed":T,"aria-required":u,"data-state":A(T),"data-disabled":h?"":void 0,disabled:h,value:f,...g,ref:N,onKeyDown:(0,l.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(e.onClick,e=>{z(e=>!!k(e)||!e),I&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),I&&(0,i.jsx)(y,{control:v,bubbles:!w.current,name:r,value:f,checked:T,required:u,disabled:h,form:j,style:{transform:"translateX(-100%)"},defaultChecked:!k(d)&&d})]})});j.displayName=p;var g="CheckboxIndicator",v=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...n}=e,r=m(g,s);return(0,i.jsx)(u.C,{present:a||k(r.state)||!0===r.state,children:(0,i.jsx)(x.sG.span,{"data-state":A(r.state),"data-disabled":r.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=g;var y=a.forwardRef(({__scopeCheckbox:e,control:t,checked:s,bubbles:r=!0,defaultChecked:l,...c},u)=>{let p=a.useRef(null),h=(0,n.s)(p,u),f=(0,o.Z)(s),b=(0,d.X)(t);a.useEffect(()=>{let e=p.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==s&&t){let i=new Event("click",{bubbles:r});e.indeterminate=k(s),t.call(e,!k(s)&&s),e.dispatchEvent(i)}},[f,s,r]);let m=a.useRef(!k(s)&&s);return(0,i.jsx)(x.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??m.current,...c,tabIndex:-1,ref:h,style:{...c.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function k(e){return"indeterminate"===e}function A(e){return k(e)?"indeterminate":e?"checked":"unchecked"}y.displayName="CheckboxBubbleInput";var C=s(13964),N=s(77272);function w({className:e,...t}){return(0,i.jsx)(j,{"data-slot":"checkbox",className:(0,N.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,i.jsx)(v,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,i.jsx)(C.A,{className:"size-3.5"})})})}},48894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deleteAImage:()=>r,deleteMultipleImages:()=>l,uploadMultipleImages:()=>n,uploadSingleImage:()=>a});var i=s(85484);let a=async e=>{try{let t=new FormData;t.append("file",e);let s=await fetch(`${i.p}/api/upload`,{method:"POST",body:t});if(!s.ok)throw Error(`Failed to upload file: ${s.statusText}`);let a=await s.json();return a.url||a.path}catch(e){throw console.error("Error uploading file:",e),e}},n=async e=>{try{let t=new FormData;e.forEach(e=>t.append("files",e));let s=await fetch(`${i.p}/api/upload/multiple`,{method:"POST",body:t});if(!s.ok)throw Error(`Failed to upload files: ${s.statusText}`);return(await s.json()).files.map(e=>e.url)}catch(e){throw console.error("Error uploading files:",e),e}},r=async e=>{try{let t=await fetch(`${i.p}/api/upload/single-delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok)throw Error(`Failed to delete file: ${t.statusText}`)}catch(e){throw console.error("Error deleting file:",e),e}},l=async e=>{try{let t=await fetch(`${i.p}/api/upload/multi-delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)throw Error(`Failed to delete files: ${t.statusText}`)}catch(e){throw console.error("Error deleting files:",e),e}}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55677:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=function(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"")}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69161:(e,t,s)=>{Promise.resolve().then(s.bind(s,14353))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[4447,4825,7076,4866,785,9553,5863,8601,177],()=>s(18821));module.exports=i})();
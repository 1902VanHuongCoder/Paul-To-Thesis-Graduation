(()=>{var e={};e.id=2844,e.ids=[2844],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},39102:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(administrator)\\\\dashboard\\\\diseases\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\diseases\\page.tsx","default")},48405:(e,t,s)=>{"use strict";s.d(t,{dK:()=>o,Iu:()=>d,cU:()=>c,n$:()=>h,WA:()=>x,Eb:()=>u});var r=s(60687);s(43210);let a=(0,s(62688).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var n=s(14952),i=s(77272),l=s(51156);function o({className:e,...t}){return(0,r.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,i.cn)("mx-auto flex w-full justify-center",e),...t})}function d({className:e,...t}){return(0,r.jsx)("ul",{"data-slot":"pagination-content",className:(0,i.cn)("flex flex-row items-center gap-1",e),...t})}function c({...e}){return(0,r.jsx)("li",{"data-slot":"pagination-item",...e})}function h({className:e,isActive:t,size:s="icon",...a}){return(0,r.jsx)("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:(0,i.cn)((0,l.r)({variant:t?"outline":"ghost",size:s}),e),...a})}function u({className:e,...t}){return(0,r.jsxs)(h,{"aria-label":"Go to previous page",size:"default",className:(0,i.cn)("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[(0,r.jsx)(a,{}),(0,r.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function x({className:e,...t}){return(0,r.jsxs)(h,{"aria-label":"Go to next page",size:"default",className:(0,i.cn)("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[(0,r.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,r.jsx)(n.A,{})]})}},54018:(e,t,s)=>{Promise.resolve().then(s.bind(s,67812))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57175:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},59666:(e,t,s)=>{"use strict";s.d(t,{A0:()=>i,BF:()=>l,Hj:()=>o,XI:()=>n,nA:()=>c,nd:()=>d,r6:()=>h});var r=s(60687);s(43210);var a=s(77272);function n({className:e,...t}){return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})})}function i({className:e,...t}){return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,a.cn)("[&_tr]:border-b",e),...t})}function l({className:e,...t}){return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t})}function o({className:e,...t}){return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function d({className:e,...t}){return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,a.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,a.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function h({className:e,...t}){return(0,r.jsx)("caption",{"data-slot":"table-caption",className:(0,a.cn)("text-muted-foreground mt-4 text-sm",e),...t})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67812:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(60687),a=s(43210),n=s(7552),i=s(51156),l=s(85814),o=s.n(l),d=s(57175),c=s(88233),h=s(68806),u=s(37590),x=s(89667),p=s(59666),m=s(48405),f=s(30474),j=s(23020);function b(){let[e,t]=(0,a.useState)([]),[s,l]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),[g,y]=(0,a.useState)(""),[w,N]=(0,a.useState)(""),[A,k]=(0,a.useState)(1),[C,P]=(0,a.useState)(10),[q,D]=(0,a.useState)(!0),_=e.filter(e=>{let t=e.diseaseName.toLowerCase().includes(g.toLowerCase()),s=!w||e.ricePathogen.toLowerCase().includes(w.toLowerCase());return t&&s}),E=Math.ceil(_.length/C),L=_.slice((A-1)*C,A*C);return(0,r.jsxs)("div",{className:"",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Danh S\xe1ch Bệnh L\xfaa"}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[(0,r.jsx)(x.p,{type:"text",placeholder:"Lọc theo t\xean bệnh",value:g,onChange:e=>y(e.target.value),className:"w-56"}),(0,r.jsx)(x.p,{type:"text",placeholder:"Lọc theo t\xe1c nh\xe2n g\xe2y bệnh",value:w,onChange:e=>N(e.target.value),className:"w-56"}),(0,r.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Số bệnh/trang:"}),(0,r.jsxs)(j.l6,{defaultValue:"10",value:C.toString(),onValueChange:e=>{P(Number(e)),k(1)},children:[(0,r.jsx)(j.bq,{className:"border rounded px-2 py-1",children:C}),(0,r.jsxs)(j.gC,{children:[(0,r.jsx)(j.eb,{value:"5",children:"5"}),(0,r.jsx)(j.eb,{value:"10",children:"10"}),(0,r.jsx)(j.eb,{value:"20",children:"20"}),(0,r.jsx)(j.eb,{value:"50",children:"50"})]})]})]})]}),(0,r.jsxs)(p.XI,{className:"w-full",children:[(0,r.jsx)(p.A0,{children:(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nA,{className:"font-semibold",children:"ID"}),(0,r.jsx)(p.nA,{children:"T\xean bệnh"}),(0,r.jsx)(p.nA,{children:"T\xe1c nh\xe2n"}),(0,r.jsx)(p.nA,{children:"H\xecnh ảnh"}),(0,r.jsx)(p.nA,{children:"Người nhập"}),(0,r.jsx)(p.nA,{children:"Ng\xe0y tạo"}),(0,r.jsx)(p.nA,{className:"text-center",children:"H\xe0nh động"})]})}),(0,r.jsx)(p.BF,{children:q?(0,r.jsx)(p.Hj,{children:(0,r.jsx)(p.nA,{colSpan:7,children:"Đang tải..."})}):0===L.length?(0,r.jsx)(p.Hj,{children:(0,r.jsx)(p.nA,{colSpan:7,children:"Kh\xf4ng c\xf3 bệnh n\xe0o"})}):L.map(e=>(0,r.jsxs)(p.Hj,{children:[(0,r.jsx)(p.nA,{className:"font-semibold",children:e.diseaseID}),(0,r.jsx)(p.nA,{className:"font-semibold",children:e.diseaseName}),(0,r.jsx)(p.nA,{children:e.ricePathogen}),(0,r.jsx)(p.nA,{children:(0,r.jsx)("div",{className:"flex gap-2 flex-wrap",children:(0,r.jsx)("div",{className:"relative w-12 h-12",children:(0,r.jsx)(f.default,{src:e.images[0],alt:"disease",layout:"fill",className:"rounded border object-cover"})})})}),(0,r.jsx)(p.nA,{children:e.userID}),(0,r.jsx)(p.nA,{children:new Date(e.createdAt).toLocaleDateString()}),(0,r.jsx)(p.nA,{children:(0,r.jsxs)("div",{className:"flex gap-2 w-full justify-center",children:[(0,r.jsx)(o(),{href:`/vi/dashboard/diseases/edit-disease?diseaseID=${e.diseaseID}`,className:"p-1 rounded hover:bg-primary/10",title:"Edit disease",children:(0,r.jsx)(d.A,{className:"w-4 h-4 text-blue-600"})}),(0,r.jsx)("button",{className:"p-1 rounded hover:bg-red-100",title:"Delete disease",onClick:()=>{v(e.diseaseID),l(!0)},children:(0,r.jsx)(c.A,{className:"w-4 h-4 text-red-600"})})]})})]},e.diseaseID))})]}),(0,r.jsx)(n.lG,{open:s,onOpenChange:l,children:(0,r.jsxs)(n.Cf,{children:[(0,r.jsx)(n.c7,{children:(0,r.jsx)(n.L3,{children:"X\xe1c nhận x\xf3a bệnh"})}),(0,r.jsx)("div",{children:"Bạn c\xf3 chắc chắn muốn x\xf3a bệnh n\xe0y kh\xf4ng?"}),(0,r.jsxs)(n.Es,{children:[(0,r.jsx)(n.HM,{asChild:!0,children:(0,r.jsx)(i.$,{variant:"outline",className:"hover:cursor-pointer hover:bg-gray-200",children:"Hủy"})}),(0,r.jsx)(i.$,{variant:"destructive",onClick:async()=>{if(null!==b){try{let e=await (0,h._C)(b);200===e.status?(u.oR.success("Đ\xe3 x\xf3a bệnh th\xe0nh c\xf4ng!"),t(e=>e.filter(e=>e.diseaseID!==b))):u.oR.error(e.message||"Kh\xf4ng x\xf3a được bệnh.")}catch(e){u.oR.error("X\xf3a bệnh thất bại. Vui l\xf2ng thử lại."),console.error("Error deleting disease:",e)}l(!1),v(null)}},className:"hover:cursor-pointer ",children:"X\xf3a"})]})]})}),(0,r.jsx)("div",{className:"mt-6 flex justify-between items-center",children:(0,r.jsx)(m.dK,{className:"w-full flex justify-start",children:(0,r.jsxs)(m.Iu,{children:[(0,r.jsx)(m.cU,{children:(0,r.jsx)(m.Eb,{href:"#",onClick:e=>{e.preventDefault(),k(e=>Math.max(1,e-1))},"aria-disabled":1===A,tabIndex:1===A?-1:0})}),Array.from({length:E},(e,t)=>t+1).map(e=>(0,r.jsx)(m.cU,{children:(0,r.jsx)(m.n$,{href:"#",isActive:e===A,onClick:t=>{t.preventDefault(),k(e)},children:e})},e)),(0,r.jsx)(m.cU,{children:(0,r.jsx)(m.WA,{href:"#",onClick:e=>{e.preventDefault(),k(e=>Math.min(E,e+1))},"aria-disabled":A===E||0===E,tabIndex:A===E||0===E?-1:0})})]})})})]})}},68806:(e,t,s)=>{"use strict";s.d(t,{Pd:()=>i,ZJ:()=>n,_C:()=>o,el:()=>l,fP:()=>a});var r=s(85484);let a=async()=>{let e=await fetch(`${r.p}/api/disease`);if(!e.ok)throw Error("Failed to fetch diseases");return e.json()},n=async e=>{let t=await fetch(`${r.p}/api/disease/${e}`);if(!t.ok)throw Error("Failed to fetch disease");return t.json()},i=async({userID:e,diseaseName:t,diseaseEnName:s,ricePathogen:a,symptoms:n,images:i})=>{let l=await fetch(`${r.p}/api/disease`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:e,diseaseName:t,diseaseEnName:s,ricePathogen:a,symptoms:n,images:i})});if(!l.ok)throw Error("Failed to create disease");return l.json()},l=async(e,t)=>{let s=await fetch(`${r.p}/api/disease/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to update disease");return s.json()},o=async e=>{let t=await fetch(`${r.p}/api/disease/${e}`,{method:"DELETE"}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to delete disease");return{message:s.message,status:t.status}}},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},86585:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(65239),a=s(48088),n=s(88170),i=s.n(n),l=s(30893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d={children:["",{children:["vi",{children:["(administrator)",{children:["dashboard",{children:["diseases",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,39102)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\diseases\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,41529)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15097)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\diseases\\page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/vi/(administrator)/dashboard/diseases/page",pathname:"/vi/dashboard/diseases",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},88233:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},89781:(e,t,s)=>{Promise.resolve().then(s.bind(s,39102))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4447,4825,7076,4866,8601,177],()=>s(86585));module.exports=r})();
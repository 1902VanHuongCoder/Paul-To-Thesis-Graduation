(()=>{var e={};e.id=2847,e.ids=[2847],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22745:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>o});var i=s(65239),a=s(48088),n=s(88170),r=s.n(n),l=s(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let o={children:["",{children:["vi",{children:["(administrator)",{children:["dashboard",{children:["diseases",{children:["add-disease",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,53165)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\diseases\\add-disease\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,41529)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,15097)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\diseases\\add-disease\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},f=new i.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/vi/(administrator)/dashboard/diseases/add-disease/page",pathname:"/vi/dashboard/diseases/add-disease",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36979:(e,t,s)=>{Promise.resolve().then(s.bind(s,53165))},48894:(e,t,s)=>{"use strict";s.r(t),s.d(t,{deleteAImage:()=>r,deleteMultipleImages:()=>l,uploadMultipleImages:()=>n,uploadSingleImage:()=>a});var i=s(85484);let a=async e=>{try{let t=new FormData;t.append("file",e);let s=await fetch(`${i.p}/api/upload`,{method:"POST",body:t});if(!s.ok)throw Error(`Failed to upload file: ${s.statusText}`);let a=await s.json();return a.url||a.path}catch(e){throw console.error("Error uploading file:",e),e}},n=async e=>{try{let t=new FormData;e.forEach(e=>t.append("files",e));let s=await fetch(`${i.p}/api/upload/multiple`,{method:"POST",body:t});if(!s.ok)throw Error(`Failed to upload files: ${s.statusText}`);return(await s.json()).files.map(e=>e.url)}catch(e){throw console.error("Error uploading files:",e),e}},r=async e=>{try{let t=await fetch(`${i.p}/api/upload/single-delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})});if(!t.ok)throw Error(`Failed to delete file: ${t.statusText}`)}catch(e){throw console.error("Error deleting file:",e),e}},l=async e=>{try{let t=await fetch(`${i.p}/api/upload/multi-delete`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:e})});if(!t.ok)throw Error(`Failed to delete files: ${t.statusText}`)}catch(e){throw console.error("Error deleting files:",e),e}}},53165:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(administrator)\\\\dashboard\\\\diseases\\\\add-disease\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\diseases\\add-disease\\page.tsx","default")},53527:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>V});var i=s(60687),a=s(76180),n=s.n(a),r=s(43210),l=s(27605),d=s(7203),o=s(56863),c=s(30474),u=s(55856),f=s(27777),b=s(11922),h=s(44692),p=s(98916),x=s(34091),m=s(47342),j=s(45984),g=s(69169),v=s(21782),y=s(96439),N=s(48340),A=s(51509),k=s(25366),C=s(14290),w=s(77850),T=s(70624),z=s(70334),L=s(28559),E=s(82164),P=s(87024),I=s(88233),q=s(93460),D=s(7796),H=s(35904),R=s(89422),S=s(2975),F=s(95999),$=s(80051),_=s(8366),B=s(9005),O=s(5748),M=s(96362),U=s(36027),G=s(37590),W=s(48894),X=s(68806),J=s(16189);function V(){let e=(0,J.useRouter)(),{register:t,handleSubmit:s,reset:a,setValue:V,getValues:K,formState:{errors:Z}}=(0,l.mN)(),[Q,Y]=(0,r.useState)([]),[ee,et]=(0,r.useState)(!1),[es,ei]=(0,r.useState)(""),{user:ea}=(0,U.J)(),en=(0,d.hG)({extensions:[o.A],content:"<p>Nhập triệu chứng bệnh ở đ\xe2y...</p>"}),er=async t=>{et(!0),ei("");try{let s=[];t.images&&t.images.length>0&&(s=await (0,W.uploadMultipleImages)(Array.from(t.images))),await (0,X.Pd)({userID:ea?.userID||"",diseaseName:t.diseaseName,diseaseEnName:t.diseaseEnName,ricePathogen:t.ricePathogen,symptoms:en?.getHTML()||"",images:s})?(G.Ay.success("Th\xeam bệnh th\xe0nh c\xf4ng!"),a(),Y([]),en?.commands.setContent("<p>Nhập triệu chứng bệnh ở đ\xe2y...</p>"),e.push("/vi/dashboard/diseases")):G.Ay.error("Th\xeam bệnh thất bại!")}catch{G.Ay.error("Lỗi khi th\xeam bệnh.")}finally{et(!1)}};return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Th\xeam Mới Bệnh L\xfaa"}),(0,i.jsxs)("form",{onSubmit:s(er),children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"T\xean bệnh"}),(0,i.jsx)("input",{type:"text",...t("diseaseName",{required:!0}),className:"w-full border px-3 py-2 rounded"}),Z.diseaseName&&(0,i.jsx)("span",{className:"text-red-500",children:"T\xean bệnh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"T\xean tiếng Anh"}),(0,i.jsx)("input",{type:"text",...t("diseaseEnName",{required:!0}),className:"w-full border px-3 py-2 rounded"}),Z.diseaseEnName&&(0,i.jsx)("span",{className:"text-red-500",children:"T\xean tiếng Anh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"T\xe1c nh\xe2n g\xe2y bệnh"}),(0,i.jsx)("input",{type:"text",...t("ricePathogen",{required:!0}),className:"w-full border px-3 py-2 rounded"}),Z.ricePathogen&&(0,i.jsx)("span",{className:"text-red-500",children:"T\xe1c nh\xe2n g\xe2y bệnh l\xe0 bắt buộc"})]}),(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 mb-4 col-span-2",children:[(0,i.jsx)("label",{className:"jsx-7ffdb793fdba2d74 font-medium mb-1 block text-sm",children:"Triệu chứng"}),(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 border rounded-lg bg-white dark:bg-gray-800",children:[(0,i.jsxs)(u.tU,{defaultValue:"text",className:"mb-2 border-b p-4",children:[(0,i.jsxs)(u.j7,{className:"flex gap-2 px-1 mb-4",children:[(0,i.jsx)(u.Xi,{value:"text",children:"Văn bản"}),(0,i.jsx)(u.Xi,{value:"heading",children:"Ti\xeau đề"}),(0,i.jsx)(u.Xi,{value:"list",children:"Danh s\xe1ch"}),(0,i.jsx)(u.Xi,{value:"table",children:"Bảng"}),(0,i.jsx)(u.Xi,{value:"align",children:"Căn lề"}),(0,i.jsx)(u.Xi,{value:"insert",children:"Ch\xe8n"})]}),(0,i.jsx)(u.av,{value:"text",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-4 flex-wrap",children:[(0,i.jsxs)("button",{type:"button",title:"Bold",onClick:()=>en?.chain().focus().toggleBold().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("bold")?"is-active":"")||""),children:[(0,i.jsx)(f.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"In đậm"})]}),(0,i.jsxs)("button",{type:"button",title:"Italic",onClick:()=>en?.chain().focus().toggleItalic().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("italic")?"is-active":"")||""),children:[(0,i.jsx)(b.A,{size:16})," ",(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"In nghi\xeang"})]}),(0,i.jsxs)("button",{type:"button",title:"Underline",onClick:()=>en?.chain().focus().toggleUnderline().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("underline")?"is-active":"")||""),children:[(0,i.jsx)(h.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Gạch ch\xe2n"})]}),(0,i.jsxs)("button",{type:"button",title:"Blockquote",onClick:()=>en?.chain().focus().toggleBlockquote().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("blockquote")?"is-active":"")||""),children:[(0,i.jsx)(p.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Tr\xedch"})]}),(0,i.jsxs)("button",{type:"button",title:"Code Block",onClick:()=>en?.chain().focus().toggleCodeBlock().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("codeBlock")?"is-active":"")||""),children:[(0,i.jsx)(x.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Khối code"})]}),(0,i.jsxs)("button",{type:"button",title:"Link",onClick:()=>{let e=prompt("Enter URL");e&&en?.chain().focus().setLink({href:e}).run()},className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("link")?"is-active":"")||""),children:[(0,i.jsx)(m.A,{size:16}),(0,i.jsx)("span",{className:"jsx-7ffdb793fdba2d74",children:"Li\xean kết"})]})]})}),(0,i.jsx)(u.av,{value:"heading",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"H1",onClick:()=>en?.chain().focus().toggleHeading({level:1}).run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("heading",{level:1})?"is-active":"")||""),children:(0,i.jsx)(j.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H2",onClick:()=>en?.chain().focus().toggleHeading({level:2}).run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("heading",{level:2})?"is-active":"")||""),children:(0,i.jsx)(g.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H3",onClick:()=>en?.chain().focus().toggleHeading({level:3}).run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("heading",{level:3})?"is-active":"")||""),children:(0,i.jsx)(v.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H4",onClick:()=>en?.chain().focus().toggleHeading({level:4}).run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("heading",{level:4})?"is-active":"")||""),children:(0,i.jsx)(y.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H5",onClick:()=>en?.chain().focus().toggleHeading({level:5}).run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("heading",{level:5})?"is-active":"")||""),children:(0,i.jsx)(N.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"H6",onClick:()=>en?.chain().focus().toggleHeading({level:6}).run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("heading",{level:6})?"is-active":"")||""),children:(0,i.jsx)(A.A,{size:18})})]})}),(0,i.jsx)(u.av,{value:"list",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Bullet List",onClick:()=>en?.chain().focus().toggleBulletList().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("bulletList")?"is-active":"")||""),children:(0,i.jsx)(k.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Ordered List",onClick:()=>en?.chain().focus().toggleOrderedList().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("orderedList")?"is-active":"")||""),children:(0,i.jsx)(C.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Task List",onClick:()=>en?.chain().focus().toggleTaskList().run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive("taskList")?"is-active":"")||""),children:(0,i.jsx)(w.A,{size:18})}),(0,i.jsx)("button",{type:"button",title:"Split List Item",onClick:()=>en?.chain().focus().splitListItem("listItem").run(),disabled:!en?.can().splitListItem("listItem"),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(T.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Sink List Item",onClick:()=>en?.chain().focus().sinkListItem("listItem").run(),disabled:!en?.can().sinkListItem("listItem"),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(z.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Lift List Item",onClick:()=>en?.chain().focus().liftListItem("listItem").run(),disabled:!en?.can().liftListItem("listItem"),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(L.A,{size:16})})]})}),(0,i.jsx)(u.av,{value:"table",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Insert Table",onClick:()=>en?.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(E.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column Before",onClick:()=>en?.chain().focus().addColumnBefore().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Column After",onClick:()=>en?.chain().focus().addColumnAfter().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Column",onClick:()=>en?.chain().focus().deleteColumn().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(I.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row Before",onClick:()=>en?.chain().focus().addRowBefore().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(q.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Add Row After",onClick:()=>en?.chain().focus().addRowAfter().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(q.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Row",onClick:()=>en?.chain().focus().deleteRow().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(I.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Delete Table",onClick:()=>en?.chain().focus().deleteTable().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(I.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge Cells",onClick:()=>en?.chain().focus().mergeCells().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(D.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Split Cell",onClick:()=>en?.chain().focus().splitCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(T.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Column",onClick:()=>en?.chain().focus().toggleHeaderColumn().run(),className:"jsx-7ffdb793fdba2d74",children:"1"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Row",onClick:()=>en?.chain().focus().toggleHeaderRow().run(),className:"jsx-7ffdb793fdba2d74",children:"2"}),(0,i.jsx)("button",{type:"button",title:"Toggle Header Cell",onClick:()=>en?.chain().focus().toggleHeaderCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(H.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Merge or Split",onClick:()=>en?.chain().focus().mergeOrSplit().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(D.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Set Cell Attribute",onClick:()=>en?.chain().focus().setCellAttribute("colspan",2).run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(P.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Fix Tables",onClick:()=>en?.chain().focus().fixTables().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(E.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Next Cell",onClick:()=>en?.chain().focus().goToNextCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(R.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Go to Previous Cell",onClick:()=>en?.chain().focus().goToPreviousCell().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(S.A,{size:16})})]})}),(0,i.jsx)(u.av,{value:"align",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsx)("button",{type:"button",title:"Align Left",onClick:()=>en?.chain().focus().setTextAlign("left").run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive({textAlign:"left"})?"is-active":"")||""),children:(0,i.jsx)(F.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Center",onClick:()=>en?.chain().focus().setTextAlign("center").run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive({textAlign:"center"})?"is-active":"")||""),children:(0,i.jsx)($.A,{size:16})}),(0,i.jsx)("button",{type:"button",title:"Align Right",onClick:()=>en?.chain().focus().setTextAlign("right").run(),className:"jsx-7ffdb793fdba2d74 "+((en?.isActive({textAlign:"right"})?"is-active":"")||""),children:(0,i.jsx)(_.A,{size:16})})]})}),(0,i.jsx)(u.av,{value:"insert",children:(0,i.jsxs)("div",{className:"jsx-7ffdb793fdba2d74 flex gap-2 flex-wrap",children:[(0,i.jsxs)("label",{title:"Image",className:"jsx-7ffdb793fdba2d74",children:[(0,i.jsx)(B.A,{size:16}),(0,i.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async e=>{let t=e.target.files?.[0];if(!t)return;let s=URL.createObjectURL(t);en?.chain().focus().setImage({src:s}).run()},className:"jsx-7ffdb793fdba2d74"})]}),(0,i.jsx)("button",{type:"button",title:"Horizontal Rule",onClick:()=>en?.chain().focus().setHorizontalRule().run(),className:"jsx-7ffdb793fdba2d74",children:(0,i.jsx)(O.A,{size:16})})]})})]}),(0,i.jsx)(d.$Z,{editor:en,className:"tiptap-content min-h-[300px] p-3 focus:outline-none rounded-br-md rounded-bl-md focus:border-none"})]}),(0,i.jsx)(n(),{id:"7ffdb793fdba2d74",children:".tiptap-content:focus,.tiptap-content:focus-visible,.tiptap-content *:focus,.tiptap-content *:focus-visible{outline:none!important;border:none!important;-webkit-box-shadow:none!important;-moz-box-shadow:none!important;box-shadow:none!important}.is-active{background-color:#e9e9e9;color:#000;border-color:#2563eb;padding:.2rem .5rem;-webkit-border-radius:-webkit-calc(var(--radius) - 2px);-moz-border-radius:-moz-calc(var(--radius) - 2px);border-radius:-webkit-calc(var(--radius) - 2px);border-radius:-moz-calc(var(--radius) - 2px);border-radius:calc(var(--radius) - 2px)}"})]}),(0,i.jsxs)("div",{className:"mb-4 col-span-2",children:[(0,i.jsx)("label",{className:"block font-medium mb-1",children:"H\xecnh ảnh bệnh"}),(0,i.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-md p-4 text-center cursor-pointer bg-gray-50 hover:bg-gray-100 transition",onDragOver:e=>{e.preventDefault(),e.stopPropagation()},onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=Array.from(e.dataTransfer.files).filter(e=>e.type.startsWith("image/"));if(t.length>0){let e=new DataTransfer;t.forEach(t=>e.items.add(t)),V("images",e.files),Y(t.map(e=>URL.createObjectURL(e)))}},onClick:()=>{document.getElementById("product-image-input")?.click()},children:[(0,i.jsx)("input",{id:"product-image-input",type:"file",multiple:!0,accept:"image/*",style:{display:"none"},onChange:e=>{let t=Array.from(e.target.files||[]).filter(e=>e.type.startsWith("image/")),s=[...Array.from(K("images")||[]),...t],i=new DataTransfer;s.forEach(e=>i.items.add(e)),V("images",i.files),Y(s.map(e=>URL.createObjectURL(e)))}}),(0,i.jsx)("div",{className:"text-gray-500",children:"K\xe9o v\xe0 thả ảnh v\xe0o đ\xe2y hoặc bấm để chọn ảnh"}),Q.length>0&&(0,i.jsx)("div",{className:"flex flex-wrap gap-2 mt-4 justify-center",children:Q.map((e,t)=>(0,i.jsxs)("div",{className:"relative group",children:[(0,i.jsx)(c.default,{width:96,height:96,src:e,alt:`preview-${t}`,className:"w-24 h-24 object-cover rounded border"}),(0,i.jsx)("button",{type:"button",className:"absolute top-1 right-1 bg-white bg-opacity-80 rounded-full p-1 text-xs text-red-600 shadow group-hover:opacity-100 opacity-80",onClick:e=>{e.stopPropagation(),Y(Q.filter((e,s)=>s!==t));let s=Array.from(K("images")||[]);s.splice(t,1);let i=new DataTransfer;s.forEach(e=>i.items.add(e)),V("images",i.files)},children:(0,i.jsx)(M.A,{className:"w-4 h-4"})})]},t))})]})]}),(0,i.jsx)("button",{type:"submit",disabled:ee,className:"px-6 py-2 rounded bg-primary text-white font-semibold",children:ee?"Đang th\xeam...":"Th\xeam bệnh"}),es&&(0,i.jsx)("div",{className:"mt-4 text-center text-green-600",children:es})]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68806:(e,t,s)=>{"use strict";s.d(t,{Pd:()=>r,ZJ:()=>n,_C:()=>d,el:()=>l,fP:()=>a});var i=s(85484);let a=async()=>{let e=await fetch(`${i.p}/api/disease`);if(!e.ok)throw Error("Failed to fetch diseases");return e.json()},n=async e=>{let t=await fetch(`${i.p}/api/disease/${e}`);if(!t.ok)throw Error("Failed to fetch disease");return t.json()},r=async({userID:e,diseaseName:t,diseaseEnName:s,ricePathogen:a,symptoms:n,images:r})=>{let l=await fetch(`${i.p}/api/disease`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userID:e,diseaseName:t,diseaseEnName:s,ricePathogen:a,symptoms:n,images:r})});if(!l.ok)throw Error("Failed to create disease");return l.json()},l=async(e,t)=>{let s=await fetch(`${i.p}/api/disease/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error("Failed to update disease");return s.json()},d=async e=>{let t=await fetch(`${i.p}/api/disease/${e}`,{method:"DELETE"}),s=await t.json();if(!t.ok)throw Error(s.error||"Failed to delete disease");return{message:s.message,status:t.status}}},70136:(e,t,s)=>{Promise.resolve().then(s.bind(s,53527))},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96362:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});let i=(0,s(62688).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[4447,4825,7076,4866,785,5863,8601,177],()=>s(22745));module.exports=i})();
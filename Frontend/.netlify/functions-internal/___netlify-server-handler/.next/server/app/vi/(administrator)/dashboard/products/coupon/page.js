(()=>{var e={};e.id=5690,e.ids=[5690],e.modules={1867:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>o});var s=r(65239),n=r(48088),i=r(88170),a=r.n(i),l=r(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);r.d(t,c);let o={children:["",{children:["vi",{children:["(administrator)",{children:["dashboard",{children:["products",{children:["coupon",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,21478)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\products\\coupon\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,41529)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15097)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\products\\coupon\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/vi/(administrator)/dashboard/products/coupon/page",pathname:"/vi/dashboard/products/coupon",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6452:(e,t,r)=>{Promise.resolve().then(r.bind(r,21478))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15974:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("pencil-line",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}],["path",{d:"m15 5 3 3",key:"1w25hb"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21478:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(administrator)\\\\dashboard\\\\products\\\\coupon\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\products\\coupon\\page.tsx","default")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35071:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},42836:(e,t,r)=>{Promise.resolve().then(r.bind(r,86851))},45213:(e,t,r)=>{"use strict";r.d(t,{S:()=>k});var s=r(60687),n=r(43210),i=r(98599),a=r(11273),l=r(70569),c=r(65551),o=r(83721),d=r(18853),u=r(46059),h=r(3416),x="Checkbox",[m,p]=(0,a.A)(x),[g,f]=m(x),j=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:a,checked:o,defaultChecked:d,required:u,disabled:m,value:p="on",onCheckedChange:f,form:j,...b}=e,[v,w]=n.useState(null),D=(0,i.s)(t,e=>w(e)),k=n.useRef(!1),C=!v||j||!!v.closest("form"),[I,P]=(0,c.i)({prop:o,defaultProp:d??!1,onChange:f,caller:x}),M=n.useRef(I);return n.useEffect(()=>{let e=v?.form;if(e){let t=()=>P(M.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[v,P]),(0,s.jsxs)(g,{scope:r,state:I,disabled:m,children:[(0,s.jsx)(h.sG.button,{type:"button",role:"checkbox","aria-checked":N(I)?"mixed":I,"aria-required":u,"data-state":A(I),"data-disabled":m?"":void 0,disabled:m,value:p,...b,ref:D,onKeyDown:(0,l.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(e.onClick,e=>{P(e=>!!N(e)||!e),C&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),C&&(0,s.jsx)(y,{control:v,bubbles:!k.current,name:a,value:p,checked:I,required:u,disabled:m,form:j,style:{transform:"translateX(-100%)"},defaultChecked:!N(d)&&d})]})});j.displayName=x;var b="CheckboxIndicator",v=n.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:n,...i}=e,a=f(b,r);return(0,s.jsx)(u.C,{present:n||N(a.state)||!0===a.state,children:(0,s.jsx)(h.sG.span,{"data-state":A(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});v.displayName=b;var y=n.forwardRef(({__scopeCheckbox:e,control:t,checked:r,bubbles:a=!0,defaultChecked:l,...c},u)=>{let x=n.useRef(null),m=(0,i.s)(x,u),p=(0,o.Z)(r),g=(0,d.X)(t);n.useEffect(()=>{let e=x.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==r&&t){let s=new Event("click",{bubbles:a});e.indeterminate=N(r),t.call(e,!N(r)&&r),e.dispatchEvent(s)}},[p,r,a]);let f=n.useRef(!N(r)&&r);return(0,s.jsx)(h.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??f.current,...c,tabIndex:-1,ref:m,style:{...c.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return"indeterminate"===e}function A(e){return N(e)?"indeterminate":e?"checked":"unchecked"}y.displayName="CheckboxBubbleInput";var w=r(13964),D=r(77272);function k({className:e,...t}){return(0,s.jsx)(j,{"data-slot":"checkbox",className:(0,D.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(v,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(w.A,{className:"size-3.5"})})})}},48405:(e,t,r)=>{"use strict";r.d(t,{dK:()=>c,Iu:()=>o,cU:()=>d,n$:()=>u,WA:()=>x,Eb:()=>h});var s=r(60687);r(43210);let n=(0,r(62688).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var i=r(14952),a=r(77272),l=r(51156);function c({className:e,...t}){return(0,s.jsx)("nav",{role:"navigation","aria-label":"pagination","data-slot":"pagination",className:(0,a.cn)("mx-auto flex w-full justify-center",e),...t})}function o({className:e,...t}){return(0,s.jsx)("ul",{"data-slot":"pagination-content",className:(0,a.cn)("flex flex-row items-center gap-1",e),...t})}function d({...e}){return(0,s.jsx)("li",{"data-slot":"pagination-item",...e})}function u({className:e,isActive:t,size:r="icon",...n}){return(0,s.jsx)("a",{"aria-current":t?"page":void 0,"data-slot":"pagination-link","data-active":t,className:(0,a.cn)((0,l.r)({variant:t?"outline":"ghost",size:r}),e),...n})}function h({className:e,...t}){return(0,s.jsxs)(u,{"aria-label":"Go to previous page",size:"default",className:(0,a.cn)("gap-1 px-2.5 sm:pl-2.5",e),...t,children:[(0,s.jsx)(n,{}),(0,s.jsx)("span",{className:"hidden sm:block",children:"Previous"})]})}function x({className:e,...t}){return(0,s.jsxs)(u,{"aria-label":"Go to next page",size:"default",className:(0,a.cn)("gap-1 px-2.5 sm:pr-2.5",e),...t,children:[(0,s.jsx)("span",{className:"hidden sm:block",children:"Next"}),(0,s.jsx)(i.A,{})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55925:(e,t,r)=>{"use strict";r.d(t,{Lt:()=>L,Rx:()=>F,Zr:()=>H,EO:()=>T,$v:()=>z,ck:()=>S,wd:()=>V,r7:()=>_,tv:()=>E});var s=r(60687),n=r(43210),i=r(11273),a=r(98599),l=r(30194),c=r(70569),o=r(8730),d="AlertDialog",[u,h]=(0,i.A)(d,[l.Hs]),x=(0,l.Hs)(),m=e=>{let{__scopeAlertDialog:t,...r}=e,n=x(t);return(0,s.jsx)(l.bL,{...n,...r,modal:!0})};m.displayName=d;var p=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=x(r);return(0,s.jsx)(l.l9,{...i,...n,ref:t})});p.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:t,...r}=e,n=x(t);return(0,s.jsx)(l.ZL,{...n,...r})};g.displayName="AlertDialogPortal";var f=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=x(r);return(0,s.jsx)(l.hJ,{...i,...n,ref:t})});f.displayName="AlertDialogOverlay";var j="AlertDialogContent",[b,v]=u(j),y=(0,o.Dc)("AlertDialogContent"),N=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,children:i,...o}=e,d=x(r),u=n.useRef(null),h=(0,a.s)(t,u),m=n.useRef(null);return(0,s.jsx)(l.G$,{contentName:j,titleName:A,docsSlug:"alert-dialog",children:(0,s.jsx)(b,{scope:r,cancelRef:m,children:(0,s.jsxs)(l.UC,{role:"alertdialog",...d,...o,ref:h,onOpenAutoFocus:(0,c.m)(o.onOpenAutoFocus,e=>{e.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,s.jsx)(y,{children:i}),(0,s.jsx)(M,{contentRef:u})]})})})});N.displayName=j;var A="AlertDialogTitle",w=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=x(r);return(0,s.jsx)(l.hE,{...i,...n,ref:t})});w.displayName=A;var D="AlertDialogDescription",k=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=x(r);return(0,s.jsx)(l.VY,{...i,...n,ref:t})});k.displayName=D;var C=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,i=x(r);return(0,s.jsx)(l.bm,{...i,...n,ref:t})});C.displayName="AlertDialogAction";var I="AlertDialogCancel",P=n.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=v(I,r),c=x(r),o=(0,a.s)(t,i);return(0,s.jsx)(l.bm,{...c,...n,ref:o})});P.displayName=I;var M=({contentRef:e})=>{let t=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${D}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return n.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},q=r(77272),R=r(29523);function L({...e}){return(0,s.jsx)(m,{"data-slot":"alert-dialog",...e})}function E({...e}){return(0,s.jsx)(p,{"data-slot":"alert-dialog-trigger",...e})}function G({...e}){return(0,s.jsx)(g,{"data-slot":"alert-dialog-portal",...e})}function O({className:e,...t}){return(0,s.jsx)(f,{"data-slot":"alert-dialog-overlay",className:(0,q.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function T({className:e,...t}){return(0,s.jsxs)(G,{children:[(0,s.jsx)(O,{}),(0,s.jsx)(N,{"data-slot":"alert-dialog-content",className:(0,q.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function V({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,q.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function S({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,q.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function _({className:e,...t}){return(0,s.jsx)(w,{"data-slot":"alert-dialog-title",className:(0,q.cn)("text-lg font-semibold",e),...t})}function z({className:e,...t}){return(0,s.jsx)(k,{"data-slot":"alert-dialog-description",className:(0,q.cn)("text-muted-foreground text-sm",e),...t})}function F({className:e,...t}){return(0,s.jsx)(C,{className:(0,q.cn)((0,R.r)(),e),...t})}function H({className:e,...t}){return(0,s.jsx)(P,{className:(0,q.cn)((0,R.r)({variant:"outline"}),e),...t})}},59666:(e,t,r)=>{"use strict";r.d(t,{A0:()=>a,BF:()=>l,Hj:()=>c,XI:()=>i,nA:()=>d,nd:()=>o,r6:()=>u});var s=r(60687);r(43210);var n=r(77272);function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,n.cn)("w-full caption-bottom text-sm",e),...t})})}function a({className:e,...t}){return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,n.cn)("[&_tr]:border-b",e),...t})}function l({className:e,...t}){return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,n.cn)("[&_tr:last-child]:border-0",e),...t})}function c({className:e,...t}){return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function o({className:e,...t}){return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,n.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function d({className:e,...t}){return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,n.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function u({className:e,...t}){return(0,s.jsx)("caption",{"data-slot":"table-caption",className:(0,n.cn)("text-muted-foreground mt-4 text-sm",e),...t})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},86851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var s=r(60687),n=r(43210),i=r(27605),a=r(7552),l=r(97902),c=r(51156),o=r(69448);let d=(0,r(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var u=r(35071),h=r(15974),x=r(96362),m=r(59666),p=r(55925),g=r(23020),f=r(48405),j=r(74431),b=r(45213),v=r(37590),y=r(31725);function N(){let[e,t]=(0,n.useState)([]),[r,N]=(0,n.useState)(!1),[A,w]=(0,n.useState)(null),[D,k]=(0,n.useState)("all"),[C,I]=(0,n.useState)("none"),[P,M]=(0,n.useState)(""),[q,R]=(0,n.useState)(1),L=Math.ceil(e.length/10),E=(0,i.mN)(),{register:G,handleSubmit:O,reset:T,setValue:V,formState:{errors:S}}=E,_=e=>{T({discountID:e.discountID,discountDescription:e.discountDescription,discountPercent:e.discountPercent,expireDate:e.expireDate?e.expireDate.slice(0,10):"",isActive:e.isActive,usageLimit:e.usageLimit||0,usedCount:e.usedCount||0,minOrderValue:e.minOrderValue||0,maxDiscountAmount:e.maxDiscountAmount||0}),w(e),N(!0)},z=async e=>{try{if(!await (0,y.Ny)(e))return void v.Ay.error("X\xf3a m\xe3 giảm gi\xe1 thất bại. Vui l\xf2ng thử lại.");v.Ay.success("X\xf3a m\xe3 giảm gi\xe1 th\xe0nh c\xf4ng!"),t(t=>t.filter(t=>t.discountID!==e))}catch(e){v.Ay.error("X\xf3a m\xe3 giảm gi\xe1 thất bại. Vui l\xf2ng thử lại."),console.error("Failed to delete discount:",e);return}},F=async e=>{let r={...e,discountPercent:Number(e.discountPercent),usageLimit:e.usageLimit?Number(e.usageLimit):void 0,usedCount:e.usedCount?Number(e.usedCount):0,minOrderValue:e.minOrderValue?Number(e.minOrderValue):void 0,maxDiscountAmount:e.maxDiscountAmount?Number(e.maxDiscountAmount):void 0,isActive:!!e.isActive};try{if(A){if(!await (0,y.Vr)(r))throw v.Ay.error("Cập nhật m\xe3 giảm gi\xe1 thất bại"),Error("Update failed");t(t=>t.map(t=>t.discountID===e.discountID?{...t,...r}:t))}else{let e=await (0,y.aJ)(r);t(t=>[...t,e.data]),v.Ay.success("M\xe3 giảm gi\xe1 đ\xe3 được th\xeam th\xe0nh c\xf4ng!")}N(!1)}catch(e){v.Ay.error("Kh\xf4ng thể lưu m\xe3 giảm gi\xe1. Kiểm tra kết nối v\xe0 thử lại."),console.error(e)}},H=e.filter(e=>"all"===D||("active"===D?e.isActive:"inactive"!==D||!e.isActive)).filter(e=>""===P.trim()||e.discountDescription.toLowerCase().includes(P.trim().toLowerCase())).sort((e,t)=>{if("none"===C)return 0;let r=e.usageLimit??0,s=t.usageLimit??0;return"asc"===C?r-s:s-r}),$=async e=>{try{let r={...e,isActive:!e.isActive};if(!await (0,y.Vr)(r))throw Error();t(t=>t.map(t=>t.discountID===e.discountID?{...t,isActive:!t.isActive}:t))}catch{v.Ay.error("Kh\xf4ng thể cập nhật trạng th\xe1i m\xe3 giảm gi\xe1. Vui l\xf2ng thử lại."),console.error("Failed to update discount status")}};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Danh S\xe1ch Chương Tr\xecnh Giảm Gi\xe1"})}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{className:"font-medium mr-2",children:"Trạng th\xe1i:"}),(0,s.jsxs)(g.l6,{value:D,onValueChange:k,children:[(0,s.jsx)(g.bq,{className:"min-w-[140px]",children:(0,s.jsx)(g.yv,{placeholder:"Chọn trạng th\xe1i"})}),(0,s.jsxs)(g.gC,{children:[(0,s.jsx)(g.eb,{value:"all",children:"Tất cả"}),(0,s.jsx)(g.eb,{value:"active",children:"Đang hoạt động"}),(0,s.jsx)(g.eb,{value:"inactive",children:"Ngừng hoạt động"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{className:"font-medium mr-2",children:"Sắp xếp theo giới hạn sử dụng:"}),(0,s.jsxs)(g.l6,{value:C,onValueChange:e=>I(e),children:[(0,s.jsx)(g.bq,{className:"min-w-[140px]",children:(0,s.jsx)(g.yv,{placeholder:"Chọn sắp xếp"})}),(0,s.jsxs)(g.gC,{children:[(0,s.jsx)(g.eb,{value:"none",children:"Kh\xf4ng sắp xếp"}),(0,s.jsx)(g.eb,{value:"asc",children:"Tăng dần"}),(0,s.jsx)(g.eb,{value:"desc",children:"Giảm dần"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"font-medium mr-2",children:"T\xecm theo m\xf4 tả:"}),(0,s.jsx)("input",{type:"text",value:P,onChange:e=>M(e.target.value),className:"border rounded px-2 py-1",placeholder:"Nhập m\xf4 tả..."})]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(m.XI,{children:[(0,s.jsx)(m.A0,{children:(0,s.jsxs)(m.Hj,{children:[(0,s.jsx)(m.nd,{children:"M\xe3"}),(0,s.jsx)(m.nd,{children:"M\xf4 tả"}),(0,s.jsx)(m.nd,{children:"Phần trăm"}),(0,s.jsx)(m.nd,{children:"Ng\xe0y hết hạn"}),(0,s.jsx)(m.nd,{children:"Trạng th\xe1i"}),(0,s.jsx)(m.nd,{children:"Giới hạn"}),(0,s.jsx)(m.nd,{children:"Đ\xe3 d\xf9ng"}),(0,s.jsx)(m.nd,{children:"Đơn tối thiểu"}),(0,s.jsx)(m.nd,{children:"Giảm tối đa"}),(0,s.jsx)(m.nd,{children:"Ng\xe0y tạo"}),(0,s.jsx)(m.nd,{children:"H\xe0nh động"})]})}),(0,s.jsx)(m.BF,{children:H.slice((q-1)*10,10*q).map(e=>(0,s.jsxs)(m.Hj,{children:[(0,s.jsx)(m.nA,{children:e.discountID}),(0,s.jsx)(m.nA,{className:"max-w-[100px] truncate",children:e.discountDescription}),(0,s.jsxs)(m.nA,{children:[e.discountPercent,"%"]}),(0,s.jsx)(m.nA,{children:e.expireDate?e.expireDate.slice(0,10):""}),(0,s.jsx)(m.nA,{children:(0,s.jsxs)("button",{className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-semibold hover:bg-green-50 hover:cursor-pointer ${e.isActive?"bg-green-100 text-green-700":"bg-gray-200 text-gray-500"}`,title:"Bấm để đổi trạng th\xe1i",onClick:()=>$(e),children:[e.isActive?(0,s.jsx)(d,{className:"w-4 h-4"}):(0,s.jsx)(u.A,{className:"w-4 h-4"}),e.isActive?"Hoạt động":"Hết hạn"]})}),(0,s.jsx)(m.nA,{children:e.usageLimit??""}),(0,s.jsx)(m.nA,{children:e.usedCount??0}),(0,s.jsx)(m.nA,{children:e.minOrderValue?(0,j.A)(e.minOrderValue):""}),(0,s.jsx)(m.nA,{children:e.maxDiscountAmount?(0,j.A)(e.maxDiscountAmount):""}),(0,s.jsx)(m.nA,{children:e.createdAt?e.createdAt.slice(0,10):""}),(0,s.jsxs)(m.nA,{className:"flex items-center justify-center",children:[(0,s.jsx)("button",{className:"text-blue-600 mr-2 cursor-pointer",title:"Chỉnh sửa",onClick:()=>_(e),children:(0,s.jsx)(h.A,{className:"w-4 h-4"})}),(0,s.jsxs)(p.Lt,{children:[(0,s.jsx)(p.tv,{asChild:!0,children:(0,s.jsx)("button",{className:"text-red-600",title:"X\xf3a",children:(0,s.jsx)(x.A,{className:"w-4 h-4 cursor-pointer"})})}),(0,s.jsxs)(p.EO,{children:[(0,s.jsxs)(p.wd,{children:[(0,s.jsx)(p.r7,{children:"X\xf3a m\xe3 giảm gi\xe1"}),(0,s.jsx)(p.$v,{children:"Bạn c\xf3 chắc chắn muốn x\xf3a m\xe3 giảm gi\xe1 n\xe0y?"})]}),(0,s.jsxs)(p.ck,{children:[(0,s.jsx)(p.Zr,{children:"Hủy"}),(0,s.jsx)(p.Rx,{onClick:()=>z(e.discountID),children:"X\xf3a"})]})]})]})]})]},e.discountID))})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(f.dK,{className:"w-full flex justify-start my-4",children:(0,s.jsxs)(f.Iu,{children:[(0,s.jsx)(f.cU,{children:(0,s.jsx)(f.Eb,{href:"#",onClick:e=>{e.preventDefault(),R(e=>Math.max(1,e-1))},"aria-disabled":1===q,tabIndex:1===q?-1:0})}),Array.from({length:L},(e,t)=>t+1).map(e=>(0,s.jsx)(f.cU,{children:(0,s.jsx)(f.n$,{href:"#",isActive:e===q,onClick:t=>{t.preventDefault(),R(e)},children:e})},e)),(0,s.jsx)(f.cU,{children:(0,s.jsx)(f.WA,{href:"#",onClick:e=>{e.preventDefault(),R(e=>Math.min(L,e+1))},"aria-disabled":q===L||0===L,tabIndex:q===L||0===L?-1:0})})]})}),(0,s.jsx)("div",{className:"flex justify-end mt-6",children:(0,s.jsx)(c.$,{onClick:()=>{T({discountID:"",discountDescription:"",discountPercent:0,expireDate:"",isActive:!0,usageLimit:0,usedCount:0,minOrderValue:0,maxDiscountAmount:0}),w(null),N(!0)},className:"flex gap-2 items-center hover:cursor-pointer",children:"Th\xeam m\xe3 giảm gi\xe1"})})]}),(0,s.jsx)(a.lG,{open:r,onOpenChange:N,children:(0,s.jsxs)(a.Cf,{className:"min-w-4xl",children:[(0,s.jsx)(a.c7,{children:(0,s.jsx)(a.L3,{children:A?"Cập nhật m\xe3 giảm gi\xe1":"Th\xeam m\xe3 giảm gi\xe1"})}),(0,s.jsx)(i.Op,{...E,children:(0,s.jsxs)("form",{onSubmit:O(F),className:"space-y-3 mt-2",children:[(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"M\xe3 giảm gi\xe1"}),(0,s.jsx)(o.MJ,{children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(l.p,{...G("discountID",{required:!0}),disabled:!!A,readOnly:!!A}),(0,s.jsx)(c.$,{type:"button",onClick:()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));V("discountID",t)},variant:"outline",disabled:!!A,children:"Tạo m\xe3"})]})}),S.discountID&&(0,s.jsx)(o.C5,{children:"M\xe3 giảm gi\xe1 l\xe0 bắt buộc"})]}),(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"M\xf4 tả"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{...G("discountDescription",{required:!0}),maxLength:100})}),S.discountDescription&&(0,s.jsx)(o.C5,{children:"M\xf4 tả l\xe0 bắt buộc"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Phần trăm (%)"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{type:"number",min:1,max:100,...G("discountPercent",{required:!0,min:1,max:100})})}),S.discountPercent&&(0,s.jsx)(o.C5,{children:"Phần trăm phải từ 1-100"})]}),(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Ng\xe0y hết hạn"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{className:"!block",type:"date",...G("expireDate",{required:!0})})}),S.expireDate&&(0,s.jsx)(o.C5,{children:"Ng\xe0y hết hạn l\xe0 bắt buộc"})]}),(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Giới hạn sử dụng"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{type:"number",min:0,...G("usageLimit")})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Đ\xe3 d\xf9ng"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{type:"number",min:0,...G("usedCount")})})]}),(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Đơn tối thiểu"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{type:"text",min:0,step:1,...G("minOrderValue",{min:{value:1,message:"Gi\xe1 phải lớn hơn 1."},setValueAs:e=>{let t=Number(e);return t<1e3?1e3*t:t}}),onBlur:e=>{let t=Number(e.target.value);t>0&&t<1e3?e.target.value=(0,j.A)(1e3*t):t>0&&t>=1e3?e.target.value=(0,j.A)(t):e.target.value=""},placeholder:"e.g. 100 (sẽ l\xe0 100.000)"})})]}),(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Giảm tối đa"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(l.p,{type:"text",min:0,step:1,...G("maxDiscountAmount",{min:{value:1,message:"Gi\xe1 phải lớn hơn 1."},setValueAs:e=>{let t=Number(e);return t<1e3?1e3*t:t}}),onBlur:e=>{let t=Number(e.target.value);t>0&&t<1e3?e.target.value=(0,j.A)(1e3*t):t>0&&t>=1e3?e.target.value=(0,j.A)(t):e.target.value=""},placeholder:"e.g. 100 (sẽ l\xe0 100.000)"})})]})]}),(0,s.jsxs)(o.eI,{className:"flex items-center gap-x-2",children:[(0,s.jsx)(o.lR,{className:"text-gray-600",children:"Trạng th\xe1i"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(b.S,{...G("isActive")})})]}),(0,s.jsxs)(a.Es,{children:[(0,s.jsx)(a.HM,{asChild:!0,children:(0,s.jsx)(c.$,{type:"button",variant:"outline",children:"Hủy"})}),(0,s.jsx)(c.$,{type:"submit",children:A?"Cập nhật":"Th\xeam"})]})]})})]})})]})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96362:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(62688).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,4825,7076,4866,8601,177],()=>r(1867));module.exports=s})();
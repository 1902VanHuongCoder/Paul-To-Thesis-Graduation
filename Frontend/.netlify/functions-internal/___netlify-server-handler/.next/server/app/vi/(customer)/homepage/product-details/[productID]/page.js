(()=>{var e={};e.id=3441,e.ids=[3441],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17818:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(customer)\\\\homepage\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(customer)\\homepage\\layout.tsx","default")},18253:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(customer)\\\\homepage\\\\product-details\\\\[productID]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(customer)\\homepage\\product-details\\[productID]\\page.tsx","default")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27767:(e,t,r)=>{Promise.resolve().then(r.bind(r,18253))},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31844:(e,t,r)=>{Promise.resolve().then(r.bind(r,69568))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},46667:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var s=r(60687),i=r(43210),n=r(16189),o=r(19234),a=r(7203),c=r(56863),d=r(68418),l=r(2188),u=r(79801),p=r(84633),m=r(56286),h=r(13659),x=r(84963),f=r(94157),g=r(84082),v=r(65557),b=r(50078),y=r(48853),j=r(92411),w=r(37590),N=r(36027),P=r(34882),A=r(71156),D=r(65053);function q(){let{productID:e}=(0,n.useParams)(),{dictionary:t}=(0,j.K)(),{user:r}=(0,N.J)(),[q,k]=(0,i.useState)(null),[I,_]=(0,i.useState)(!0),[C,L]=(0,i.useState)([]),[S,F]=(0,i.useState)("description"),T=(0,i.useRef)(null),[W,E]=(0,i.useState)(!1),[R,G]=(0,i.useState)([]),[O,z]=(0,i.useState)([]),M=(0,a.hG)({extensions:[c.A,d.A,l.Ay,u.Ay,m.A,h.Ay.configure({nested:!0}),p.A.configure({types:["heading","paragraph"]}),x.Ay.configure({resizable:!0}),v.A,g.h,f.A],content:"<p>Đang tải...</p>",editable:!1,immediatelyRender:!1}),B=async e=>{if(!r)return void w.oR.error("Bạn cần đăng nhập để tương t\xe1c với b\xecnh luận");try{await (0,D.tT)(e),$()}catch(e){console.error("Error liking comment:",e),w.oR.error("Lỗi khi th\xedch b\xecnh luận.")}},K=async e=>{if(!r)return void w.oR.error("Bạn cần đăng nhập để tương t\xe1c với b\xecnh luận");try{await (0,D.Ph)(e),$()}catch(e){console.error("Error disliking comment:",e),w.oR.error("Lỗi khi kh\xf4ng th\xedch b\xecnh luận.")}},$=(0,i.useCallback)(async()=>{try{let t=await (0,D.Zg)(Number(e));Array.isArray(t)||L([]),L(t)}catch(e){L([]),console.error("Error fetching comments:",e)}},[e]);return I?(0,s.jsx)(b.cW,{}):q?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"mx-auto py-8",children:[(0,s.jsx)("div",{className:"pb-6 px-6",children:(0,s.jsx)(b.Qp,{items:[{label:t?.navHomepage||"Trang chủ",href:"/"},{label:q.productName}]})}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)(o.default,{productID:Number(e),productName:q.productName,rating:q.rating,productPrice:q.productPrice,productPriceSale:q.productPriceSale,quantityAvailable:q.quantityAvailable,sku:`SP${q.productID}`,category:q.category,origin:q.origin,Tags:q.Tags,images:q.images}),(0,s.jsx)("div",{}),(0,s.jsx)("div",{ref:T}),(0,s.jsxs)("div",{className:"relative w-full min-h-[400px] border-primary/20 border-1 rounded-lg mt-10",children:[(0,s.jsxs)("div",{className:"absolute -top-[30px] left-0 w-full space-x-2 flex justify-center",children:[(0,s.jsx)("button",{onClick:()=>F("description"),"data-currenttab":"description"===S?"description":void 0,"data-iscomments":"comments"===S?"comments":void 0,className:"px-6 py-4 bg-gray-200 rounded-full data-[currenttab=description]:text-white data-[currenttab=description]:bg-primary data-[isComments=comments]:hover:cursor-pointer border-5 border-white",children:"Chi tiết sản phẩm"}),(0,s.jsx)("button",{onClick:()=>F("comments"),"data-currenttab":"comments"===S?"comments":void 0,"data-isdiscription":"description"===S?"description":void 0,className:"px-6 py-4 bg-gray-200 rounded-full data-[currenttab=comments]:text-white data-[currenttab=comments]:bg-primary  data-[isDiscription=description]:hover:cursor-pointer border-5 border-white",children:"B\xecnh luận"})]}),(0,s.jsx)("div",{className:"w-full h-full mt-[50px] px-6 ",children:"description"===S?(0,s.jsx)("div",{className:"prose prose-blue max-w-none tiptap-content mb-8",children:q?.description&&(0,s.jsx)(a.$Z,{editor:M,className:"tiptap-editor"})}):(0,s.jsx)("div",{className:"mt-12 flex flex-col justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-4xl font-semibold",children:"B\xecnh luận"}),(0,s.jsx)("div",{className:"space-y-6 py-6 mb-[150px]",children:C.length>0?C.map((e,t)=>(0,s.jsx)(b.LB,{index:t,commentsLength:C.length,commentID:e.commentID,userID:e.userID,avatar:e.user?.avatar||"",name:e.user?.username||`User ${e.userID}`,date:new Date(e.commentAt).toLocaleDateString(),comment:e.content,likeCount:e.likeCount,dislikeCount:e.dislikeCount,onLike:()=>B(e.commentID),onDislike:()=>K(e.commentID),reFetchComments:$,rating:e.rating,type:"product"},t)):(0,s.jsx)("div",{className:"text-gray-500 py-4",children:"Chưa c\xf3 b\xecnh luận n\xe0o."})})]})})})]})]}),(0,s.jsx)("div",{className:"w-full mt-12 border-t-1 border-primary/10 pt-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[" ",(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Sản phẩm li\xean quan"}),O.length>0?(0,s.jsxs)(y.FN,{className:"relative w-full",children:[(0,s.jsx)(y.Wk,{children:O.map(e=>(0,s.jsx)(y.A7,{className:"max-w-xs",children:(0,s.jsx)(A.default,{productID:e.productID,productName:e.productName,image:e.images?.[0]||"",title:e.productName,discountPrice:e.productPriceSale?e.productPriceSale:0,price:e.productPrice,rating:e.rating})},e.productID))}),(0,s.jsx)(y.Q8,{variant:"normal",className:"flex justify-center items-center"}),(0,s.jsx)(y.Oj,{variant:"normal",className:"flex justify-center items-center"})]}):(0,s.jsx)("div",{className:"w-full h-40 flex items-center justify-center text-gray-600",children:"Kh\xf4ng c\xf3 sản phẩm li\xean quan"})]})})]}),(0,s.jsx)(P.P.div,{initial:{y:120},animate:W?{y:0}:{y:120},transition:{type:"spring",stiffness:300,damping:30},style:{position:"fixed",bottom:0,left:0,width:"100%",zIndex:90},children:(0,s.jsx)("div",{className:"bg-white rounded-tr-xl rounded-tl-xl shadow-[var(--add-to-cart-panel-shadow)] border-t border-gray-200",children:(0,s.jsx)(b.zw,{productImage:q&&q.images?q.images[0]:"",productName:q.productName,productID:q.productID})})})]}):(0,s.jsx)("div",{className:"p-8 text-red-500",children:"Kh\xf4ng t\xecm thấy sản phẩm."})}r(59785)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},69568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(60687),i=r(50078),n=r(37590),o=r(95282),a=r.n(o),c=r(43210),d=r(2596),l=r(73412),u=r(57762);let p=({children:e})=>{let{isChatOpen:t}=(0,l.Y)();return(0,c.useEffect)(()=>{t?(u.A.emit("leave_room","chat-notification"),u.A.off("chat-notification")):u.A.emit("join_room","chat-notification");let e=e=>{n.Ay.custom(t=>(0,s.jsx)(d.A,{t:t,createdAt:e.createdAt,username:e.username,userAvatar:e.userAvatar,type:"chat"}),{duration:500,position:"bottom-right",style:{width:"400px",maxWidth:"100%"}})};return u.A.on("chat-notification",e),()=>{u.A.emit("leave_room","chat-notification"),u.A.off("chat-notification",e)}},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{children:(0,s.jsx)("meta",{name:"description",content:"NFeam House - Nền tảng n\xf4ng nghiệp th\xf4ng minh, cung cấp giải ph\xe1p quản l\xfd, tư vấn, v\xe0 kết nối cho nh\xe0 n\xf4ng hiện đại."})}),(0,s.jsxs)("div",{className:"relative max-w-screen min-h-screen overflow-hidden font-sans",children:[(0,s.jsx)(n.l$,{position:"top-right"}),(0,s.jsx)(i.jl,{}),(0,s.jsx)(i.Vx,{}),e,(0,s.jsx)(i.wi,{})]})]})}},74075:e=>{"use strict";e.exports=require("zlib")},78692:(e,t,r)=>{Promise.resolve().then(r.bind(r,17818))},78991:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),n=r(88170),o=r.n(n),a=r(30893),c={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);r.d(t,c);let d={children:["",{children:["vi",{children:["(customer)",{children:["homepage",{children:["product-details",{children:["[productID]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,18253)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(customer)\\homepage\\product-details\\[productID]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,17818)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(customer)\\homepage\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15097)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(customer)\\homepage\\product-details\\[productID]\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/vi/(customer)/homepage/product-details/[productID]/page",pathname:"/vi/homepage/product-details/[productID]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80911:(e,t,r)=>{Promise.resolve().then(r.bind(r,46667))},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},95282:(e,t)=>{"use strict";function r(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,4825,7076,785,9553,8601],()=>r(78991));module.exports=s})();
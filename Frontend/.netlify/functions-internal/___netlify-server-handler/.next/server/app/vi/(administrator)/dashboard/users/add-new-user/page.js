(()=>{var e={};e.id=9246,e.ids=[9246],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28396:(e,s,r)=>{Promise.resolve().then(r.bind(r,35296))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35296:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Learning Web\\\\Thesis\\\\Frontend\\\\src\\\\app\\\\vi\\\\(administrator)\\\\dashboard\\\\users\\\\add-new-user\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\users\\add-new-user\\page.tsx","default")},51850:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(60687),n=r(43210),a=r(97902),i=r(23020),l=r(78148),d=r(12597),o=r(13861),c=r(51156),h=r(37590),u=r(16189);r(40292);var x=r(23045);function m(){let e=(0,u.useRouter)(),[s,r]=(0,n.useState)(""),[m,p]=(0,n.useState)(""),[g,f]=(0,n.useState)(""),[b,j]=(0,n.useState)(""),[v,y]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),[w,q]=(0,n.useState)(""),[C,S]=(0,n.useState)(""),[T,P]=(0,n.useState)(""),[F,A]=(0,n.useState)("cus"),[_,X]=(0,n.useState)([]),[L,M]=(0,n.useState)([]),[V,$]=(0,n.useState)([]),[D,J]=(0,n.useState)(!1),[E,R]=(0,n.useState)(""),[z,G]=(0,n.useState)(""),[W,K]=(0,n.useState)(!1),[H,I]=(0,n.useState)(!1),[Q,B]=(0,n.useState)(!1),O=async t=>{if(t&&t.preventDefault(),R(""),G(""),!s.trim()||!m.trim()||!g.trim()||!b.trim()||!v.trim()||!N||!w||!C)return void h.Ay.error("Vui l\xf2ng nhập đầy đủ th\xf4ng tin!");if(g!==b)return void h.Ay.error("Mật khẩu v\xe0 x\xe1c nhận mật khẩu kh\xf4ng khớp!");J(!0);try{let t=new Date,n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getFullYear()),l=Math.floor(1e4*Math.random()).toString().padStart(4,"0"),d=`USR${n}${a}${i}${l}L`,o=await (0,x.kz)({userID:d,username:s,email:m,password:g,role:F},`${T}, ${C}, ${w}, ${N}`,v,!0);o?o.message?R(o.message):(h.Ay.success("Tạo người d\xf9ng th\xe0nh c\xf4ng!"),r(""),p(""),f(""),j(""),y(""),k(""),q(""),S(""),P(""),A("cus"),e.push("/vi/dashboard/users")):h.Ay.error("C\xf3 lỗi khi tạo người d\xf9ng. Kiểm tra kết nối v\xe0 thử lại!")}catch(e){console.error("Error during registration:",e),h.Ay.error("C\xf3 lỗi xảy ra. Kiểm tra kết nối mạng v\xe0 thử lại")}finally{J(!1)}};return(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2 text-primary",children:"Th\xeam T\xe0i Khoản Người D\xf9ng"}),(0,t.jsx)("p",{className:"mb-6 text-gray-600",children:"Nhập th\xf4ng tin để tạo t\xe0i khoản mới cho người d\xf9ng."}),(0,t.jsxs)("form",{className:"space-y-6",onSubmit:O,children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"username",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["T\xean người d\xf9ng ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(a.p,{autoComplete:"username",id:"username",type:"text",placeholder:"T\xean người d\xf9ng",value:s,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50",onChange:e=>r(e.target.value),required:!0,minLength:3,maxLength:20}),s&&s.length<3&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"T\xean người d\xf9ng phải c\xf3 \xedt nhất 3 k\xfd tự."}),s&&s.length>20&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"T\xean người d\xf9ng phải ngắn hơn 20 k\xfd tự."})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"email",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(a.p,{autoComplete:"email",id:"email",type:"email",placeholder:"Email",value:m,onChange:e=>p(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50"}),m&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m)&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Email kh\xf4ng hợp lệ."})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"password",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Mật khẩu ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.p,{id:"password",type:W?"text":"password",autoComplete:"new-password",placeholder:"Mật khẩu",value:g,onChange:e=>f(e.target.value),required:!0,minLength:6,maxLength:20,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 pr-12"}),(0,t.jsx)("button",{type:"button",tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-primary focus:outline-none",onClick:()=>K(e=>!e),"aria-label":W?"Ẩn mật khẩu":"Hiện mật khẩu",children:W?(0,t.jsx)(d.A,{size:20}):(0,t.jsx)(o.A,{size:20})})]}),g&&g.length<6&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự."}),g&&g.length>20&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Mật khẩu phải nhỏ hơn 20 k\xfd tự."})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"confirmPassword",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["X\xe1c nhận mật khẩu ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.p,{id:"confirmPassword",autoComplete:"new-password",type:H?"text":"password",placeholder:"X\xe1c nhận mật khẩu",value:b,onChange:e=>j(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 pr-12"}),(0,t.jsx)("button",{type:"button",tabIndex:-1,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-primary focus:outline-none",onClick:()=>I(e=>!e),"aria-label":H?"Ẩn x\xe1c nhận mật khẩu":"Hiện x\xe1c nhận mật khẩu",children:H?(0,t.jsx)(d.A,{size:20}):(0,t.jsx)(o.A,{size:20})})]}),b&&b!==g&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Mật khẩu x\xe1c nhận kh\xf4ng khớp."})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"phone",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Số điện thoại ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(a.p,{autoComplete:"tel",id:"phone",type:"text",placeholder:"10 số (XX XXXX XXXX)",value:v,onChange:e=>y(e.target.value),required:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50"}),v&&!/^0\d{9,10}$/.test(v)&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Số điện thoại kh\xf4ng hợp lệ."})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"role",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Vai tr\xf2 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)(i.l6,{value:F,onValueChange:A,children:[(0,t.jsx)(i.bq,{id:"role",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50",children:(0,t.jsx)(i.yv,{placeholder:"Chọn vai tr\xf2"})}),(0,t.jsx)(i.gC,{className:"max-h-60",children:(0,t.jsxs)(i.s3,{children:[(0,t.jsx)(i.TR,{children:"Vai tr\xf2"}),(0,t.jsx)(i.eb,{value:"cus",children:"Kh\xe1ch h\xe0ng"}),(0,t.jsx)(i.eb,{value:"sta",children:"Nh\xe2n vi\xean"}),(0,t.jsx)(i.eb,{value:"adm",children:"Quản trị vi\xean"})]})})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"province",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Tỉnh/Th\xe0nh phố ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)(i.l6,{defaultValue:"Cần Thơ",value:N,onValueChange:e=>{k(e),q(""),S(""),B(!0)},children:[(0,t.jsx)(i.bq,{id:"province",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50",onBlur:()=>B(!0),children:(0,t.jsx)(i.yv,{placeholder:"Chọn tỉnh/th\xe0nh phố"})}),(0,t.jsx)(i.gC,{className:"max-h-60",children:(0,t.jsxs)(i.s3,{children:[(0,t.jsx)(i.TR,{children:"Tỉnh/Th\xe0nh phố"}),_.map(e=>(0,t.jsx)(i.eb,{value:e.name,children:e.name},e.code))]})})]}),Q&&!N&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Vui l\xf2ng chọn tỉnh/th\xe0nh phố"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"district",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Quận/Huyện ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)(i.l6,{value:w,onValueChange:e=>{q(e),S("")},disabled:!N,children:[(0,t.jsx)(i.bq,{id:"district",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50",disabled:!N,children:(0,t.jsx)(i.yv,{placeholder:"Chọn quận/huyện"})}),(0,t.jsx)(i.gC,{className:"max-h-60",children:(0,t.jsxs)(i.s3,{children:[(0,t.jsx)(i.TR,{children:"Quận/Huyện"}),L.map(e=>(0,t.jsx)(i.eb,{value:e.name,children:e.name},e.code))]})})]}),N&&!w&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Vui l\xf2ng chọn quận/huyện"})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(l.J,{htmlFor:"ward",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Phường/X\xe3 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)(i.l6,{value:C,onValueChange:e=>S(e),disabled:!w,children:[(0,t.jsx)(i.bq,{id:"ward",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50",disabled:!w,children:(0,t.jsx)(i.yv,{placeholder:"Chọn phường/x\xe3"})}),(0,t.jsx)(i.gC,{className:"max-h-60",children:(0,t.jsxs)(i.s3,{children:[(0,t.jsx)(i.TR,{children:"Phường/X\xe3"}),V.map(e=>(0,t.jsx)(i.eb,{value:e.name,children:e.name},e.code))]})})]}),w&&!C&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Vui l\xf2ng chọn phường/x\xe3"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.J,{htmlFor:"detailAddress",className:"block mb-1 font-medium text-sm text-gray-600 pl-0",children:["Địa chỉ cụ thể ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)(a.p,{autoComplete:"address-line1",id:"detailAddress",type:"text",placeholder:"Địa chỉ cụ thể (số nh\xe0, t\xean đường...)",value:T,onChange:e=>P(e.target.value),required:!0,minLength:5,maxLength:100,className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50"}),T&&T.length<5&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Địa chỉ phải c\xf3 \xedt nhất 5 k\xfd tự."}),T&&T.length>100&&(0,t.jsx)("span",{className:"text-red-500 text-xs",children:"Địa chỉ phải nhỏ hơn 100 k\xfd tự."})]})]}),E&&(0,t.jsx)("div",{className:"text-red-600 font-medium text-center",children:E}),z&&(0,t.jsx)("div",{className:"text-green-600 font-medium text-center",children:z}),(0,t.jsx)("div",{className:"flex flex-row gap-2 justify-end mt-4",children:(0,t.jsx)(c.$,{variant:"default",className:"flex justify-center items-center bg-primary text-white hover:bg-secondary hover:border-secondary px-6 py-3 rounded-lg text-base font-semibold cursor-pointer",type:"submit",disabled:D,children:D?"Đang tạo...":"Tạo người d\xf9ng"})})]})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},91948:(e,s,r)=>{Promise.resolve().then(r.bind(r,51850))},94735:e=>{"use strict";e.exports=require("events")},99349:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>o});var t=r(65239),n=r(48088),a=r(88170),i=r.n(a),l=r(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(s,d);let o={children:["",{children:["vi",{children:["(administrator)",{children:["dashboard",{children:["users",{children:["add-new-user",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,35296)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\users\\add-new-user\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,41529)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15097)),"D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Learning Web\\Thesis\\Frontend\\src\\app\\vi\\(administrator)\\dashboard\\users\\add-new-user\\page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/vi/(administrator)/dashboard/users/add-new-user/page",pathname:"/vi/dashboard/users/add-new-user",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})}};var s=require("../../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[4447,4825,7076,4866,8601,177],()=>r(99349));module.exports=t})();